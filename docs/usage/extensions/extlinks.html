
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <title>sphinx.ext.extlinks – Markup to shorten external links &#8212; Sphinx 2.1.0+/54c2e3a 文档</title>
    <link rel="stylesheet" href="../../_static/sphinx13.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx 2.1.0+/54c2e3a 文档 中搜索"
          href="../../_static/opensearch.xml"/>

    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="sphinx.ext.githubpages – Publish HTML docs in GitHub Pages" href="githubpages.html" />
    <link rel="prev" title="sphinx.ext.doctest – Test snippets in the documentation" href="doctest.html" />
<link rel="canonical" href="http://www.sphinx-doc.org/en/master/usage/extensions/extlinks.html" />

<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css' />
 
<style type="text/css">
  table.right {
    float: right;
    margin-left: 20px;
  }

  table.right td {
    border: 1px solid #ccc;
  }

    {
    % if pagename=='index'%
  }

  .related {
    display: none;
  }

    {
    % endif %
  }
</style>
<script type="text/javascript">
  // intelligent scrolling of the sidebar content
  $(window).scroll(function () {
    var sb = $('.sphinxsidebarwrapper');
    var win = $(window);
    var sbh = sb.height();
    var offset = $('.sphinxsidebar').position()['top'];
    var wintop = win.scrollTop();
    var winbot = wintop + win.innerHeight();
    var curtop = sb.position()['top'];
    var curbot = curtop + sbh;
    // does sidebar fit in window?
    if (sbh < win.innerHeight()) {
      // yes: easy case -- always keep at the top
      sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
        $(document).height() - sbh - 200
      ]));
    } else {
      // no: only scroll if top/bottom edge of sidebar is at
      // top/bottom edge of window
      if (curtop > wintop && curbot > winbot) {
        sb.css('top', $u.max([wintop - offset - 10, 0]));
      } else if (curtop < wintop && curbot < winbot) {
        sb.css('top', $u.min([winbot - sbh - offset - 20,
          $(document).height() - sbh - 200
        ]));
      }
    }
  });
</script>

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../../index.html">主页</a></li>
    <li><a href="../installation.html">安装</a></li>
    <li><a href="../../contents.html">文档</a></li>
    <li><a href="../../develop.html">扩展/开发</a></li>
  </ul>
  <div>
    <a href="../../index.html">
      <img src="../../_static/sphinxheader.png" alt="SPHINX" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="githubpages.html" title="sphinx.ext.githubpages – Publish HTML docs in GitHub Pages"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="doctest.html" title="sphinx.ext.doctest – Test snippets in the documentation"
             accesskey="P">上一页</a> |</li>
<li><a href="../../index.html">主页</a>&#160;|</li>
<li><a href="../../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">扩展</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>上一个主题</h4>
  <p class="topless"><a href="doctest.html"
                        title="上一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.doctest</span></code> – Test snippets in the documentation</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="githubpages.html"
                        title="下一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.githubpages</span></code> – Publish HTML docs in GitHub Pages</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/usage/extensions/extlinks.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-sphinx.ext.extlinks">
<span id="sphinx-ext-extlinks-markup-to-shorten-external-links"></span><h1><a class="reference internal" href="#module-sphinx.ext.extlinks" title="sphinx.ext.extlinks: Allow inserting external links with common base URLs easily."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.extlinks</span></code></a> – Markup to shorten external links<a class="headerlink" href="#module-sphinx.ext.extlinks" title="永久链接至标题">¶</a></h1>
<p><em>模块作者：Georg Brandl</em></p>
<div class="versionadded">
<p><span class="versionmodified added">1.0 新版功能.</span></p>
</div>
<p>This extension is meant to help with the common pattern of having many external
links that point to URLs on one and the same site, e.g. links to bug trackers,
version control web interfaces, or simply subpages in other websites.  It does
so by providing aliases to base URLs, so that you only need to give the subpage
name when creating a link.</p>
<p>Let’s assume that you want to include many links to issues at the Sphinx
tracker, at <code class="samp docutils literal notranslate"><span class="pre">https://github.com/sphinx-doc/sphinx/issues/</span><em><span class="pre">num</span></em></code>.  Typing
this URL again and again is tedious, so you can use <a class="reference internal" href="#module-sphinx.ext.extlinks" title="sphinx.ext.extlinks: Allow inserting external links with common base URLs easily."><code class="xref py py-mod docutils literal notranslate"><span class="pre">extlinks</span></code></a>
to avoid repeating yourself.</p>
<p>The extension adds a config value:</p>
<dl class="confval">
<dt id="confval-extlinks">
<code class="descname">extlinks</code><a class="headerlink" href="#confval-extlinks" title="永久链接至目标">¶</a></dt>
<dd><p>This config value must be a dictionary of external sites, mapping unique
short alias names to a base URL and a <em>prefix</em>.  For example, to create an
alias for the above mentioned issues, you would add</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">extlinks</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;issue&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;https://github.com/sphinx-doc/sphinx/issues/</span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;issue &#39;</span><span class="p">)}</span>
</pre></div>
</div>
<p>Now, you can use the alias name as a new role, e.g. <code class="docutils literal notranslate"><span class="pre">:issue:`123`</span></code>.  This
then inserts a link to <a class="reference external" href="https://github.com/sphinx-doc/sphinx/issues/123">https://github.com/sphinx-doc/sphinx/issues/123</a>.
As you can see, the target given in the role is substituted in the base URL
in the place of <code class="docutils literal notranslate"><span class="pre">%s</span></code>.</p>
<p>The link <em>caption</em> depends on the second item in the tuple, the <em>prefix</em>:</p>
<ul class="simple">
<li><p>If the prefix is <code class="docutils literal notranslate"><span class="pre">None</span></code>, the link caption is the full URL.</p></li>
<li><p>If the prefix is the empty string, the link caption is the partial URL
given in the role content (<code class="docutils literal notranslate"><span class="pre">123</span></code> in this case.)</p></li>
<li><p>If the prefix is a non-empty string, the link caption is the partial URL,
prepended by the prefix – in the above example, the link caption would be
<code class="docutils literal notranslate"><span class="pre">issue</span> <span class="pre">123</span></code>.</p></li>
</ul>
<p>You can also use the usual “explicit title” syntax supported by other roles
that generate links, i.e. <code class="docutils literal notranslate"><span class="pre">:issue:`this</span> <span class="pre">issue</span> <span class="pre">&lt;123&gt;`</span></code>.  In this case, the
<em>prefix</em> is not relevant.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Since links are generated from the role in the reading stage, they appear as
ordinary links to e.g. the <code class="docutils literal notranslate"><span class="pre">linkcheck</span></code> builder.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="githubpages.html" title="sphinx.ext.githubpages – Publish HTML docs in GitHub Pages"
             >下一页</a> |</li>
        <li class="right" >
          <a href="doctest.html" title="sphinx.ext.doctest – Test snippets in the documentation"
             >上一页</a> |</li>
<li><a href="../../index.html">主页</a>&#160;|</li>
<li><a href="../../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >扩展</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2007-2019, Georg Brandl and the Sphinx team.
      由 <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.0+/54c2e3a 创建。
    </div>
  </body>
</html>