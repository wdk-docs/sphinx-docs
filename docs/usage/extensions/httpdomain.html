
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <title>sphinxcontrib.httpdomain — 用于记录HTTP API的Sphinx域 &#8212; Sphinx 2.1.0+/7f2c8fd82 文档</title>
    <link rel="stylesheet" href="../../_static/sphinx13.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx 2.1.0+/7f2c8fd82 文档 中搜索"
          href="../../_static/opensearch.xml"/>

    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="sphinx-js" href="sphinx-js.html" />
    <link rel="prev" title="sphinx.ext.viewcode – 添加突出显示的源代码的链接" href="viewcode.html" />
<link rel="canonical" href="http://www.sphinx-doc.org/en/master/usage/extensions/httpdomain.html" />

<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css' />
 
<style type="text/css">
  table.right {
    float: right;
    margin-left: 20px;
  }

  table.right td {
    border: 1px solid #ccc;
  }

    {
    % if pagename=='index'%
  }

  .related {
    display: none;
  }

    {
    % endif %
  }
</style>
<script type="text/javascript">
  // intelligent scrolling of the sidebar content
  $(window).scroll(function () {
    var sb = $('.sphinxsidebarwrapper');
    var win = $(window);
    var sbh = sb.height();
    var offset = $('.sphinxsidebar').position()['top'];
    var wintop = win.scrollTop();
    var winbot = wintop + win.innerHeight();
    var curtop = sb.position()['top'];
    var curbot = curtop + sbh;
    // does sidebar fit in window?
    if (sbh < win.innerHeight()) {
      // yes: easy case -- always keep at the top
      sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
        $(document).height() - sbh - 200
      ]));
    } else {
      // no: only scroll if top/bottom edge of sidebar is at
      // top/bottom edge of window
      if (curtop > wintop && curbot > winbot) {
        sb.css('top', $u.max([wintop - offset - 10, 0]));
      } else if (curtop < wintop && curbot < winbot) {
        sb.css('top', $u.min([winbot - sbh - offset - 20,
          $(document).height() - sbh - 200
        ]));
      }
    }
  });
</script>

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../../index.html">主页</a></li>
    <li><a href="../installation.html">安装</a></li>
    <li><a href="../../contents.html">文档</a></li>
    <li><a href="../../develop.html">扩展/开发</a></li>
  </ul>
  <div>
    <a href="../../index.html">
      <img src="../../_static/sphinxheader.png" alt="SPHINX" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../../http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="sphinx-js.html" title="sphinx-js"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="viewcode.html" title="sphinx.ext.viewcode – 添加突出显示的源代码的链接"
             accesskey="P">上一页</a> |</li>
<li><a href="../../index.html">主页</a>&#160;|</li>
<li><a href="../../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">扩展</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.httpdomain</span></code> — 用于记录HTTP API的Sphinx域</a><ul>
<li><a class="reference internal" href="#additional-configuration">附加配置</a></li>
<li><a class="reference internal" href="#basic-usage">基本用法</a></li>
<li><a class="reference internal" href="#directives">指令</a><ul>
<li><a class="reference internal" href="#options">选项</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resource-fields">资源字段</a></li>
<li><a class="reference internal" href="#roles">角色</a></li>
<li><a class="reference internal" href="#sphinxcontrib-autohttp-flask-exporting-api-reference-from-flask-app"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.flask</span></code> — 从Flask应用程序导出API参考</a></li>
<li><a class="reference internal" href="#sphinxcontrib-autohttp-flaskqref-quick-api-reference-for-flask-app"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.flaskqref</span></code> — Flask app的快速API参考</a><ul>
<li><a class="reference internal" href="#id4">基本用法</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sphinxcontrib-autohttp-bottle-exporting-api-reference-from-bottle-app"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.bottle</span></code> — 从Bottle应用程序导出API参考</a></li>
<li><a class="reference internal" href="#sphinxcontrib-autohttp-tornado-exporting-api-reference-from-tornado-app"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.tornado</span></code> — 从Tornado应用程序导出API参考</a></li>
<li><a class="reference internal" href="#author-and-license">作者和许可证</a></li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="viewcode.html"
                        title="上一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.viewcode</span></code> – 添加突出显示的源代码的链接</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="sphinx-js.html"
                        title="下一章">sphinx-js</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/usage/extensions/httpdomain.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-sphinxcontrib.httpdomain"></span><div class="section" id="sphinxcontrib-httpdomain-sphinx-domain-for-documenting-http-apis">
<h1><a class="reference internal" href="#module-sphinxcontrib.httpdomain" title="sphinxcontrib.httpdomain"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.httpdomain</span></code></a> — 用于记录HTTP API的Sphinx域<a class="headerlink" href="#sphinxcontrib-httpdomain-sphinx-domain-for-documenting-http-apis" title="永久链接至标题">¶</a></h1>
<a class="reference external image-reference" href="https://pypi.org/project/sphinxcontrib-httpdomain/"><img alt="Latest PyPI version" src="https://badge.fury.io/py/sphinxcontrib-httpdomain.svg" /></a>
<a class="reference external image-reference" href="https://sphinxcontrib-httpdomain.readthedocs.io/"><img alt="Documentation Status" src="https://readthedocs.org/projects/sphinxcontrib-httpdomain/badge/" /></a>
<a class="reference external image-reference" href="https://travis-ci.org/sphinx-contrib/httpdomain"><img alt="Build Status" src="https://travis-ci.org/sphinx-contrib/httpdomain.svg?branch=master" /></a>
<p>这个 contrib 扩展 <a class="reference internal" href="#module-sphinxcontrib.httpdomain" title="sphinxcontrib.httpdomain"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.httpdomain</span></code></a> 提供了一个用于描述HTTP API的Sphinx域。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p>我们可能支持您的webapp依赖的Web框架的反射。请参阅以下内容 <code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp</span></code> 模块:</p>
<dl class="simple">
<dt>模块 <a class="reference internal" href="#module-sphinxcontrib.autohttp.flask" title="sphinxcontrib.autohttp.flask"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.flask</span></code></a></dt><dd><p><a class="reference external" href="http://flask.pocoo.org/">Flask</a> 网络应用的反射。</p>
</dd>
<dt>模块 <a class="reference internal" href="#module-sphinxcontrib.autohttp.flaskqref" title="sphinxcontrib.autohttp.flaskqref"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.flaskqref</span></code></a></dt><dd><p>快速参考渲染 <a class="reference internal" href="#module-sphinxcontrib.autohttp.flask" title="sphinxcontrib.autohttp.flask"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.flask</span></code></a></p>
</dd>
<dt>模块 <a class="reference internal" href="#module-sphinxcontrib.autohttp.bottle" title="sphinxcontrib.autohttp.bottle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.bottle</span></code></a></dt><dd><p><a class="reference external" href="http://bottlepy.org/">Bottle</a> webapps 的反射。</p>
</dd>
<dt>模块 <a class="reference internal" href="#module-sphinxcontrib.autohttp.tornado" title="sphinxcontrib.autohttp.tornado"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.tornado</span></code></a></dt><dd><p><a class="reference external" href="http://www.tornadoweb.org/">Tornado</a> webapps 的反射。</p>
</dd>
</dl>
</div>
<p>为了使用它，将 <a class="reference internal" href="#module-sphinxcontrib.httpdomain" title="sphinxcontrib.httpdomain"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.httpdomain</span></code></a> 添加到 Sphinx 配置文件(<code class="file docutils literal notranslate"><span class="pre">conf.py</span></code>)的 <code class="xref py py-data docutils literal notranslate"><span class="pre">extensions</span></code> 列表中:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sphinxcontrib.httpdomain&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="additional-configuration">
<h2>附加配置<a class="headerlink" href="#additional-configuration" title="永久链接至标题">¶</a></h2>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">http_headers_ignore_prefixes</span></code></dt><dd><p>在严格模式下应忽略的HTTP头前缀列表:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http_headers_ignore_prefixes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;X-&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">1.4.0 新版功能.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">1.5.0 版后已移除: </span>严格模式不再警告非标准标头前缀。</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">http_index_ignore_prefixes</span></code></dt><dd><p>通过给定的前缀列表从端点路径中剥离前导段:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http_index_ignore_prefixes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;/internal&#39;</span><span class="p">,</span> <span class="s1">&#39;/_proxy&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">1.3.0 新版功能.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">http_index_shortname</span></code></dt><dd><p>将出现在每页上的索引的简称:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http_index_shortname</span> <span class="o">=</span> <span class="s1">&#39;api&#39;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">1.3.0 新版功能.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">http_index_localname</span></code></dt><dd><p>索引页面上使用的完整索引名称:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http_index_localname</span> <span class="o">=</span> <span class="s2">&quot;My Project HTTP API&quot;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">1.3.0 新版功能.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">http_strict_mode</span></code></dt><dd><p>当 <code class="docutils literal notranslate"><span class="pre">True</span></code> (默认)在状态代码，方法和标题看起来非标准时发出构建错误:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http_strict_mode</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">1.4.0 新版功能.</span></p>
</div>
</dd>
</dl>
</div>
<div class="section" id="basic-usage">
<h2>基本用法<a class="headerlink" href="#basic-usage" title="永久链接至标题">¶</a></h2>
<p>提供了几个 <a class="reference internal" href="#directives"><span class="std std-ref">directives</span></a> 来描述HTTP资源。</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">http:get</span><span class="p">::</span> /users/(int:user_id)/posts/(tag)

   The posts tagged with <span class="nv">`tag`</span> that the user (<span class="nv">`user_id`</span>) wrote.

   <span class="gs">**Example request**</span>:

<span class="p">   ..</span> <span class="ow">sourcecode</span><span class="p">::</span> <span class="k">http</span>

      <span class="nf">GET</span> <span class="nn">/users/123/posts/web</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
      <span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
      <span class="na">Accept</span><span class="o">:</span> <span class="l">application/json, text/javascript</span>

   <span class="gs">**Example response**</span>:

<span class="p">   ..</span> <span class="ow">sourcecode</span><span class="p">::</span> <span class="k">http</span>

      <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
      <span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
      <span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/javascript</span>

      <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">&quot;post_id&quot;</span><span class="o">:</span> <span class="mi">12345</span><span class="p">,</span>
          <span class="s2">&quot;author_id&quot;</span><span class="o">:</span> <span class="mi">123</span><span class="p">,</span>
          <span class="s2">&quot;tags&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;server&quot;</span><span class="p">,</span> <span class="s2">&quot;web&quot;</span><span class="p">],</span>
          <span class="s2">&quot;subject&quot;</span><span class="o">:</span> <span class="s2">&quot;I tried Nginx&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s2">&quot;post_id&quot;</span><span class="o">:</span> <span class="mi">12346</span><span class="p">,</span>
          <span class="s2">&quot;author_id&quot;</span><span class="o">:</span> <span class="mi">123</span><span class="p">,</span>
          <span class="s2">&quot;tags&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;html5&quot;</span><span class="p">,</span> <span class="s2">&quot;standards&quot;</span><span class="p">,</span> <span class="s2">&quot;web&quot;</span><span class="p">],</span>
          <span class="s2">&quot;subject&quot;</span><span class="o">:</span> <span class="s2">&quot;We go to HTML 5&quot;</span>
        <span class="p">}</span>
      <span class="p">]</span>

   <span class="nc">:query sort:</span> <span class="nf">one of ``hit``, ``created-at``</span>
   <span class="nc">:query offset:</span> <span class="nf">offset number. default is 0</span>
   <span class="nc">:query limit:</span> <span class="nf">limit number. default is 30</span>
   <span class="nc">:reqheader Accept:</span> <span class="nf">the response content type depends on</span>
                      <span class="na">:mailheader:</span><span class="nv">`Accept`</span> header
   <span class="nc">:reqheader Authorization:</span> <span class="nf">optional OAuth token to authenticate</span>
   <span class="nc">:resheader Content-Type:</span> <span class="nf">this depends on :mailheader:`Accept`</span>
                            header of request
   <span class="nc">:statuscode 200:</span> <span class="nf">no error</span>
   <span class="nc">:statuscode 404:</span> <span class="nf">there&#39;s no user</span>
</pre></div>
</div>
<p>将呈现为:</p>
<blockquote>
<div><dl class="get">
<dt id="get--users-(int-user_id)-posts-(tag)">
<code class="descname">GET </code><code class="descname">/users/</code><span class="sig-paren">(</span><em class="property">int: </em><em>user_id</em><span class="sig-paren">)</span><code class="descname">/posts/</code><span class="sig-paren">(</span><em>tag</em><span class="sig-paren">)</span><a class="headerlink" href="#get--users-(int-user_id)-posts-(tag)" title="永久链接至目标">¶</a></dt>
<dd><p>The posts tagged with <cite>tag</cite> that the user (<cite>user_id</cite>) wrote.</p>
<p><strong>Example request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/users/123/posts/web</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json, text/javascript</span>
</pre></div>
</div>
<p><strong>Example response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="o">:</span> <span class="l">Accept</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/javascript</span>

<span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;post_id&quot;</span><span class="o">:</span> <span class="mi">12345</span><span class="p">,</span>
    <span class="s2">&quot;author_id&quot;</span><span class="o">:</span> <span class="mi">123</span><span class="p">,</span>
    <span class="s2">&quot;tags&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;server&quot;</span><span class="p">,</span> <span class="s2">&quot;web&quot;</span><span class="p">],</span>
    <span class="s2">&quot;subject&quot;</span><span class="o">:</span> <span class="s2">&quot;I tried Nginx&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;post_id&quot;</span><span class="o">:</span> <span class="mi">12346</span><span class="p">,</span>
    <span class="s2">&quot;author_id&quot;</span><span class="o">:</span> <span class="mi">123</span><span class="p">,</span>
    <span class="s2">&quot;tags&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;html5&quot;</span><span class="p">,</span> <span class="s2">&quot;standards&quot;</span><span class="p">,</span> <span class="s2">&quot;web&quot;</span><span class="p">],</span>
    <span class="s2">&quot;subject&quot;</span><span class="o">:</span> <span class="s2">&quot;We go to HTML 5&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Query sort</dt>
<dd class="field-odd"><p>one of <code class="docutils literal notranslate"><span class="pre">hit</span></code>, <code class="docutils literal notranslate"><span class="pre">created-at</span></code></p>
</dd>
<dt class="field-even">Query offset</dt>
<dd class="field-even"><p>offset number. default is 0</p>
</dd>
<dt class="field-odd">Query limit</dt>
<dd class="field-odd"><p>limit number. default is 30</p>
</dd>
<dt class="field-even">Reqheader Accept</dt>
<dd class="field-even"><p>the response content type depends on
<em class="mailheader">Accept</em> header</p>
</dd>
<dt class="field-odd">Reqheader Authorization</dt>
<dd class="field-odd"><p>optional OAuth token to authenticate</p>
</dd>
<dt class="field-even">Resheader Content-Type</dt>
<dd class="field-even"><p>this depends on <em class="mailheader">Accept</em>
header of request</p>
</dd>
<dt class="field-odd">Statuscode 200</dt>
<dd class="field-odd"><p>no error</p>
</dd>
<dt class="field-even">Statuscode 404</dt>
<dd class="field-even"><p>there’s no user</p>
</dd>
</dl>
</dd></dl>

</div></blockquote>
<p>当然， <a class="reference internal" href="#roles"><span class="std std-ref">roles</span></a> 也可以引用指令。 例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="na">:http:get:</span><span class="nv">`/users/(int:user_id)/posts/(tag)`</span>
</pre></div>
</div>
<p>将渲染像:</p>
<blockquote>
<div><p><a class="reference internal" href="#get--users-(int-user_id)-posts-(tag)" title="GET /users/(int:user_id)/posts/(tag)"><code class="xref http http-get docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/users/(int:user_id)/posts/(tag)</span></code></a></p>
</div></blockquote>
</div>
<div class="section" id="directives">
<span id="id1"></span><h2>指令<a class="headerlink" href="#directives" title="永久链接至标题">¶</a></h2>
<dl class="directive">
<dt id="directive-http:options">
<code class="descname">.. http:options::</code><code class="descclassname"> path</code><a class="headerlink" href="#directive-http:options" title="永久链接至目标">¶</a></dt>
<dd><p>描述HTTP资源的 <a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-4.3.7">OPTIONS</a> 方法。它也可以通过以下方式引用 <a class="reference internal" href="#role-http:options" title="http:options role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">http:options</span></code></a> 角色。</p>
</dd></dl>

<dl class="directive">
<dt id="directive-http:head">
<code class="descname">.. http:head::</code><code class="descclassname"> path</code><a class="headerlink" href="#directive-http:head" title="永久链接至目标">¶</a></dt>
<dd><p>描述HTTP资源的 <a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-4.3.2">HEAD</a> 方法。它也可以通过以下方式引用 <a class="reference internal" href="#role-http:head" title="http:head role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">http:head</span></code></a> 角色。</p>
</dd></dl>

<dl class="directive">
<dt id="directive-http:post">
<code class="descname">.. http:post::</code><code class="descclassname"> path</code><a class="headerlink" href="#directive-http:post" title="永久链接至目标">¶</a></dt>
<dd><p>描述HTTP资源的 <a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-4.3.3">POST</a> 方法。它也可以通过以下方式引用 <a class="reference internal" href="#role-http:post" title="http:post role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">http:post</span></code></a> 角色。</p>
</dd></dl>

<dl class="directive">
<dt id="directive-http:get">
<code class="descname">.. http:get::</code><code class="descclassname"> path</code><a class="headerlink" href="#directive-http:get" title="永久链接至目标">¶</a></dt>
<dd><p>描述HTTP资源的 <a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-4.3.1">GET</a> 方法。它也可以通过以下方式引用 <a class="reference internal" href="#role-http:get" title="http:get role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">http:get</span></code></a> 角色。</p>
</dd></dl>

<dl class="directive">
<dt id="directive-http:put">
<code class="descname">.. http:put::</code><code class="descclassname"> path</code><a class="headerlink" href="#directive-http:put" title="永久链接至目标">¶</a></dt>
<dd><p>描述HTTP资源的 <a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-4.3.4">PUT</a> 方法。它也可以通过以下方式引用 <a class="reference internal" href="#role-http:put" title="http:put role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">http:put</span></code></a> 角色。</p>
</dd></dl>

<dl class="directive">
<dt id="directive-http:patch">
<code class="descname">.. http:patch::</code><code class="descclassname"> path</code><a class="headerlink" href="#directive-http:patch" title="永久链接至目标">¶</a></dt>
<dd><p>描述HTTP资源的 <a class="reference external" href="https://tools.ietf.org/html/rfc5789#section-2">PATCH</a> 方法。它也可以通过以下方式引用 <a class="reference internal" href="#role-http:patch" title="http:patch role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">http:patch</span></code></a> 角色。</p>
</dd></dl>

<dl class="directive">
<dt id="directive-http:delete">
<code class="descname">.. http:delete::</code><code class="descclassname"> path</code><a class="headerlink" href="#directive-http:delete" title="永久链接至目标">¶</a></dt>
<dd><p>描述HTTP资源的 <a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-4.3.5">DELETE</a> 方法。它也可以通过以下方式引用 <a class="reference internal" href="#role-http:delete" title="http:delete role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">http:delete</span></code></a> 角色。</p>
</dd></dl>

<dl class="directive">
<dt id="directive-http:trace">
<code class="descname">.. http:trace::</code><code class="descclassname"> path</code><a class="headerlink" href="#directive-http:trace" title="永久链接至目标">¶</a></dt>
<dd><p>描述HTTP资源的 <a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-4.3.8">TRACE</a> 方法。它也可以通过以下方式引用 <a class="reference internal" href="#role-http:trace" title="http:trace role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">http:trace</span></code></a> 角色。</p>
</dd></dl>

<dl class="directive">
<dt id="directive-http:copy">
<code class="descname">.. http:copy::</code><code class="descclassname"> path</code><a class="headerlink" href="#directive-http:copy" title="永久链接至目标">¶</a></dt>
<dd><p>描述HTTP资源的 :<a class="reference external" href="http:method">http:method</a>:COPY` 方法。它也可以通过以下方式引用 <a class="reference internal" href="#role-http:copy" title="http:copy role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">http:copy</span></code></a> 角色。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.3.0 新版功能.</span></p>
</div>
</dd></dl>

<dl class="directive">
<dt id="directive-http:any">
<code class="descname">.. http:any::</code><code class="descclassname"> path</code><a class="headerlink" href="#directive-http:any" title="永久链接至目标">¶</a></dt>
<dd><p>描述一个HTTP资源，它接受请求 <em>any</em> 方法。对于请求资源将请求代理到保留原始请求上下文的某个其他位置的情况很有用。它也可以通过以下方式引用 <a class="reference internal" href="#role-http:any" title="http:any role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">http:any</span></code></a> 角色。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.3.0 新版功能.</span></p>
</div>
</dd></dl>

<div class="section" id="options">
<h3>选项<a class="headerlink" href="#options" title="永久链接至标题">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">1.3.0 新版功能.</span></p>
</div>
<p>此外，您可以为指令指定自定义选项:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">noindex</span></code></dt><dd><p>从HTTP路由表中排除特定指令。</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">http:get</span><span class="p">::</span> /users/(int:user_id)/posts/(tag)
   <span class="nc">:noindex:</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">deprecated</span></code></dt><dd><p>在HTTP路由表中将该方法标记为已弃用。</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">http:get</span><span class="p">::</span> /users/(int:user_id)/tagged_posts
   <span class="nc">:deprecated:</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">synopsis</span></code></dt><dd><p>添加HTTP路由表的简短描述。</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">http:get</span><span class="p">::</span> /users/(int:user_id)/posts/(tag)
   <span class="nc">:synopsis:</span> <span class="nf">Returns posts by the specified tag for the user</span>
</pre></div>
</div>
</dd>
</dl>
</div>
</div>
<div class="section" id="resource-fields">
<span id="id2"></span><h2>资源字段<a class="headerlink" href="#resource-fields" title="永久链接至标题">¶</a></h2>
<p>内部HTTP资源描述指令如 <code class="xref rst rst-dir docutils literal notranslate"><span class="pre">get</span></code> ，带有这些字段的reStructuredText字段列表可以很好地识别和格式化:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">param</span></code>, <code class="docutils literal notranslate"><span class="pre">parameter</span></code>, <code class="docutils literal notranslate"><span class="pre">arg</span></code>, <code class="docutils literal notranslate"><span class="pre">argument</span></code></dt><dd><p>URL参数的描述。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">queryparameter</span></code>, <code class="docutils literal notranslate"><span class="pre">queryparam</span></code>, <code class="docutils literal notranslate"><span class="pre">qparam</span></code>, <code class="docutils literal notranslate"><span class="pre">query</span></code></dt><dd><p>请求查询字符串传递的参数说明。</p>
<p>它可以选择键入，但所有查询参数都有明显的字符串类型。但是如果有它的约定它是有用的。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.1.9 版更改: </span>它可以是打字的:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="nc">:query string title:</span> <span class="nf">the post title</span>
<span class="nc">:query string body:</span> <span class="nf">the post body</span>
<span class="nc">:query boolean sticky:</span> <span class="nf">whether it&#39;s sticky or not</span>
</pre></div>
</div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">formparameter</span></code>, <code class="docutils literal notranslate"><span class="pre">formparam</span></code>, <code class="docutils literal notranslate"><span class="pre">fparam</span></code>, <code class="docutils literal notranslate"><span class="pre">form</span></code></dt><dd><p>由请求内容体传递的参数的描述，编码在 <em class="mimetype">application/x-www-form-urlencoded</em> 或 <em class="mimetype">multipart/form-data</em> 。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">jsonparameter</span></code>, <code class="docutils literal notranslate"><span class="pre">jsonparam</span></code>, <code class="docutils literal notranslate"><span class="pre">json</span></code></dt><dd><p>请求内容体传递的参数的描述，编码在 <em class="mimetype">application/json</em> 。</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">1.3.0 版后已移除: </span>使用 <code class="docutils literal notranslate"><span class="pre">reqjsonobj</span></code>/<code class="docutils literal notranslate"><span class="pre">reqjson</span></code>/<code class="docutils literal notranslate"><span class="pre">&lt;jsonobj</span></code>/<code class="docutils literal notranslate"><span class="pre">&lt;json</span></code> 和 <code class="docutils literal notranslate"><span class="pre">reqjsonarr</span></code>/<code class="docutils literal notranslate"><span class="pre">&lt;jsonarr</span></code> 代替.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">1.1.8 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.1.9 版更改: </span>它可以是打字的:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="nc">:jsonparam string title:</span> <span class="nf">the post title</span>
<span class="nc">:jsonparam string body:</span> <span class="nf">the post body</span>
<span class="nc">:jsonparam boolean sticky:</span> <span class="nf">whether it&#39;s sticky or not</span>
</pre></div>
</div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reqjsonobj</span></code>, <code class="docutils literal notranslate"><span class="pre">reqjson</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;jsonobj</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;json</span></code></dt><dd><p>请求体传递的JSON对象的单个字段的描述，编码在 <em class="mimetype">application/json</em> 。与 <code class="docutils literal notranslate"><span class="pre">json</span></code> 的主要区别在于明确定义了所描述对象的用例(请求/响应)。</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="nc">:&lt;json string title:</span> <span class="nf">the post title</span>
<span class="nc">:&lt;json string body:</span> <span class="nf">the post body</span>
<span class="nc">:&lt;json boolean sticky:</span> <span class="nf">whether it&#39;s sticky or not</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">1.3.0 新版功能.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">resjsonobj</span></code>, <code class="docutils literal notranslate"><span class="pre">resjson</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;jsonobj</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;json</span></code></dt><dd><p>与响应体一起返回的JSON对象的单个字段的描述，编码在 <em class="mimetype">application/json</em> 。</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="nc">:&gt;json boolean ok:</span> <span class="nf">Operation status</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">1.3.0 新版功能.</span></p>
</div>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">reqjsonarr</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;jsonarr</span></code>
<code class="docutils literal notranslate"><span class="pre">resjsonarr</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;jsonarr</span></code></p>
<blockquote>
<div><p>类似于 <code class="docutils literal notranslate"><span class="pre">&lt;json</span></code> 和 <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">json</span></code> ，但用于描述返回数组内的对象模式。</p>
<p>假设响应包含以下数据:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;ok&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="o">:</span> <span class="s2">&quot;forbidden&quot;</span><span class="p">,</span> <span class="s2">&quot;reason&quot;</span><span class="o">:</span> <span class="s2">&quot;sorry&quot;</span><span class="p">}]</span>
</pre></div>
</div>
<p>然后我们可以用以下方式描述它:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="nc">:&gt;jsonarr boolean ok:</span> <span class="nf">Operation status. Not present in case of error</span>
<span class="nc">:&gt;jsonarr string id:</span> <span class="nf">Object ID</span>
<span class="nc">:&gt;jsonarr string error:</span> <span class="nf">Error type</span>
<span class="nc">:&gt;jsonarr string reason:</span> <span class="nf">Error reason</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">1.3.0 新版功能.</span></p>
</div>
</div></blockquote>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="nc">:&gt;json boolean status:</span> <span class="nf">Operation status</span>
</pre></div>
</div>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">requestheader</span></code>, <code class="docutils literal notranslate"><span class="pre">reqheader</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;header</span></code></dt><dd><p>请求标头字段的描述。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.1.9 新版功能.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">responseheader</span></code>, <code class="docutils literal notranslate"><span class="pre">resheader</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;header</span></code></dt><dd><p>响应头字段的描述。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.1.9 新版功能.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">statuscode</span></code>, <code class="docutils literal notranslate"><span class="pre">status</span></code>, <code class="docutils literal notranslate"><span class="pre">code</span></code></dt><dd><p>响应状态代码的描述。</p>
</dd>
</dl>
<p>例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">http:post</span><span class="p">::</span> /posts/(int:post_id)

   Replies a comment to the post.

   <span class="nc">:param post_id:</span> <span class="nf">post&#39;s unique id</span>
   <span class="nc">:type post_id:</span> <span class="nf">int</span>
   <span class="nc">:form email:</span> <span class="nf">author email address</span>
   <span class="nc">:form body:</span> <span class="nf">comment body</span>
   <span class="nc">:reqheader Accept:</span> <span class="nf">the response content type depends on</span>
                      <span class="na">:mailheader:</span><span class="nv">`Accept`</span> header
   <span class="nc">:reqheader Authorization:</span> <span class="nf">optional OAuth token to authenticate</span>
   <span class="nc">:resheader Content-Type:</span> <span class="nf">this depends on :mailheader:`Accept`</span>
                            header of request
   <span class="nc">:status 302:</span> <span class="nf">and then redirects to :http:get:`/posts/(int:post_id)`</span>
   <span class="nc">:status 400:</span> <span class="nf">when form parameters are missing</span>

<span class="p">..</span> <span class="ow">http:get</span><span class="p">::</span> /posts/(int:post_id)

   Fetches the post

   (...)
</pre></div>
</div>
<p>它会像这样渲染:</p>
<blockquote>
<div><dl class="post">
<dt id="post--posts-(int-post_id)">
<code class="descname">POST </code><code class="descname">/posts/</code><span class="sig-paren">(</span><em class="property">int: </em><em>post_id</em><span class="sig-paren">)</span><a class="headerlink" href="#post--posts-(int-post_id)" title="永久链接至目标">¶</a></dt>
<dd><p>Replies a comment to the post.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>post_id</strong> (<em>int</em>) – post’s unique id</p>
</dd>
<dt class="field-even">Form email</dt>
<dd class="field-even"><p>author email address</p>
</dd>
<dt class="field-odd">Form body</dt>
<dd class="field-odd"><p>comment body</p>
</dd>
<dt class="field-even">Reqheader Accept</dt>
<dd class="field-even"><p>the response content type depends on
<em class="mailheader">Accept</em> header</p>
</dd>
<dt class="field-odd">Reqheader Authorization</dt>
<dd class="field-odd"><p>optional OAuth token to authenticate</p>
</dd>
<dt class="field-even">Resheader Content-Type</dt>
<dd class="field-even"><p>this depends on <em class="mailheader">Accept</em>
header of request</p>
</dd>
<dt class="field-odd">Status 302</dt>
<dd class="field-odd"><p>and then redirects to <a class="reference internal" href="#get--posts-(int-post_id)" title="GET /posts/(int:post_id)"><code class="xref http http-get docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/posts/(int:post_id)</span></code></a></p>
</dd>
<dt class="field-even">Status 400</dt>
<dd class="field-even"><p>when form parameters are missing</p>
</dd>
</dl>
</dd></dl>

<dl class="get">
<dt id="get--posts-(int-post_id)">
<code class="descname">GET </code><code class="descname">/posts/</code><span class="sig-paren">(</span><em class="property">int: </em><em>post_id</em><span class="sig-paren">)</span><a class="headerlink" href="#get--posts-(int-post_id)" title="永久链接至目标">¶</a></dt>
<dd><p>Fetches the post</p>
<p>(…)</p>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="roles">
<span id="id3"></span><h2>角色<a class="headerlink" href="#roles" title="永久链接至标题">¶</a></h2>
<dl class="role">
<dt id="role-http:options">
<code class="descname">:http:options:</code><a class="headerlink" href="#role-http:options" title="永久链接至目标">¶</a></dt>
<dd><p>指的是 <a class="reference internal" href="#directive-http:options" title="http:options directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">http:options</span></code></a> 指令。</p>
</dd></dl>

<dl class="role">
<dt id="role-http:head">
<code class="descname">:http:head:</code><a class="headerlink" href="#role-http:head" title="永久链接至目标">¶</a></dt>
<dd><p>指的是 <a class="reference internal" href="#directive-http:head" title="http:head directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">http:head</span></code></a> 指令。</p>
</dd></dl>

<dl class="role">
<dt id="role-http:post">
<code class="descname">:http:post:</code><a class="headerlink" href="#role-http:post" title="永久链接至目标">¶</a></dt>
<dd><p>指的是 <a class="reference internal" href="#directive-http:post" title="http:post directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">http:post</span></code></a> 指令。</p>
</dd></dl>

<dl class="role">
<dt id="role-http:get">
<code class="descname">:http:get:</code><a class="headerlink" href="#role-http:get" title="永久链接至目标">¶</a></dt>
<dd><p>指的是 <a class="reference internal" href="#directive-http:get" title="http:get directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">http:get</span></code></a> 指令。</p>
</dd></dl>

<dl class="role">
<dt id="role-http:put">
<code class="descname">:http:put:</code><a class="headerlink" href="#role-http:put" title="永久链接至目标">¶</a></dt>
<dd><p>指的是 <a class="reference internal" href="#directive-http:put" title="http:put directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">http:put</span></code></a> 指令。</p>
</dd></dl>

<dl class="role">
<dt id="role-http:patch">
<code class="descname">:http:patch:</code><a class="headerlink" href="#role-http:patch" title="永久链接至目标">¶</a></dt>
<dd><p>指的是 <a class="reference internal" href="#directive-http:patch" title="http:patch directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">http:patch</span></code></a> 指令。</p>
</dd></dl>

<dl class="role">
<dt id="role-http:delete">
<code class="descname">:http:delete:</code><a class="headerlink" href="#role-http:delete" title="永久链接至目标">¶</a></dt>
<dd><p>指的是 <a class="reference internal" href="#directive-http:delete" title="http:delete directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">http:delete</span></code></a> 指令。</p>
</dd></dl>

<dl class="role">
<dt id="role-http:trace">
<code class="descname">:http:trace:</code><a class="headerlink" href="#role-http:trace" title="永久链接至目标">¶</a></dt>
<dd><p>指的是 <a class="reference internal" href="#directive-http:trace" title="http:trace directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">http:trace</span></code></a> 指令。</p>
</dd></dl>

<dl class="role">
<dt id="role-http:copy">
<code class="descname">:http:copy:</code><a class="headerlink" href="#role-http:copy" title="永久链接至目标">¶</a></dt>
<dd><p>指的是 <a class="reference internal" href="#directive-http:copy" title="http:copy directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">http:copy</span></code></a> 指令。</p>
</dd></dl>

<dl class="role">
<dt id="role-http:any">
<code class="descname">:http:any:</code><a class="headerlink" href="#role-http:any" title="永久链接至目标">¶</a></dt>
<dd><p>指的是 <a class="reference internal" href="#directive-http:any" title="http:any directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">http:any</span></code></a> 指令。</p>
</dd></dl>

<dl class="role">
<dt id="role-http:statuscode">
<code class="descname">:http:statuscode:</code><a class="headerlink" href="#role-http:statuscode" title="永久链接至目标">¶</a></dt>
<dd><p>对HTTP状态代码的引用。生成文本 “<cite>code</cite> <cite>Status Name</cite>” ;在HTML输出中，此文本是指向指定状态代码的Web引用的超链接。</p>
<p>例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="m">-</span> <span class="na">:http:statuscode:</span><span class="nv">`404`</span>
<span class="m">-</span> <span class="na">:http:statuscode:</span><span class="nv">`200 OK`</span>
</pre></div>
</div>
<p>将呈现为:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a></p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></p></li>
</ul>
</div></blockquote>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.3.0 版更改: </span>它成为提供规范部分的参考。</p>
</div>
</dd></dl>

<dl class="role">
<dt id="role-http:method">
<code class="descname">:http:method:</code><a class="headerlink" href="#role-http:method" title="永久链接至目标">¶</a></dt>
<dd><p>对HTTP方法的引用(也称为 <em>verb</em> )。在HTML输出中，此文本是指向指定HTTP方法的Web引用的超链接。</p>
<p>例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>It accepts <span class="na">:http:method:</span><span class="nv">`post`</span> only.
</pre></div>
</div>
<p>它会像这样渲染:</p>
<blockquote>
<div><p>它只接受 <a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-4.3.3">POST</a> 。</p>
</div></blockquote>
</dd></dl>

<dl class="role">
<dt id="role-mimetype">
<code class="descname">:mimetype:</code><a class="headerlink" href="#role-mimetype" title="永久链接至目标">¶</a></dt>
<dd><p>确切地说，它不属于HTTP域，而是属于标准域。它指的是MIME类型，如 <em class="mimetype">text/html</em> 。</p>
</dd></dl>

<dl class="role">
<dt id="role-mailheader">
<code class="descname">:mailheader:</code><a class="headerlink" href="#role-mailheader" title="永久链接至目标">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">1.3.0 版后已移除: </span>使用 <a class="reference internal" href="#role-http:header" title="http:header role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">http:header</span></code></a> 代替。</p>
</div>
</dd></dl>

<dl class="role">
<dt id="role-http:header">
<code class="descname">:http:header:</code><a class="headerlink" href="#role-http:header" title="永久链接至目标">¶</a></dt>
<dd><p>类似于 <a class="reference internal" href="../restructuredtext/roles.html#role-mimetype" title="mimetype role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">mimetype</span></code></a> 角色，它不属于HTTP域，而属于标准域。它引用HTTP请求/响应头字段，如 <a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a> 。</p>
<p>如果HTTP标头已知，则文本是指向指定标头的Web引用的超链接。</p>
<p>已知的HTTP标头:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.3">Accept-Charset</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.4">Accept-Encoding</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.5">Accept-Language</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7233#section-2.3">Accept-Ranges</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7234#section-5.1">Age</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-7.4.1">Allow</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7235#section-4.2">Authorization</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7234#section-5.2">Cache-Control</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7230#section-6.1">Connection</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.2.2">Content-Encoding</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.3.2">Content-Language</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7230#section-3.3.2">Content-Length</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.4.2">Content-Location</a></p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.15">Content-MD5</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7233#section-4.2">Content-Range</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc2109#section-4.3.4">Cookie</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-7.1.1.2">Date</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc2518#section-9.3">Destination</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7232#section-2.3">ETag</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.1.1">Expect</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7234#section-5.3">Expires</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.5.2">From</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7230#section-5.4">Host</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7232#section-3.1">If-Match</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7232#section-3.3">If-Modified-Since</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7232#section-3.2">If-None-Match</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7233#section-3.2">If-Range</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7232#section-3.4">If-Unmodified-Since</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7232#section-2.2">Last-Modified</a></p></li>
<li><p><a class="reference external" href="http://www.w3.org/TR/eventsource/#last-event-id">Last-Event-ID</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc5988#section-5">Link</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-7.1.2">Location</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.1.2">Max-Forwards</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7234#section-5.4">Pragma</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7235#section-4.3">Proxy-Authenticate</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7235#section-4.4">Proxy-Authorization</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7233#section-3.1">Range</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.5.2">Referer</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-7.1.3">Retry-After</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-7.4.2">Server</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc2109#section-4.2.2">Set-Cookie</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7230#section-4.3">TE</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7230#section-4.4">Trailer</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7230#section-3.3.1">Transfer-Encoding</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7230#section-6.7">Upgrade</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.5.3">User-Agent</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-7.1.4">Vary</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7230#section-5.7.1">Via</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7235#section-4.1">WWW-Authenticate</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc7234#section-5.5">Warning</a></p></li>
</ul>
<div class="versionadded">
<p><span class="versionmodified added">1.3.0 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.5.0 版更改: </span>不再针对无法识别的标头发出警告</p>
</div>
</dd></dl>

<span class="target" id="module-sphinxcontrib.autohttp.flask"></span></div>
<div class="section" id="sphinxcontrib-autohttp-flask-exporting-api-reference-from-flask-app">
<h2><a class="reference internal" href="#module-sphinxcontrib.autohttp.flask" title="sphinxcontrib.autohttp.flask"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.flask</span></code></a> — 从Flask应用程序导出API参考<a class="headerlink" href="#sphinxcontrib-autohttp-flask-exporting-api-reference-from-flask-app" title="永久链接至标题">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">1.1 新版功能.</span></p>
</div>
<p>它从 <a class="reference external" href="http://flask.pocoo.org/">Flask</a> 应用程序的路由表生成RESTful HTTP API参考文档，类似于 <a class="reference internal" href="autodoc.html#module-sphinx.ext.autodoc" title="sphinx.ext.autodoc: Include documentation from docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.autodoc</span></code></a> 。</p>
<p>为了使用它，将 <a class="reference internal" href="#module-sphinxcontrib.autohttp.flask" title="sphinxcontrib.autohttp.flask"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.flask</span></code></a> 添加到 <code class="xref py py-data docutils literal notranslate"><span class="pre">extensions</span></code> 列表中的Sphinx配置(<code class="file docutils literal notranslate"><span class="pre">conf.py</span></code>)文件:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sphinxcontrib.autohttp.flask&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoflask</span><span class="p">::</span> autoflask_sampleapp:app
   <span class="nc">:undoc-static:</span>
</pre></div>
</div>
<p>将呈现为:</p>
<blockquote>
<div></div></blockquote>
<dl class="directive">
<dt id="directive-autoflask">
<code class="descname">.. autoflask::</code><code class="descclassname"> module:app</code><a class="headerlink" href="#directive-autoflask" title="永久链接至目标">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">1.1 新版功能.</span></p>
</div>
<p>从Flask应用程序生成HTTP API引用。它需要一个导入名称，比如:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">your</span><span class="o">.</span><span class="n">webapplication</span><span class="o">.</span><span class="n">module</span><span class="p">:</span><span class="n">app</span>
</pre></div>
</div>
<p>冒号字符(<code class="docutils literal notranslate"><span class="pre">:</span></code>)分隔模块路径和应用程序变量。后期部分可能更复杂:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">your</span><span class="o">.</span><span class="n">webapplication</span><span class="o">.</span><span class="n">module</span><span class="p">:</span><span class="n">create_app</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="s1">&#39;default.cfg&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>当从工厂函数(<code class="xref py py-func docutils literal notranslate"><span class="pre">create_app()</span></code>, 在上面的例子中)创建Flask应用程序时，它很有用。</p>
<p>它也需要几个标志选项。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">endpoints</span></code></dt><dd><p>端点生成引用。</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoflask</span><span class="p">::</span> yourwebapp:app
   <span class="nc">:endpoints:</span> <span class="nf">user, post, friends</span>
</pre></div>
</div>
<p>将记录 <code class="xref py py-func docutils literal notranslate"><span class="pre">user()</span></code> ， <code class="xref py py-func docutils literal notranslate"><span class="pre">post()</span></code> ，和 <code class="xref py py-func docutils literal notranslate"><span class="pre">friends()</span></code> 查看函数，以及</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoflask</span><span class="p">::</span> yourwebapp:app
   <span class="nc">:endpoints:</span>
</pre></div>
</div>
<p>将记录烧瓶应用程序中的所有端点。</p>
<p>为了兼容性，省略此选项将产生与上面相同的效果。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.1.8 新版功能.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">undoc-endpoints</span></code></dt><dd><p>从生成的引用中排除指定的端点。</p>
<p>例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoflask</span><span class="p">::</span> yourwebapp:app
   <span class="nc">:undoc-endpoints:</span> <span class="nf">admin, admin_login</span>
</pre></div>
</div>
<p>将排除 <code class="xref py py-func docutils literal notranslate"><span class="pre">admin()</span></code> ， <code class="xref py py-func docutils literal notranslate"><span class="pre">admin_login()</span></code> 查看函数。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>值得注意的是，应用于蓝图的端点名称以蓝图的名称为前缀(例如 blueprint.endpoint )。</p>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>虽然 <a class="reference internal" href="autodoc.html#module-sphinx.ext.autodoc" title="sphinx.ext.autodoc: Include documentation from docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.autodoc</span></code></a> 扩展的 <a class="reference external" href="http://www.sphinx-doc.org/en/stable/ext/autodoc.html#directive-automodule">undoc-members</a> 标志包含没有 docstrings 的成员，但 <code class="docutils literal notranslate"><span class="pre">undoc-endpoints</span></code> 选项与docstrings无关。它只是排除了指定的端点。</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">blueprints</span></code></dt><dd><p>仅在生成的引用中包含指定的蓝图。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.1.9 新版功能.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">undoc-blueprints</span></code></dt><dd><p>从生成的引用中排除指定的蓝图。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.1.8 新版功能.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">modules</span></code></dt><dd><p>仅在生成的引用中包含指定的视图模块。</p>
<p>例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoflask</span><span class="p">::</span> yourwebapp:app
   <span class="nc">:modules:</span> <span class="nf">yourwebapp.views.admin</span>
</pre></div>
</div>
<p>将仅包含 <code class="docutils literal notranslate"><span class="pre">yourwebapp.views.admin</span></code> 模块中的视图</p>
<div class="versionadded">
<p><span class="versionmodified added">1.5.0 新版功能.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">undoc-modules</span></code></dt><dd><p>从生成的引用中排除指定的视图模块。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.5.0 新版功能.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">undoc-static</span></code></dt><dd><p>排除提供静态文件的视图函数，默认情况下包含在Flask中。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">order</span></code></dt><dd><p>确定列出端点的顺序。目前只支持 <code class="docutils literal notranslate"><span class="pre">path</span></code> 。</p>
<p>例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoflask</span><span class="p">::</span> yourwebapp:app
   <span class="nc">:endpoints:</span>
   <span class="nc">:order:</span> <span class="nf">path</span>
</pre></div>
</div>
<p>将记录烧瓶应用中的所有端点，按其路径路径排序。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.5.0 新版功能.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">groupby</span></code></dt><dd><p>确定分组路径的策略。目前只支持 <code class="docutils literal notranslate"><span class="pre">view</span></code> 。指定它将按视图函数对路径进行分组。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.6.0 新版功能.</span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">include-empty-docstring</span></code></dt><dd><p>默认情况下排除没有 docstring (<code class="xref py py-attr docutils literal notranslate"><span class="pre">__doc__</span></code>) 的视图函数。如果给出了这个标志选项，它们也会被包括在内。</p>
<div class="versionadded">
<p><span class="versionmodified added">1.1.2 新版功能.</span></p>
</div>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-sphinxcontrib.autohttp.flaskqref"></span></div>
<div class="section" id="sphinxcontrib-autohttp-flaskqref-quick-api-reference-for-flask-app">
<h2><a class="reference internal" href="#module-sphinxcontrib.autohttp.flaskqref" title="sphinxcontrib.autohttp.flaskqref"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.flaskqref</span></code></a> — Flask app的快速API参考<a class="headerlink" href="#sphinxcontrib-autohttp-flaskqref-quick-api-reference-for-flask-app" title="永久链接至标题">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">1.5.0 新版功能.</span></p>
</div>
<p>这将为以下生成的路径文档生成一个快速API参考表 <a class="reference internal" href="#module-sphinxcontrib.autohttp.flask" title="sphinxcontrib.autohttp.flask"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.flask</span></code></a></p>
<p>要使用它，两者 <a class="reference internal" href="#module-sphinxcontrib.autohttp.flask" title="sphinxcontrib.autohttp.flask"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.flask</span></code></a> 和 <a class="reference internal" href="#module-sphinxcontrib.autohttp.flaskqref" title="sphinxcontrib.autohttp.flaskqref"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.flaskqref</span></code></a> 需要添加到配置(<code class="file docutils literal notranslate"><span class="pre">conf.py</span></code>)文件的扩展名中:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sphinxcontrib.autohttp.flask&#39;</span><span class="p">,</span>
              <span class="s1">&#39;sphinxcontrib.autohttp.flaskqref&#39;</span><span class="p">]</span>
</pre></div>
</div>
<dl class="directive">
<dt id="directive-qrefflask">
<code class="descname">.. qrefflask::</code><code class="descclassname"> module:app</code><a class="headerlink" href="#directive-qrefflask" title="永久链接至目标">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">1.5.0 新版功能.</span></p>
</div>
<p>从Flask应用程序生成HTTP API引用，并将它们放在带有快速引用链接的列表表中。用法和选项与 <a class="reference internal" href="#module-sphinxcontrib.autohttp.flask" title="sphinxcontrib.autohttp.flask"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.flask</span></code></a> 相同，增加了 <code class="docutils literal notranslate"><span class="pre">autoquickref</span></code> 选项。</p>
</dd></dl>

<div class="section" id="id4">
<h3>基本用法<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h3>
<p>您通常会将快速参考表放在docco顶部附近并使用 <em>.. autoflask::</em> 进一步向下。</p>
<p>除非使用 <code class="docutils literal notranslate"><span class="pre">autoquickref</span></code> 选项，否则要包含在快速参考表中的路由需要将以下第一条注释添加到其文档字符串中:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="cp">.. :quickref: [&lt;resource&gt;;] &lt;short description&gt;</span>
</pre></div>
</div>
<p>&lt;resource&gt; 是可选的，如果使用分号，则将其与 &lt;short description&gt; 分开。该表按 &lt;resource&gt; 分组和排序。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&lt;resource&gt;</span></code></dt><dd><p>这是操作的资源名称。对于许多操作，名称可能相同，并且可以将这些组合在一起。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;short</span> <span class="pre">description&gt;</span></code></dt><dd><p>简要说明操作的作用。</p>
</dd>
</dl>
<p>如果使用 <code class="docutils literal notranslate"><span class="pre">autoquickref</span></code> 选项，则所有路径都必须在蓝图内。 <code class="docutils literal notranslate"><span class="pre">&lt;resource&gt;</span></code> 将被设置为蓝图的名称， <code class="docutils literal notranslate"><span class="pre">&lt;short</span> <span class="pre">description&gt;</span></code> 将被设置为 docstring 的第一行。</p>
<p>例如:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app.route</span><span class="p">(</span><span class="s1">&#39;/&lt;user&gt;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">user</span><span class="p">(</span><span class="n">user</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;User profile page.</span>

<span class="sd">    .. :quickref: User; Get Profile Page</span>

<span class="sd">    my docco here</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s1">&#39;hi, &#39;</span> <span class="o">+</span> <span class="n">user</span>
</pre></div>
</div>
<p>快速参考表定义为:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">qrefflask</span><span class="p">::</span> autoflask_sampleapp:app
   <span class="nc">:undoc-static:</span>
</pre></div>
</div>
<p>使用带有 <em>.. :quickref:</em> 注释的 autoflask_sampleapp ，将其呈现为:</p>
<blockquote>
<div></div></blockquote>
<span class="target" id="module-sphinxcontrib.autohttp.bottle"></span></div>
</div>
<div class="section" id="sphinxcontrib-autohttp-bottle-exporting-api-reference-from-bottle-app">
<h2><a class="reference internal" href="#module-sphinxcontrib.autohttp.bottle" title="sphinxcontrib.autohttp.bottle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.bottle</span></code></a> — 从Bottle应用程序导出API参考<a class="headerlink" href="#sphinxcontrib-autohttp-bottle-exporting-api-reference-from-bottle-app" title="永久链接至标题">¶</a></h2>
<p>它从 <a class="reference external" href="http://bottlepy.org/">Bottle</a> 应用程序的路由表生成RESTful HTTP API参考文档，类似于 <a class="reference internal" href="autodoc.html#module-sphinx.ext.autodoc" title="sphinx.ext.autodoc: Include documentation from docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.autodoc</span></code></a> 。</p>
<p>为了使用它，将 <a class="reference internal" href="#module-sphinxcontrib.autohttp.bottle" title="sphinxcontrib.autohttp.bottle"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.bottle</span></code></a> 添加到 <code class="xref py py-data docutils literal notranslate"><span class="pre">extensions</span></code> 列表中的Sphinx配置(<code class="file docutils literal notranslate"><span class="pre">conf.py</span></code>)文件:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sphinxcontrib.autohttp.bottle&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autobottle</span><span class="p">::</span> autobottle_sampleapp:app
</pre></div>
</div>
<p>将呈现为:</p>
<blockquote>
<div></div></blockquote>
<dl class="directive">
<dt id="directive-autobottle">
<code class="descname">.. autobottle::</code><code class="descclassname"> module:app</code><a class="headerlink" href="#directive-autobottle" title="永久链接至目标">¶</a></dt>
<dd><p>从Bottle应用程序生成HTTP API引用。它需要一个导入名称，比如:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">your</span><span class="o">.</span><span class="n">webapplication</span><span class="o">.</span><span class="n">module</span><span class="p">:</span><span class="n">app</span>
</pre></div>
</div>
<p>冒号字符(<code class="docutils literal notranslate"><span class="pre">:</span></code>)分隔模块路径和应用程序变量。后期部分可能更复杂:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">your</span><span class="o">.</span><span class="n">webapplication</span><span class="o">.</span><span class="n">module</span><span class="p">:</span><span class="n">create_app</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="s1">&#39;default.cfg&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>从工厂函数(<code class="xref py py-func docutils literal notranslate"><span class="pre">create_app()</span></code>, 在上例中)创建Bottle应用程序时，它很有用。</p>
<p>它也需要几个标志选项。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">endpoints</span></code></dt><dd><p>端点生成引用。</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autobottle</span><span class="p">::</span> yourwebapp:app
   <span class="nc">:endpoints:</span> <span class="nf">user, post, friends</span>
</pre></div>
</div>
<p>将记录 <code class="xref py py-func docutils literal notranslate"><span class="pre">user()</span></code> ， <code class="xref py py-func docutils literal notranslate"><span class="pre">post()</span></code> ，和 <code class="xref py py-func docutils literal notranslate"><span class="pre">friends()</span></code> 查看函数，以及</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autobottle</span><span class="p">::</span> yourwebapp:app
   <span class="nc">:endpoints:</span>
</pre></div>
</div>
<p>将记录瓶子应用程序中的所有端点。</p>
<p>为了兼容性，省略此选项将产生与上面相同的效果。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">undoc-endpoints</span></code></dt><dd><p>从生成的引用中排除指定的端点。</p>
<p>例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autobottle</span><span class="p">::</span> yourwebapp:app
   <span class="nc">:undoc-endpoints:</span> <span class="nf">admin, admin_login</span>
</pre></div>
</div>
<p>将排除 <code class="xref py py-func docutils literal notranslate"><span class="pre">admin()</span></code> ， <code class="xref py py-func docutils literal notranslate"><span class="pre">admin_login()</span></code> 查看函数。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>虽然 <a class="reference internal" href="autodoc.html#module-sphinx.ext.autodoc" title="sphinx.ext.autodoc: Include documentation from docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.autodoc</span></code></a> 扩展的 <a class="reference external" href="http://www.sphinx-doc.org/en/stable/ext/autodoc.html#directive-automodule">undoc-members</a> 标志包含没有 docstrings 的成员，但 <code class="docutils literal notranslate"><span class="pre">undoc-endpoints</span></code> 选项与docstrings无关。它只是排除了指定的端点。</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">include-empty-docstring</span></code></dt><dd><p>默认情况下排除没有 docstring (<code class="xref py py-attr docutils literal notranslate"><span class="pre">__doc__</span></code>) 的视图函数。如果给出了这个标志选项，它们也会被包括在内。</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-sphinxcontrib.autohttp.tornado"></span></div>
<div class="section" id="sphinxcontrib-autohttp-tornado-exporting-api-reference-from-tornado-app">
<h2><a class="reference internal" href="#module-sphinxcontrib.autohttp.tornado" title="sphinxcontrib.autohttp.tornado"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.tornado</span></code></a> — 从Tornado应用程序导出API参考<a class="headerlink" href="#sphinxcontrib-autohttp-tornado-exporting-api-reference-from-tornado-app" title="永久链接至标题">¶</a></h2>
<p>它从 <a class="reference external" href="http://www.tornadoweb.org/">Tornado</a> 应用程序的路由表生成RESTful HTTP API参考文档，类似于 <a class="reference internal" href="autodoc.html#module-sphinx.ext.autodoc" title="sphinx.ext.autodoc: Include documentation from docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.autodoc</span></code></a> 。</p>
<p>为了使用它，将 <a class="reference internal" href="#module-sphinxcontrib.autohttp.tornado" title="sphinxcontrib.autohttp.tornado"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp.tornado</span></code></a> 添加到 <code class="xref py py-data docutils literal notranslate"><span class="pre">extensions</span></code> 列表中的Sphinx配置(<code class="file docutils literal notranslate"><span class="pre">conf.py</span></code>)文件:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sphinxcontrib.autohttp.tornado&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autotornado</span><span class="p">::</span> autotornado_sampleapp:app
</pre></div>
</div>
<p>将呈现为:</p>
<blockquote>
<div></div></blockquote>
<dl class="directive">
<dt id="directive-autotornado">
<code class="descname">.. autotornado::</code><code class="descclassname"> module:app</code><a class="headerlink" href="#directive-autotornado" title="永久链接至目标">¶</a></dt>
<dd><p>从Tornado应用程序生成HTTP API引用。它需要一个导入名称，比如:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">your</span><span class="o">.</span><span class="n">webapplication</span><span class="o">.</span><span class="n">module</span><span class="p">:</span><span class="n">app</span>
</pre></div>
</div>
<p>冒号字符(<code class="docutils literal notranslate"><span class="pre">:</span></code>)分隔模块路径和应用程序变量。</p>
<p>它也需要几个标志选项。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">endpoints</span></code></dt><dd><p>端点生成引用。</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autotornado</span><span class="p">::</span> yourwebapp:app
   <span class="nc">:endpoints:</span> <span class="nf">User.get, User.post, Friends.get</span>
</pre></div>
</div>
<p>将记录 <code class="xref py py-func docutils literal notranslate"><span class="pre">get()</span></code> 和 <code class="xref py py-func docutils literal notranslate"><span class="pre">post()</span></code> 方法 <code class="xref py py-class docutils literal notranslate"><span class="pre">User</span></code> <code class="xref py py-class docutils literal notranslate"><span class="pre">RequestHandler</span></code> 和 <code class="xref py py-func docutils literal notranslate"><span class="pre">get()</span></code> 方法  <code class="xref py py-class docutils literal notranslate"><span class="pre">Friend</span></code> <code class="xref py py-class docutils literal notranslate"><span class="pre">RequestHandler</span></code> ，而</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autotornado</span><span class="p">::</span> yourwebapp:app
   <span class="nc">:endpoints:</span>
</pre></div>
</div>
<p>将记录龙卷风应用程序中的所有端点。</p>
<p>为了兼容性，省略此选项将产生与上面相同的效果。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">undoc-endpoints</span></code></dt><dd><p>从生成的引用中排除指定的端点。</p>
<p>例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autotornado</span><span class="p">::</span> yourwebapp:app
   <span class="nc">:undoc-endpoints:</span> <span class="nf">admin, admin_login</span>
</pre></div>
</div>
<p>将排除 <code class="xref py py-func docutils literal notranslate"><span class="pre">admin()</span></code> ， <code class="xref py py-func docutils literal notranslate"><span class="pre">admin_login()</span></code> 查看函数。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>虽然 <a class="reference internal" href="autodoc.html#module-sphinx.ext.autodoc" title="sphinx.ext.autodoc: Include documentation from docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.autodoc</span></code></a> 扩展的 <a class="reference external" href="http://www.sphinx-doc.org/en/stable/ext/autodoc.html#directive-automodule">undoc-members</a> 标志包含没有 docstrings 的成员，但 <code class="docutils literal notranslate"><span class="pre">undoc-endpoints</span></code> 选项与docstrings无关。它只是排除了指定的端点。</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">include-empty-docstring</span></code></dt><dd><p>默认情况下排除没有 docstring (<code class="xref py py-attr docutils literal notranslate"><span class="pre">__doc__</span></code>) 的视图函数。如果给出了这个标志选项，它们也会被包括在内。</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="author-and-license">
<h2>作者和许可证<a class="headerlink" href="#author-and-license" title="永久链接至标题">¶</a></h2>
<p><a class="reference internal" href="#module-sphinxcontrib.httpdomain" title="sphinxcontrib.httpdomain"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.httpdomain</span></code></a> 和 <code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib.autohttp</span></code> ，部分 <code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinxcontrib</span></code> ，由 <a class="reference external" href="https://hongminhee.org/">Hong Minhee</a> 编写，并在BSD许可下发布。</p>
<p>源代码在 <a class="reference external" href="https://github.com/sphinx-contrib/httpdomain">httpdomain</a> 存储库中的 <a class="reference external" href="https://github.com/sphinx-contrib">sphinx-contrib project</a> 下维护</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git clone https://github.com/sphinx-contrib/httpdomain.git
<span class="gp">$</span> <span class="nb">cd</span> httpdomain
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="../../http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="sphinx-js.html" title="sphinx-js"
             >下一页</a> |</li>
        <li class="right" >
          <a href="viewcode.html" title="sphinx.ext.viewcode – 添加突出显示的源代码的链接"
             >上一页</a> |</li>
<li><a href="../../index.html">主页</a>&#160;|</li>
<li><a href="../../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >扩展</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2007-2019, Georg Brandl and the Sphinx team.
      由 <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.0+/7f2c8fd82 创建。
    </div>
  </body>
</html>