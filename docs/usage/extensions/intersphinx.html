
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <title>sphinx.ext.intersphinx – 链接到其他项目的文档 &#8212; Sphinx 2.1.0+/27801b188 文档</title>
    <link rel="stylesheet" href="../../_static/sphinx13.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx 2.1.0+/27801b188 文档 中搜索"
          href="../../_static/opensearch.xml"/>

    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="sphinx.ext.linkcode – 添加外部链接到源代码" href="linkcode.html" />
    <link rel="prev" title="sphinx.ext.inheritance_diagram – 包含继承图" href="inheritance.html" />
<link rel="canonical" href="http://www.sphinx-doc.org/en/master/usage/extensions/intersphinx.html" />

<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css' />
 
<style type="text/css">
  table.right {
    float: right;
    margin-left: 20px;
  }

  table.right td {
    border: 1px solid #ccc;
  }

    {
    % if pagename=='index'%
  }

  .related {
    display: none;
  }

    {
    % endif %
  }
</style>
<script type="text/javascript">
  // intelligent scrolling of the sidebar content
  $(window).scroll(function () {
    var sb = $('.sphinxsidebarwrapper');
    var win = $(window);
    var sbh = sb.height();
    var offset = $('.sphinxsidebar').position()['top'];
    var wintop = win.scrollTop();
    var winbot = wintop + win.innerHeight();
    var curtop = sb.position()['top'];
    var curbot = curtop + sbh;
    // does sidebar fit in window?
    if (sbh < win.innerHeight()) {
      // yes: easy case -- always keep at the top
      sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
        $(document).height() - sbh - 200
      ]));
    } else {
      // no: only scroll if top/bottom edge of sidebar is at
      // top/bottom edge of window
      if (curtop > wintop && curbot > winbot) {
        sb.css('top', $u.max([wintop - offset - 10, 0]));
      } else if (curtop < wintop && curbot < winbot) {
        sb.css('top', $u.min([winbot - sbh - offset - 20,
          $(document).height() - sbh - 200
        ]));
      }
    }
  });
</script>

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../../index.html">主页</a></li>
    <li><a href="../installation.html">安装</a></li>
    <li><a href="../../contents.html">文档</a></li>
    <li><a href="../../develop.html">扩展/开发</a></li>
  </ul>
  <div>
    <a href="../../index.html">
      <img src="../../_static/sphinxheader.png" alt="SPHINX" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="linkcode.html" title="sphinx.ext.linkcode – 添加外部链接到源代码"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="inheritance.html" title="sphinx.ext.inheritance_diagram – 包含继承图"
             accesskey="P">上一页</a> |</li>
<li><a href="../../index.html">主页</a>&#160;|</li>
<li><a href="../../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">扩展</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.intersphinx</span></code> – 链接到其他项目的文档</a><ul>
<li><a class="reference internal" href="#configuration">配置</a></li>
<li><a class="reference internal" href="#showing-all-links-of-an-intersphinx-mapping-file">显示Intersphinx映射文件的所有链接</a></li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="inheritance.html"
                        title="上一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.inheritance_diagram</span></code> – 包含继承图</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="linkcode.html"
                        title="下一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.linkcode</span></code> – 添加外部链接到源代码</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/usage/extensions/intersphinx.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-sphinx.ext.intersphinx">
<span id="sphinx-ext-intersphinx-link-to-other-projects-documentation"></span><h1><a class="reference internal" href="#module-sphinx.ext.intersphinx" title="sphinx.ext.intersphinx: Link to other Sphinx documentation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.intersphinx</span></code></a> – 链接到其他项目的文档<a class="headerlink" href="#module-sphinx.ext.intersphinx" title="永久链接至标题">¶</a></h1>
<div class="versionadded" id="index-0">
<p><span class="versionmodified added">0.5 新版功能.</span></p>
</div>
<p>此扩展可以生成指向其他项目中对象文档的自动链接。</p>
<p>用法很简单:只要Sphinx遇到当前文档集中没有匹配目标的交叉引用，它就会在配置的文档集中查找目标 <a class="reference internal" href="#confval-intersphinx_mapping"><code class="xref std std-confval docutils literal notranslate"><span class="pre">intersphinx_mapping</span></code></a> 。然后像 <code class="docutils literal notranslate"><span class="pre">:py:class:`zipfile.ZipFile`</span></code> 这样的引用可以链接到ZipFile类的Python文档，而不必指定它所在的位置。</p>
<p>使用 “new” 格式（见下文）时，您甚至可以通过为链接目标添加适当的前缀来强制在外部集合中查找。  像 <code class="docutils literal notranslate"><span class="pre">:ref:`comparison</span> <span class="pre">manual</span> <span class="pre">&lt;python:comparisons&gt;`</span></code> 这样的链接将链接到 doc set “python” 中的标签 “comparisons” ，如果它存在的话。</p>
<p>在幕后，这工作如下:</p>
<ul class="simple">
<li><p>每个Sphinx HTML构建都会创建一个名为 <code class="file docutils literal notranslate"><span class="pre">objects.inv</span></code> 的文件，其中包含从对象名称到相对于HTML集合根目录的URI的映射。</p></li>
<li><p>使用Intersphinx扩展的项目可以在 <a class="reference internal" href="#confval-intersphinx_mapping"><code class="xref std std-confval docutils literal notranslate"><span class="pre">intersphinx_mapping</span></code></a> 配置值中指定此类映射文件的位置。然后，映射将用于解析对象的其他缺失引用，并将其转换为指向其他文档的链接。</p></li>
<li><p>默认情况下，假定映射文件与文档的其余部分位于同一位置;但是，映射文件的位置也可以单独指定，例如，如果文档应该可以在没有Internet访问的情况下构建。</p></li>
</ul>
<div class="section" id="configuration">
<h2>配置<a class="headerlink" href="#configuration" title="永久链接至标题">¶</a></h2>
<p>To use Intersphinx linking, add <code class="docutils literal notranslate"><span class="pre">'sphinx.ext.intersphinx'</span></code> to your
<a class="reference internal" href="../configuration.html#confval-extensions"><code class="xref std std-confval docutils literal notranslate"><span class="pre">extensions</span></code></a> config value, and use these config values to activate
linking:</p>
<dl class="confval">
<dt id="confval-intersphinx_mapping">
<code class="descname">intersphinx_mapping</code><a class="headerlink" href="#confval-intersphinx_mapping" title="永久链接至目标">¶</a></dt>
<dd><p>This config value contains the locations and names of other projects that
should be linked to in this documentation.</p>
<p>Relative local paths for target locations are taken as relative to the base
of the built documentation, while relative local paths for inventory
locations are taken as relative to the source directory.</p>
<p>When fetching remote inventory files, proxy settings will be read from
the <code class="docutils literal notranslate"><span class="pre">$HTTP_PROXY</span></code> environment variable.</p>
<p><strong>Old format for this config value</strong></p>
<p>This is the format used before Sphinx 1.0.  It is still recognized.</p>
<p>A dictionary mapping URIs to either <code class="docutils literal notranslate"><span class="pre">None</span></code> or an URI.  The keys are the
base URI of the foreign Sphinx documentation sets and can be local paths or
HTTP URIs.  The values indicate where the inventory file can be found: they
can be <code class="docutils literal notranslate"><span class="pre">None</span></code> (at the same location as the base URI) or another local or
HTTP URI.</p>
<p><strong>New format for this config value</strong></p>
<div class="versionadded">
<p><span class="versionmodified added">1.0 新版功能.</span></p>
</div>
<p>A dictionary mapping unique identifiers to a tuple <code class="docutils literal notranslate"><span class="pre">(target,</span> <span class="pre">inventory)</span></code>.
Each <code class="docutils literal notranslate"><span class="pre">target</span></code> is the base URI of a foreign Sphinx documentation set and can
be a local path or an HTTP URI.  The <code class="docutils literal notranslate"><span class="pre">inventory</span></code> indicates where the
inventory file can be found: it can be <code class="docutils literal notranslate"><span class="pre">None</span></code> (at the same location as
the base URI) or another local or HTTP URI.</p>
<p>The unique identifier can be used to prefix cross-reference targets, so that
it is clear which intersphinx set the target belongs to.  A link like
<code class="docutils literal notranslate"><span class="pre">:ref:`comparison</span> <span class="pre">manual</span> <span class="pre">&lt;python:comparisons&gt;`</span></code> will link to the label
“comparisons” in the doc set “python”, if it exists.</p>
<p><strong>Example</strong></p>
<p>To add links to modules and objects in the Python standard library
documentation, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">intersphinx_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;python&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;https://docs.python.org/3&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)}</span>
</pre></div>
</div>
<p>This will download the corresponding <code class="file docutils literal notranslate"><span class="pre">objects.inv</span></code> file from the
Internet and generate links to the pages under the given URI.  The downloaded
inventory is cached in the Sphinx environment, so it must be re-downloaded
whenever you do a full rebuild.</p>
<p>A second example, showing the meaning of a non-<code class="docutils literal notranslate"><span class="pre">None</span></code> value of the second
tuple item:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">intersphinx_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;python&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;https://docs.python.org/3&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;python-inv.txt&#39;</span><span class="p">)}</span>
</pre></div>
</div>
<p>This will read the inventory from <code class="file docutils literal notranslate"><span class="pre">python-inv.txt</span></code> in the source
directory, but still generate links to the pages under
<code class="docutils literal notranslate"><span class="pre">https://docs.python.org/3</span></code>.  It is up to you to update the inventory file
as new objects are added to the Python documentation.</p>
<p><strong>Multiple target for the inventory</strong></p>
<div class="versionadded">
<p><span class="versionmodified added">1.3 新版功能.</span></p>
</div>
<p>Alternative files can be specified for each inventory. One can give a
tuple for the second inventory tuple item as shown in the following
example. This will read the inventory iterating through the (second)
tuple items until the first successful fetch. The primary use case for
this to specify mirror sites for server downtime of the primary
inventory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">intersphinx_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;python&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;https://docs.python.org/3&#39;</span><span class="p">,</span>
                                  <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;python-inv.txt&#39;</span><span class="p">))}</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-intersphinx_cache_limit">
<code class="descname">intersphinx_cache_limit</code><a class="headerlink" href="#confval-intersphinx_cache_limit" title="永久链接至目标">¶</a></dt>
<dd><p>The maximum number of days to cache remote inventories.  The default is
<code class="docutils literal notranslate"><span class="pre">5</span></code>, meaning five days.  Set this to a negative value to cache inventories
for unlimited time.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-intersphinx_timeout">
<code class="descname">intersphinx_timeout</code><a class="headerlink" href="#confval-intersphinx_timeout" title="永久链接至目标">¶</a></dt>
<dd><p>The number of seconds for timeout.  The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>, meaning do not
timeout.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>timeout is not a time limit on the entire response download; rather, an
exception is raised if the server has not issued a response for timeout
seconds.</p>
</div>
</dd></dl>

</div>
<div class="section" id="showing-all-links-of-an-intersphinx-mapping-file">
<h2>显示Intersphinx映射文件的所有链接<a class="headerlink" href="#showing-all-links-of-an-intersphinx-mapping-file" title="永久链接至标题">¶</a></h2>
<p>要显示所有Intersphinx链接及其Intersphinx映射文件的目标，请运行 <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-msphinx.ext.intersphinx</span> <span class="pre">url-or-path</span></code> 。  在文档项目中搜索断开的Intersphinx链接的根本原因时，这很有用。 以下示例打印Python 3文档的Intersphinx映射:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -msphinx.ext.intersphinx https://docs.python.org/3/objects.inv
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="linkcode.html" title="sphinx.ext.linkcode – 添加外部链接到源代码"
             >下一页</a> |</li>
        <li class="right" >
          <a href="inheritance.html" title="sphinx.ext.inheritance_diagram – 包含继承图"
             >上一页</a> |</li>
<li><a href="../../index.html">主页</a>&#160;|</li>
<li><a href="../../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >扩展</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2007-2019, Georg Brandl and the Sphinx team.
      由 <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.0+/27801b188 创建。
    </div>
  </body>
</html>