

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>sphinx.ext.autodoc – 包括docstrings中的文档 &mdash; Sphinx 2.1.0+/77d104c 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx 2.1.0+/77d104c 文档 中搜索"
          href="../../_static/opensearch.xml"/>

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="sphinx.ext.autosectionlabel – Allow reference sections using its title" href="autosectionlabel.html" />
    <link rel="prev" title="扩展" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../contents.html" class="icon icon-home"> Sphinx
          

          
          </a>

          
            
            
              <div class="version">
                2.1.0+/77d104c
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">入门</a></li>
<li class="toctree-l1"><a class="reference internal" href="../restructuredtext/index.html">reStructuredText</a></li>
<li class="toctree-l1"><a class="reference internal" href="../markdown.html">Markdown</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="../builders/index.html">构建器</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">扩展</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#built-in-extensions">内置扩展</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.autodoc</span></code> – 包括docstrings中的文档</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#directives">Directives</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#docstring-preprocessing">Docstring preprocessing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#skipping-members">Skipping members</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="autosectionlabel.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.autosectionlabel</span></code> – Allow reference sections using its title</a></li>
<li class="toctree-l3"><a class="reference internal" href="autosummary.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.autosummary</span></code> – Generate autodoc summaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="coverage.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.coverage</span></code> – Collect doc coverage stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="doctest.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.doctest</span></code> – Test snippets in the documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="extlinks.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.extlinks</span></code> – Markup to shorten external links</a></li>
<li class="toctree-l3"><a class="reference internal" href="githubpages.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.githubpages</span></code> – Publish HTML docs in GitHub Pages</a></li>
<li class="toctree-l3"><a class="reference internal" href="graphviz.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.graphviz</span></code> – Add Graphviz graphs</a></li>
<li class="toctree-l3"><a class="reference internal" href="ifconfig.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.ifconfig</span></code> – Include content based on configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="imgconverter.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.imgconverter</span></code> – A reference image converter using Imagemagick</a></li>
<li class="toctree-l3"><a class="reference internal" href="inheritance.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.inheritance_diagram</span></code> – Include inheritance diagrams</a></li>
<li class="toctree-l3"><a class="reference internal" href="intersphinx.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.intersphinx</span></code> – Link to other projects’ documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="linkcode.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.linkcode</span></code> – Add external links to source code</a></li>
<li class="toctree-l3"><a class="reference internal" href="math.html">Math support for HTML outputs in Sphinx</a></li>
<li class="toctree-l3"><a class="reference internal" href="napoleon.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.napoleon</span></code> – Support for NumPy and Google style docstrings</a></li>
<li class="toctree-l3"><a class="reference internal" href="todo.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.todo</span></code> – Support for todo items</a></li>
<li class="toctree-l3"><a class="reference internal" href="viewcode.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.viewcode</span></code> – Add links to highlighted source code</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#third-party-extensions">第三方扩展</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../theming.html">HTML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/intl.html">国际化</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/setuptools.html">Setuptools集成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/websupport/index.html">Sphinx Web支持</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../man/index.html">手册页</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../theming.html">HTML主题支持</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../templating.html">模板</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../latex.html">LaTeX 定制</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extdev/index.html">为Sphinx开发扩展</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/tutorials/index.html">扩展教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Sphinx 常问问题</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">词汇表</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devguide.html">Sphinx开发人员指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes.html">Sphinx更新</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">使用Sphinx的项目</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../authors.html">Sphinx作者</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../contents.html">Sphinx</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../contents.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">扩展</a> &raquo;</li>
        
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.autodoc</span></code> – 包括docstrings中的文档</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/usage/extensions/autodoc.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-sphinx.ext.autodoc">
<span id="sphinx-ext-autodoc-include-documentation-from-docstrings"></span><h1><a class="reference internal" href="#module-sphinx.ext.autodoc" title="sphinx.ext.autodoc: Include documentation from docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.autodoc</span></code></a> – 包括docstrings中的文档<a class="headerlink" href="#module-sphinx.ext.autodoc" title="永久链接至标题">¶</a></h1>
<p id="index-0">This extension can import the modules you are documenting, and pull in
documentation from docstrings in a semi-automatic way.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>For Sphinx (actually, the Python interpreter that executes Sphinx) to find
your module, it must be importable.  That means that the module or the
package must be in one of the directories on <code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code> – adapt your
<code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code> in the configuration file accordingly.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p><a class="reference internal" href="#module-sphinx.ext.autodoc" title="sphinx.ext.autodoc: Include documentation from docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">autodoc</span></code></a> <strong>imports</strong> the modules to be documented.  If any
modules have side effects on import, these will be executed by <code class="docutils literal notranslate"><span class="pre">autodoc</span></code>
when <code class="docutils literal notranslate"><span class="pre">sphinx-build</span></code> is run.</p>
<p>If you document scripts (as opposed to library modules), make sure their main
routine is protected by a <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">__name__</span> <span class="pre">==</span> <span class="pre">'__main__'</span></code> condition.</p>
</div>
<p>For this to work, the docstrings must of course be written in correct
reStructuredText.  You can then use all of the usual Sphinx markup in the
docstrings, and it will end up correctly in the documentation.  Together with
hand-written documentation, this technique eases the pain of having to maintain
two locations for documentation, while at the same time avoiding
auto-generated-looking pure API documentation.</p>
<p>If you prefer <a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt">NumPy</a> or <a class="reference external" href="https://github.com/google/styleguide/blob/gh-pages/pyguide.md#38-comments-and-docstrings">Google</a> style docstrings over reStructuredText,
you can also enable the <a class="reference internal" href="napoleon.html#module-sphinx.ext.napoleon" title="sphinx.ext.napoleon: Support for NumPy and Google style docstrings"><code class="xref py py-mod docutils literal notranslate"><span class="pre">napoleon</span></code></a> extension.
<a class="reference internal" href="napoleon.html#module-sphinx.ext.napoleon" title="sphinx.ext.napoleon: Support for NumPy and Google style docstrings"><code class="xref py py-mod docutils literal notranslate"><span class="pre">napoleon</span></code></a> is a preprocessor that converts your
docstrings to correct reStructuredText before <code class="xref py py-mod docutils literal notranslate"><span class="pre">autodoc</span></code> processes them.</p>
<div class="section" id="directives">
<h2>Directives<a class="headerlink" href="#directives" title="永久链接至标题">¶</a></h2>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">autodoc</span></code> provides several directives that are versions of the usual
<a class="reference internal" href="../restructuredtext/domains.html#directive-py:module" title="py:module directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">py:module</span></code></a>, <a class="reference internal" href="../restructuredtext/domains.html#directive-py:class" title="py:class directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">py:class</span></code></a> and so forth.  On parsing time, they
import the corresponding module and extract the docstring of the given objects,
inserting them into the page source under a suitable <a class="reference internal" href="../restructuredtext/domains.html#directive-py:module" title="py:module directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">py:module</span></code></a>,
<a class="reference internal" href="../restructuredtext/domains.html#directive-py:class" title="py:class directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">py:class</span></code></a> etc.  directive.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Just as <a class="reference internal" href="../restructuredtext/domains.html#directive-py:class" title="py:class directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">py:class</span></code></a> respects the current <a class="reference internal" href="../restructuredtext/domains.html#directive-py:module" title="py:module directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">py:module</span></code></a>,
<a class="reference internal" href="#directive-autoclass" title="autoclass directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">autoclass</span></code></a> will also do so.  Likewise, <a class="reference internal" href="#directive-automethod" title="automethod directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">automethod</span></code></a> will
respect the current <a class="reference internal" href="../restructuredtext/domains.html#directive-py:class" title="py:class directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">py:class</span></code></a>.</p>
</div>
<dl class="directive">
<dt id="directive-automodule">
<code class="descname">.. automodule::</code><a class="headerlink" href="#directive-automodule" title="永久链接至目标">¶</a></dt>
<dt id="directive-autoclass">
<code class="descname">.. autoclass::</code><a class="headerlink" href="#directive-autoclass" title="永久链接至目标">¶</a></dt>
<dt id="directive-autoexception">
<code class="descname">.. autoexception::</code><a class="headerlink" href="#directive-autoexception" title="永久链接至目标">¶</a></dt>
<dd><p>Document a module, class or exception.  All three directives will by default
only insert the docstring of the object itself:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoclass</span><span class="p">::</span> Noodle
</pre></div>
</div>
<p>will produce source like this:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">class</span><span class="p">::</span> Noodle

   Noodle&#39;s docstring.
</pre></div>
</div>
<p>The “auto” directives can also contain content of their own, it will be
inserted into the resulting non-auto directive source after the docstring
(but before any automatic member documentation).</p>
<p>Therefore, you can also mix automatic and non-automatic member documentation,
like so:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoclass</span><span class="p">::</span> Noodle
   <span class="nc">:members:</span> <span class="nf">eat, slurp</span>

<span class="p">   ..</span> <span class="ow">method</span><span class="p">::</span> boil(time=10)

      Boil the noodle <span class="ge">*time*</span> minutes.
</pre></div>
</div>
<p><strong>Options and advanced usage</strong></p>
<ul>
<li><p>If you want to automatically document members, there’s a <code class="docutils literal notranslate"><span class="pre">members</span></code>
option:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">automodule</span><span class="p">::</span> noodle
   <span class="nc">:members:</span>
</pre></div>
</div>
<p>will document all module members (recursively), and</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoclass</span><span class="p">::</span> Noodle
   <span class="nc">:members:</span>
</pre></div>
</div>
<p>will document all non-private member functions and properties (that is,
those whose name doesn’t start with <code class="docutils literal notranslate"><span class="pre">_</span></code>).</p>
<p>For modules, <code class="docutils literal notranslate"><span class="pre">__all__</span></code> will be respected when looking for members unless
you give the <code class="docutils literal notranslate"><span class="pre">ignore-module-all</span></code> flag option.  Without
<code class="docutils literal notranslate"><span class="pre">ignore-module-all</span></code>, the order of the members will also be the order in
<code class="docutils literal notranslate"><span class="pre">__all__</span></code>.</p>
<p>You can also give an explicit list of members; only these will then be
documented:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoclass</span><span class="p">::</span> Noodle
   <span class="nc">:members:</span> <span class="nf">eat, slurp</span>
</pre></div>
</div>
</li>
<li><p>If you want to make the <code class="docutils literal notranslate"><span class="pre">members</span></code> option (or other options described
below) the default, see <a class="reference internal" href="#confval-autodoc_default_options"><code class="xref std std-confval docutils literal notranslate"><span class="pre">autodoc_default_options</span></code></a>.</p>
<div class="admonition tip">
<p class="admonition-title">小技巧</p>
<p>You can use a negated form, <code class="samp docutils literal notranslate"><span class="pre">'no-</span><em><span class="pre">flag</span></em><span class="pre">'</span></code>, as an option of
autodoc directive, to disable it temporarily.  For example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">automodule</span><span class="p">::</span> foo
   <span class="nc">:no-undoc-members:</span>
</pre></div>
</div>
</div>
</li>
<li><p>Members without docstrings will be left out, unless you give the
<code class="docutils literal notranslate"><span class="pre">undoc-members</span></code> flag option:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">automodule</span><span class="p">::</span> noodle
   <span class="nc">:members:</span>
   <span class="nc">:undoc-members:</span>
</pre></div>
</div>
</li>
<li><p>“Private” members (that is, those named like <code class="docutils literal notranslate"><span class="pre">_private</span></code> or <code class="docutils literal notranslate"><span class="pre">__private</span></code>)
will be included if the <code class="docutils literal notranslate"><span class="pre">private-members</span></code> flag option is given.</p>
<div class="versionadded">
<p><span class="versionmodified added">1.1 新版功能.</span></p>
</div>
</li>
<li><p>Python “special” members (that is, those named like <code class="docutils literal notranslate"><span class="pre">__special__</span></code>) will
be included if the <code class="docutils literal notranslate"><span class="pre">special-members</span></code> flag option is given:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoclass</span><span class="p">::</span> my.Class
   <span class="nc">:members:</span>
   <span class="nc">:private-members:</span>
   <span class="nc">:special-members:</span>
</pre></div>
</div>
<p>would document both “private” and “special” members of the class.</p>
<div class="versionadded">
<p><span class="versionmodified added">1.1 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.2 版更改: </span>The option can now take arguments, i.e. the special members to document.</p>
</div>
</li>
<li><p>For classes and exceptions, members inherited from base classes will be
left out when documenting all members, unless you give the
<code class="docutils literal notranslate"><span class="pre">inherited-members</span></code> flag option, in addition to <code class="docutils literal notranslate"><span class="pre">members</span></code>:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoclass</span><span class="p">::</span> Noodle
   <span class="nc">:members:</span>
   <span class="nc">:inherited-members:</span>
</pre></div>
</div>
<p>This can be combined with <code class="docutils literal notranslate"><span class="pre">undoc-members</span></code> to document <em>all</em> available
members of the class or module.</p>
<p>Note: this will lead to markup errors if the inherited members come from a
module whose docstrings are not reST formatted.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.3 新版功能.</span></p>
</div>
</li>
<li><p>It’s possible to override the signature for explicitly documented callable
objects (functions, methods, classes) with the regular syntax that will
override the signature gained from introspection:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoclass</span><span class="p">::</span> Noodle(type)

<span class="p">   ..</span> <span class="ow">automethod</span><span class="p">::</span> eat(persona)
</pre></div>
</div>
<p>This is useful if the signature from the method is hidden by a decorator.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.4 新版功能.</span></p>
</div>
</li>
<li><p>The <a class="reference internal" href="#directive-automodule" title="automodule directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">automodule</span></code></a>, <a class="reference internal" href="#directive-autoclass" title="autoclass directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">autoclass</span></code></a> and
<a class="reference internal" href="#directive-autoexception" title="autoexception directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">autoexception</span></code></a> directives also support a flag option called
<code class="docutils literal notranslate"><span class="pre">show-inheritance</span></code>.  When given, a list of base classes will be inserted
just below the class signature (when used with <a class="reference internal" href="#directive-automodule" title="automodule directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">automodule</span></code></a>, this
will be inserted for every class that is documented in the module).</p>
<div class="versionadded">
<p><span class="versionmodified added">0.4 新版功能.</span></p>
</div>
</li>
<li><p>All autodoc directives support the <code class="docutils literal notranslate"><span class="pre">noindex</span></code> flag option that has the
same effect as for standard <a class="reference internal" href="../restructuredtext/domains.html#directive-py:function" title="py:function directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">py:function</span></code></a> etc. directives: no
index entries are generated for the documented object (and all
autodocumented members).</p>
<div class="versionadded">
<p><span class="versionmodified added">0.4 新版功能.</span></p>
</div>
</li>
<li><p><a class="reference internal" href="#directive-automodule" title="automodule directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">automodule</span></code></a> also recognizes the <code class="docutils literal notranslate"><span class="pre">synopsis</span></code>, <code class="docutils literal notranslate"><span class="pre">platform</span></code> and
<code class="docutils literal notranslate"><span class="pre">deprecated</span></code> options that the standard <a class="reference internal" href="../restructuredtext/domains.html#directive-py:module" title="py:module directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">py:module</span></code></a> directive
supports.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.5 新版功能.</span></p>
</div>
</li>
<li><p><a class="reference internal" href="#directive-automodule" title="automodule directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">automodule</span></code></a> and <a class="reference internal" href="#directive-autoclass" title="autoclass directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">autoclass</span></code></a> also has an <code class="docutils literal notranslate"><span class="pre">member-order</span></code>
option that can be used to override the global value of
<a class="reference internal" href="#confval-autodoc_member_order"><code class="xref std std-confval docutils literal notranslate"><span class="pre">autodoc_member_order</span></code></a> for one directive.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.6 新版功能.</span></p>
</div>
</li>
<li><p>The directives supporting member documentation also have a
<code class="docutils literal notranslate"><span class="pre">exclude-members</span></code> option that can be used to exclude single member names
from documentation, if all members are to be documented.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.6 新版功能.</span></p>
</div>
</li>
<li><p>In an <a class="reference internal" href="#directive-automodule" title="automodule directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">automodule</span></code></a> directive with the <code class="docutils literal notranslate"><span class="pre">members</span></code> option set, only
module members whose <code class="docutils literal notranslate"><span class="pre">__module__</span></code> attribute is equal to the module name
as given to <code class="docutils literal notranslate"><span class="pre">automodule</span></code> will be documented.  This is to prevent
documentation of imported classes or functions.  Set the
<code class="docutils literal notranslate"><span class="pre">imported-members</span></code> option if you want to prevent this behavior and
document all available members.  Note that attributes from imported modules
will not be documented, because attribute documentation is discovered by
parsing the source file of the current module.</p>
<div class="versionadded">
<p><span class="versionmodified added">1.2 新版功能.</span></p>
</div>
</li>
<li><p>Add a list of modules in the <a class="reference internal" href="#confval-autodoc_mock_imports"><code class="xref std std-confval docutils literal notranslate"><span class="pre">autodoc_mock_imports</span></code></a> to prevent
import errors to halt the building process when some external dependencies
are not importable at build time.</p>
<div class="versionadded">
<p><span class="versionmodified added">1.3 新版功能.</span></p>
</div>
</li>
</ul>
</dd></dl>

<dl class="directive">
<dt id="directive-autofunction">
<code class="descname">.. autofunction::</code><a class="headerlink" href="#directive-autofunction" title="永久链接至目标">¶</a></dt>
<dt id="directive-autodecorator">
<code class="descname">.. autodecorator::</code><a class="headerlink" href="#directive-autodecorator" title="永久链接至目标">¶</a></dt>
<dt id="directive-autodata">
<code class="descname">.. autodata::</code><a class="headerlink" href="#directive-autodata" title="永久链接至目标">¶</a></dt>
<dt id="directive-automethod">
<code class="descname">.. automethod::</code><a class="headerlink" href="#directive-automethod" title="永久链接至目标">¶</a></dt>
<dt id="directive-autoattribute">
<code class="descname">.. autoattribute::</code><a class="headerlink" href="#directive-autoattribute" title="永久链接至目标">¶</a></dt>
<dd><p>These work exactly like <a class="reference internal" href="#directive-autoclass" title="autoclass directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">autoclass</span></code></a> etc.,
but do not offer the options used for automatic member documentation.</p>
<p><a class="reference internal" href="#directive-autodata" title="autodata directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">autodata</span></code></a> and <a class="reference internal" href="#directive-autoattribute" title="autoattribute directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">autoattribute</span></code></a> support
the <code class="docutils literal notranslate"><span class="pre">annotation</span></code> option.
Without this option, the representation of the object
will be shown in the documentation.
When the option is given without arguments,
only the name of the object will be printed:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autodata</span><span class="p">::</span> CD_DRIVE
   <span class="nc">:annotation:</span>
</pre></div>
</div>
<p>You can tell sphinx what should be printed after the name:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autodata</span><span class="p">::</span> CD_DRIVE
   <span class="nc">:annotation:</span> <span class="nf">= your CD device name</span>
</pre></div>
</div>
<p>For module data members and class attributes, documentation can either be put
into a comment with special formatting (using a <code class="docutils literal notranslate"><span class="pre">#:</span></code> to start the comment
instead of just <code class="docutils literal notranslate"><span class="pre">#</span></code>), or in a docstring <em>after</em> the definition.  Comments
need to be either on a line of their own <em>before</em> the definition, or
immediately after the assignment <em>on the same line</em>.  The latter form is
restricted to one line only.</p>
<p>This means that in the following class definition, all attributes can be
autodocumented:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>class Foo:
    &quot;&quot;&quot;Docstring for class Foo.&quot;&quot;&quot;

    #: Doc comment for class attribute Foo.bar.
    #: It can have multiple lines.
    bar = 1

    flox = 1.5   #: Doc comment for Foo.flox. One line only.

    baz = 2
    &quot;&quot;&quot;Docstring for class attribute Foo.baz.&quot;&quot;&quot;

    def __init__(self):
        #: Doc comment for instance attribute qux.
        self.qux = 3

        self.spam = 4
        &quot;&quot;&quot;Docstring for instance attribute spam.&quot;&quot;&quot;
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.6 版更改: </span><a class="reference internal" href="#directive-autodata" title="autodata directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">autodata</span></code></a> and <a class="reference internal" href="#directive-autoattribute" title="autoattribute directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">autoattribute</span></code></a> can now extract
docstrings.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.1 版更改: </span>Comment docs are now allowed on the same line after an assignment.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.2 版更改: </span><a class="reference internal" href="#directive-autodata" title="autodata directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">autodata</span></code></a> and <a class="reference internal" href="#directive-autoattribute" title="autoattribute directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">autoattribute</span></code></a> have an <code class="docutils literal notranslate"><span class="pre">annotation</span></code>
option.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 2.0 版更改: </span><a class="reference internal" href="#directive-autodecorator" title="autodecorator directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">autodecorator</span></code></a> added.</p>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>If you document decorated functions or methods, keep in mind that autodoc
retrieves its docstrings by importing the module and inspecting the
<code class="docutils literal notranslate"><span class="pre">__doc__</span></code> attribute of the given function or method.  That means that if
a decorator replaces the decorated function with another, it must copy the
original <code class="docutils literal notranslate"><span class="pre">__doc__</span></code> to the new function.</p>
<p>From Python 2.5, <code class="xref py py-func docutils literal notranslate"><span class="pre">functools.wraps()</span></code> can be used to create
well-behaved decorating functions.</p>
</div>
</dd></dl>

</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="永久链接至标题">¶</a></h2>
<p>There are also config values that you can set:</p>
<dl class="confval">
<dt id="confval-autoclass_content">
<code class="descname">autoclass_content</code><a class="headerlink" href="#confval-autoclass_content" title="永久链接至目标">¶</a></dt>
<dd><p>This value selects what content will be inserted into the main body of an
<a class="reference internal" href="#directive-autoclass" title="autoclass directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">autoclass</span></code></a> directive.  The possible values are:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;class&quot;</span></code></dt><dd><p>Only the class’ docstring is inserted.  This is the default.  You can
still document <code class="docutils literal notranslate"><span class="pre">__init__</span></code> as a separate method using
<a class="reference internal" href="#directive-automethod" title="automethod directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">automethod</span></code></a> or the <code class="docutils literal notranslate"><span class="pre">members</span></code> option to <a class="reference internal" href="#directive-autoclass" title="autoclass directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">autoclass</span></code></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code></dt><dd><p>Both the class’ and the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method’s docstring are concatenated
and inserted.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;init&quot;</span></code></dt><dd><p>Only the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method’s docstring is inserted.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">0.3 新版功能.</span></p>
</div>
<p>If the class has no <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method or if the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method’s
docstring is empty, but the class has a <code class="docutils literal notranslate"><span class="pre">__new__</span></code> method’s docstring,
it is used instead.</p>
<div class="versionadded">
<p><span class="versionmodified added">1.4 新版功能.</span></p>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-autodoc_member_order">
<code class="descname">autodoc_member_order</code><a class="headerlink" href="#confval-autodoc_member_order" title="永久链接至目标">¶</a></dt>
<dd><p>This value selects if automatically documented members are sorted
alphabetical (value <code class="docutils literal notranslate"><span class="pre">'alphabetical'</span></code>), by member type (value
<code class="docutils literal notranslate"><span class="pre">'groupwise'</span></code>) or by source order (value <code class="docutils literal notranslate"><span class="pre">'bysource'</span></code>).  The default is
alphabetical.</p>
<p>Note that for source order, the module must be a Python module with the
source code available.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.6 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.0 版更改: </span>Support for <code class="docutils literal notranslate"><span class="pre">'bysource'</span></code>.</p>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-autodoc_default_flags">
<code class="descname">autodoc_default_flags</code><a class="headerlink" href="#confval-autodoc_default_flags" title="永久链接至目标">¶</a></dt>
<dd><p>This value is a list of autodoc directive flags that should be automatically
applied to all autodoc directives.  The supported flags are <code class="docutils literal notranslate"><span class="pre">'members'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'undoc-members'</span></code>, <code class="docutils literal notranslate"><span class="pre">'private-members'</span></code>, <code class="docutils literal notranslate"><span class="pre">'special-members'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'inherited-members'</span></code>, <code class="docutils literal notranslate"><span class="pre">'show-inheritance'</span></code>, <code class="docutils literal notranslate"><span class="pre">'ignore-module-all'</span></code>
and <code class="docutils literal notranslate"><span class="pre">'exclude-members'</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">1.0 新版功能.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">1.8 版后已移除: </span>Integrated into <a class="reference internal" href="#confval-autodoc_default_options"><code class="xref std std-confval docutils literal notranslate"><span class="pre">autodoc_default_options</span></code></a>.</p>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-autodoc_default_options">
<code class="descname">autodoc_default_options</code><a class="headerlink" href="#confval-autodoc_default_options" title="永久链接至目标">¶</a></dt>
<dd><p>The default options for autodoc directives.  They are applied to all autodoc
directives automatically.  It must be a dictionary which maps option names
to the values.  For example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>autodoc_default_options = {
    &#39;members&#39;: &#39;var1, var2&#39;,
    &#39;member-order&#39;: &#39;bysource&#39;,
    &#39;special-members&#39;: &#39;__init__&#39;,
    &#39;undoc-members&#39;: True,
    &#39;exclude-members&#39;: &#39;__weakref__&#39;
}
</pre></div>
</div>
<p>Setting <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">True</span></code> to the value is equivalent to giving only the
option name to the directives.</p>
<p>The supported options are <code class="docutils literal notranslate"><span class="pre">'members'</span></code>, <code class="docutils literal notranslate"><span class="pre">'member-order'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'undoc-members'</span></code>, <code class="docutils literal notranslate"><span class="pre">'private-members'</span></code>, <code class="docutils literal notranslate"><span class="pre">'special-members'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'inherited-members'</span></code>, <code class="docutils literal notranslate"><span class="pre">'show-inheritance'</span></code>, <code class="docutils literal notranslate"><span class="pre">'ignore-module-all'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'exclude-members'</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">1.8 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 2.0 版更改: </span>Accepts <code class="docutils literal notranslate"><span class="pre">True</span></code> as a value.</p>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-autodoc_docstring_signature">
<code class="descname">autodoc_docstring_signature</code><a class="headerlink" href="#confval-autodoc_docstring_signature" title="永久链接至目标">¶</a></dt>
<dd><p>Functions imported from C modules cannot be introspected, and therefore the
signature for such functions cannot be automatically determined.  However, it
is an often-used convention to put the signature into the first line of the
function’s docstring.</p>
<p>If this boolean value is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> (which is the default), autodoc will
look at the first line of the docstring for functions and methods, and if it
looks like a signature, use the line as the signature and remove it from the
docstring content.</p>
<div class="versionadded">
<p><span class="versionmodified added">1.1 新版功能.</span></p>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-autodoc_mock_imports">
<code class="descname">autodoc_mock_imports</code><a class="headerlink" href="#confval-autodoc_mock_imports" title="永久链接至目标">¶</a></dt>
<dd><p>This value contains a list of modules to be mocked up. This is useful when
some external dependencies are not met at build time and break the building
process. You may only specify the root package of the dependencies
themselves and omit the sub-modules:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">autodoc_mock_imports</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;django&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Will mock all imports under the <code class="docutils literal notranslate"><span class="pre">django</span></code> package.</p>
<div class="versionadded">
<p><span class="versionmodified added">1.3 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.6 版更改: </span>This config value only requires to declare the top-level modules that
should be mocked.</p>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-autodoc_warningiserror">
<code class="descname">autodoc_warningiserror</code><a class="headerlink" href="#confval-autodoc_warningiserror" title="永久链接至目标">¶</a></dt>
<dd><p>This value controls the behavior of <a class="reference internal" href="../../man/sphinx-build.html#id6"><code class="xref std std-option docutils literal notranslate"><span class="pre">sphinx-build</span> <span class="pre">-W</span></code></a> during
importing modules.
If <code class="docutils literal notranslate"><span class="pre">False</span></code> is given, autodoc forcedly suppresses the error if the imported
module emits warnings.  By default, <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-autodoc_inherit_docstrings">
<code class="descname">autodoc_inherit_docstrings</code><a class="headerlink" href="#confval-autodoc_inherit_docstrings" title="永久链接至目标">¶</a></dt>
<dd><p>This value controls the docstrings inheritance.
If set to True the docstring for classes or methods, if not explicitly set,
is inherited form parents.</p>
<p>The default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">1.7 新版功能.</span></p>
</div>
</dd></dl>

<dl class="confval">
<dt>
<code class="descname">suppress_warnings</code></dt>
<dd><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">autodoc</span></code> supports to suppress warning messages via
<a class="reference internal" href="../configuration.html#confval-suppress_warnings"><code class="xref std std-confval docutils literal notranslate"><span class="pre">suppress_warnings</span></code></a>.  It allows following warnings types in
addition:</p>
<ul class="simple">
<li><p>autodoc</p></li>
<li><p>autodoc.import_object</p></li>
</ul>
</dd></dl>

</div>
<div class="section" id="docstring-preprocessing">
<h2>Docstring preprocessing<a class="headerlink" href="#docstring-preprocessing" title="永久链接至标题">¶</a></h2>
<p>autodoc provides the following additional events:</p>
<dl class="event">
<dt id="event-autodoc-process-docstring">
<code class="descname">autodoc-process-docstring</code><span class="sig-paren">(</span><em>app</em>, <em>what</em>, <em>name</em>, <em>obj</em>, <em>options</em>, <em>lines</em><span class="sig-paren">)</span><a class="headerlink" href="#event-autodoc-process-docstring" title="永久链接至目标">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">0.4 新版功能.</span></p>
</div>
<p>Emitted when autodoc has read and processed a docstring.  <em>lines</em> is a list
of strings – the lines of the processed docstring – that the event handler
can modify <strong>in place</strong> to change what Sphinx puts into the output.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>app</strong> – the Sphinx application object</p></li>
<li><p><strong>what</strong> – the type of the object which the docstring belongs to (one of
<code class="docutils literal notranslate"><span class="pre">&quot;module&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;class&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;exception&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;function&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;method&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;attribute&quot;</span></code>)</p></li>
<li><p><strong>name</strong> – the fully qualified name of the object</p></li>
<li><p><strong>obj</strong> – the object itself</p></li>
<li><p><strong>options</strong> – the options given to the directive: an object with attributes
<code class="docutils literal notranslate"><span class="pre">inherited_members</span></code>, <code class="docutils literal notranslate"><span class="pre">undoc_members</span></code>, <code class="docutils literal notranslate"><span class="pre">show_inheritance</span></code> and
<code class="docutils literal notranslate"><span class="pre">noindex</span></code> that are true if the flag option of same name was given to the
auto directive</p></li>
<li><p><strong>lines</strong> – the lines of the docstring, see above</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="event">
<dt id="event-autodoc-process-signature">
<code class="descname">autodoc-process-signature</code><span class="sig-paren">(</span><em>app</em>, <em>what</em>, <em>name</em>, <em>obj</em>, <em>options</em>, <em>signature</em>, <em>return_annotation</em><span class="sig-paren">)</span><a class="headerlink" href="#event-autodoc-process-signature" title="永久链接至目标">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">0.5 新版功能.</span></p>
</div>
<p>Emitted when autodoc has formatted a signature for an object. The event
handler can return a new tuple <code class="docutils literal notranslate"><span class="pre">(signature,</span> <span class="pre">return_annotation)</span></code> to change
what Sphinx puts into the output.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>app</strong> – the Sphinx application object</p></li>
<li><p><strong>what</strong> – the type of the object which the docstring belongs to (one of
<code class="docutils literal notranslate"><span class="pre">&quot;module&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;class&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;exception&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;function&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;method&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;attribute&quot;</span></code>)</p></li>
<li><p><strong>name</strong> – the fully qualified name of the object</p></li>
<li><p><strong>obj</strong> – the object itself</p></li>
<li><p><strong>options</strong> – the options given to the directive: an object with attributes
<code class="docutils literal notranslate"><span class="pre">inherited_members</span></code>, <code class="docutils literal notranslate"><span class="pre">undoc_members</span></code>, <code class="docutils literal notranslate"><span class="pre">show_inheritance</span></code> and
<code class="docutils literal notranslate"><span class="pre">noindex</span></code> that are true if the flag option of same name was given to the
auto directive</p></li>
<li><p><strong>signature</strong> – function signature, as a string of the form
<code class="docutils literal notranslate"><span class="pre">&quot;(parameter_1,</span> <span class="pre">parameter_2)&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if introspection didn’t
succeed and signature wasn’t specified in the directive.</p></li>
<li><p><strong>return_annotation</strong> – function return annotation as a string of the form
<code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">-&gt;</span> <span class="pre">annotation&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no return annotation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>The <a class="reference internal" href="#module-sphinx.ext.autodoc" title="sphinx.ext.autodoc: Include documentation from docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sphinx.ext.autodoc</span></code></a> module provides factory functions for commonly
needed docstring processing in event <a class="reference internal" href="#event-autodoc-process-docstring"><code class="xref std std-event docutils literal notranslate"><span class="pre">autodoc-process-docstring</span></code></a>:</p>
<dl class="function">
<dt id="sphinx.ext.autodoc.cut_lines">
<code class="descclassname">sphinx.ext.autodoc.</code><code class="descname">cut_lines</code><span class="sig-paren">(</span><em>pre</em>, <em>post=0</em>, <em>what=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/sphinx/ext/autodoc.html#cut_lines"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#sphinx.ext.autodoc.cut_lines" title="永久链接至目标">¶</a></dt>
<dd><p>Return a listener that removes the first <em>pre</em> and last <em>post</em>
lines of every docstring.  If <em>what</em> is a sequence of strings,
only docstrings of a type in <em>what</em> will be processed.</p>
<p>Use like this (e.g. in the <code class="docutils literal notranslate"><span class="pre">setup()</span></code> function of <code class="file docutils literal notranslate"><span class="pre">conf.py</span></code>):</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>from sphinx.ext.autodoc import cut_lines
app.connect(&#39;autodoc-process-docstring&#39;, cut_lines(4, what=[&#39;module&#39;]))
</pre></div>
</div>
<p>This can (and should) be used in place of <code class="xref std std-confval docutils literal notranslate"><span class="pre">automodule_skip_lines</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="sphinx.ext.autodoc.between">
<code class="descclassname">sphinx.ext.autodoc.</code><code class="descname">between</code><span class="sig-paren">(</span><em>marker</em>, <em>what=None</em>, <em>keepempty=False</em>, <em>exclude=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/sphinx/ext/autodoc.html#between"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#sphinx.ext.autodoc.between" title="永久链接至目标">¶</a></dt>
<dd><p>Return a listener that either keeps, or if <em>exclude</em> is True excludes,
lines between lines that match the <em>marker</em> regular expression.  If no line
matches, the resulting docstring would be empty, so no change will be made
unless <em>keepempty</em> is true.</p>
<p>If <em>what</em> is a sequence of strings, only docstrings of a type in <em>what</em> will
be processed.</p>
</dd></dl>

</div>
<div class="section" id="skipping-members">
<h2>Skipping members<a class="headerlink" href="#skipping-members" title="永久链接至标题">¶</a></h2>
<p>autodoc allows the user to define a custom method for determining whether a
member should be included in the documentation by using the following event:</p>
<dl class="event">
<dt id="event-autodoc-skip-member">
<code class="descname">autodoc-skip-member</code><span class="sig-paren">(</span><em>app</em>, <em>what</em>, <em>name</em>, <em>obj</em>, <em>skip</em>, <em>options</em><span class="sig-paren">)</span><a class="headerlink" href="#event-autodoc-skip-member" title="永久链接至目标">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">0.5 新版功能.</span></p>
</div>
<p>Emitted when autodoc has to decide whether a member should be included in the
documentation.  The member is excluded if a handler returns <code class="docutils literal notranslate"><span class="pre">True</span></code>.  It is
included if the handler returns <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If more than one enabled extension handles the <code class="docutils literal notranslate"><span class="pre">autodoc-skip-member</span></code>
event, autodoc will use the first non-<code class="docutils literal notranslate"><span class="pre">None</span></code> value returned by a handler.
Handlers should return <code class="docutils literal notranslate"><span class="pre">None</span></code> to fall back to the skipping behavior of
autodoc and other enabled extensions.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>app</strong> – the Sphinx application object</p></li>
<li><p><strong>what</strong> – the type of the object which the docstring belongs to (one of
<code class="docutils literal notranslate"><span class="pre">&quot;module&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;class&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;exception&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;function&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;method&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;attribute&quot;</span></code>)</p></li>
<li><p><strong>name</strong> – the fully qualified name of the object</p></li>
<li><p><strong>obj</strong> – the object itself</p></li>
<li><p><strong>skip</strong> – a boolean indicating if autodoc will skip this member if the
user handler does not override the decision</p></li>
<li><p><strong>options</strong> – the options given to the directive: an object with attributes
<code class="docutils literal notranslate"><span class="pre">inherited_members</span></code>, <code class="docutils literal notranslate"><span class="pre">undoc_members</span></code>, <code class="docutils literal notranslate"><span class="pre">show_inheritance</span></code> and
<code class="docutils literal notranslate"><span class="pre">noindex</span></code> that are true if the flag option of same name was given to the
auto directive</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="autosectionlabel.html" class="btn btn-neutral float-right" title="sphinx.ext.autosectionlabel – Allow reference sections using its title" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="扩展" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2007-2019, Georg Brandl and the Sphinx team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>