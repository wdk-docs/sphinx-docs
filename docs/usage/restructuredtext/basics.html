
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <title>RST初级读本 &#8212; Sphinx 2.1.0+/e678b9c34 文档</title>
    <link rel="stylesheet" href="../../_static/sphinx13.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx 2.1.0+/e678b9c34 文档 中搜索"
          href="../../_static/opensearch.xml"/>

    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="角色" href="roles.html" />
    <link rel="prev" title="reStructuredText" href="index.html" />
<link rel="canonical" href="http://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html" />

<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css' />
 
<style type="text/css">
  table.right {
    float: right;
    margin-left: 20px;
  }

  table.right td {
    border: 1px solid #ccc;
  }

    {
    % if pagename=='index'%
  }

  .related {
    display: none;
  }

    {
    % endif %
  }
</style>
<script type="text/javascript">
  // intelligent scrolling of the sidebar content
  $(window).scroll(function () {
    var sb = $('.sphinxsidebarwrapper');
    var win = $(window);
    var sbh = sb.height();
    var offset = $('.sphinxsidebar').position()['top'];
    var wintop = win.scrollTop();
    var winbot = wintop + win.innerHeight();
    var curtop = sb.position()['top'];
    var curbot = curtop + sbh;
    // does sidebar fit in window?
    if (sbh < win.innerHeight()) {
      // yes: easy case -- always keep at the top
      sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
        $(document).height() - sbh - 200
      ]));
    } else {
      // no: only scroll if top/bottom edge of sidebar is at
      // top/bottom edge of window
      if (curtop > wintop && curbot > winbot) {
        sb.css('top', $u.max([wintop - offset - 10, 0]));
      } else if (curtop < wintop && curbot < winbot) {
        sb.css('top', $u.min([winbot - sbh - offset - 20,
          $(document).height() - sbh - 200
        ]));
      }
    }
  });
</script>

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../../index.html">主页</a></li>
    <li><a href="../installation.html">安装</a></li>
    <li><a href="../../contents.html">文档</a></li>
    <li><a href="../../develop.html">扩展/开发</a></li>
  </ul>
  <div>
    <a href="../../index.html">
      <img src="../../_static/sphinxheader.png" alt="SPHINX" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../../http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="roles.html" title="角色"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="index.html" title="reStructuredText"
             accesskey="P">上一页</a> |</li>
<li><a href="../../index.html">主页</a>&#160;|</li>
<li><a href="../../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">reStructuredText</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">RST初级读本</a><ul>
<li><a class="reference internal" href="#paragraphs">段落</a></li>
<li><a class="reference internal" href="#inline-markup">行内标记</a></li>
<li><a class="reference internal" href="#lists-and-quote-like-blocks">列表和引用样块</a></li>
<li><a class="reference internal" href="#literal-blocks">文字块</a></li>
<li><a class="reference internal" href="#doctest-blocks">Doctest块</a></li>
<li><a class="reference internal" href="#tables">表</a></li>
<li><a class="reference internal" href="#hyperlinks">超链接</a><ul>
<li><a class="reference internal" href="#external-links">外部链接</a></li>
<li><a class="reference internal" href="#internal-links">内部链接</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sections">章节标题</a></li>
<li><a class="reference internal" href="#field-lists">域列表</a></li>
<li><a class="reference internal" href="#roles">角色</a></li>
<li><a class="reference internal" href="#explicit-markup">显式标记</a></li>
<li><a class="reference internal" href="#directives">指令</a></li>
<li><a class="reference internal" href="#images">图片</a></li>
<li><a class="reference internal" href="#footnotes">脚注</a></li>
<li><a class="reference internal" href="#citations">引文</a></li>
<li><a class="reference internal" href="#substitutions">替换</a></li>
<li><a class="reference internal" href="#comments">评论</a></li>
<li><a class="reference internal" href="#source-encoding">源编码</a></li>
<li><a class="reference internal" href="#gotchas">陷阱</a></li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="index.html"
                        title="上一章">reStructuredText</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="roles.html"
                        title="下一章">角色</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/usage/restructuredtext/basics.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="restructuredtext-primer">
<span id="rst-primer"></span><h1>RST初级读本<a class="headerlink" href="#restructuredtext-primer" title="永久链接至标题">¶</a></h1>
<p>reStructuredText是Sphinx使用的默认纯文本标记语言。 本节简要介绍reStructuredText(reST)概念和语法，旨在为作者提供足够的信息，以高效地编写文档。 由于reST旨在成为一种简单，不显眼的标记语言，因此这不会花费太长时间。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p>权威的 <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText用户文档</a> 。本文档中的”ref”链接链接到reST参考中各个构造的描述。</p>
</div>
<div class="section" id="paragraphs">
<h2>段落<a class="headerlink" href="#paragraphs" title="永久链接至标题">¶</a></h2>
<p>段落(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#paragraph">ref</a>)是reST文档中最基本的块。段落只是由一个或多个空行分隔的文本块。与在Python中一样，缩进在reST中很重要，因此同一段落中的所有行必须左对齐到相同的缩进级别。</p>
</div>
<div class="section" id="inline-markup">
<span id="rst-inline-markup"></span><h2>行内标记<a class="headerlink" href="#inline-markup" title="永久链接至标题">¶</a></h2>
<p>标准的reST行内标记非常简单: 使用</p>
<ul class="simple">
<li><p>一个星号: <code class="docutils literal notranslate"><span class="pre">*text*</span></code> 用于强调( <em>斜体</em> )，</p></li>
<li><p>两个星号: <code class="docutils literal notranslate"><span class="pre">**text**</span></code> 用于强调( <strong>粗体</strong> )</p></li>
<li><p>反引号: <code class="docutils literal notranslate"><span class="pre">``text``</span></code> 代码示例( <code class="docutils literal notranslate"><span class="pre">code</span></code> )。</p></li>
</ul>
<p>如果星号或反引号出现在正在运行的文本中并且可能与行内标记分隔符混淆，则必须使用反斜杠对其进行转义。</p>
<p>请注意此标记的一些限制:</p>
<ul class="simple">
<li><p>它不能嵌套，</p></li>
<li><p>内容无法以空格开头或结尾: <code class="docutils literal notranslate"><span class="pre">*</span> <span class="pre">text*</span></code> 错误，</p></li>
<li><p>必须通过非单词字符将其与周围文本分开。使用反斜杠转义空格来解决这个问题: <code class="docutils literal notranslate"><span class="pre">thisis\</span> <span class="pre">*one*\</span> <span class="pre">word</span></code>。</p></li>
</ul>
<p>在将来的docutils版本中可能会取消这些限制。</p>
<p>也可以使用角色替换或扩展此行内标记。有关更多信息，请参阅 <a class="reference internal" href="#rst-roles-alt"><span class="std std-ref">角色</span></a> 。</p>
</div>
<div class="section" id="lists-and-quote-like-blocks">
<h2>列表和引用样块<a class="headerlink" href="#lists-and-quote-like-blocks" title="永久链接至标题">¶</a></h2>
<p>列表标记(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#bullet-lists">ref</a>)很自然:只需在段落的开头放一个星号并正确缩进。编号列表也是如此;它们也可以使用 <code class="docutils literal notranslate"><span class="pre">＃</span></code> 符号自动编号:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="m">*</span> This is a bulleted list.
<span class="m">*</span> It has two items, the second
  item uses two lines.

<span class="m">1.</span> This is a numbered list.
<span class="m">2.</span> It has two items too.

<span class="m">#.</span> This is a numbered list.
<span class="m">#.</span> It has two items too.
</pre></div>
</div>
<p>也可以嵌套列表，但注意它们必须通过空行与父列表项分开:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="m">*</span> this is
<span class="m">*</span> a list

  <span class="m">*</span> with a nested list
  <span class="m">*</span> and some subitems

<span class="m">*</span> and here the parent list continues
</pre></div>
</div>
<p>定义列表(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#definition-lists">ref</a>)创建如下:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>term (up to a line of text)
   Definition of the term, which must be indented

   and can even consist of multiple paragraphs

next term
   Description.
</pre></div>
</div>
<p>请注意，该术语不能包含多行文本。</p>
<p>引用的段落(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#block-quotes">ref</a>)只是通过缩进它们而不是周围的段落来创建。</p>
<p>行块(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#line-blocks">ref</a>)是一种保留换行符的方法:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> These lines are
<span class="o">|</span> broken exactly like in
<span class="o">|</span> the source file.
</pre></div>
</div>
<p>还有几个特殊的块可用:</p>
<ul class="simple">
<li><p>字段列表(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#field-lists">ref</a>，注意事项 <a class="reference internal" href="#rst-field-lists"><span class="std std-ref">域列表</span></a>)</p></li>
<li><p>选项列表 (<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#option-lists">ref</a>)</p></li>
<li><p>引用文字块 (<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#quoted-literal-blocks">ref</a>)</p></li>
<li><p>doctest块 (<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#doctest-blocks">ref</a>)</p></li>
</ul>
</div>
<div class="section" id="literal-blocks">
<span id="rst-literal-blocks"></span><h2>文字块<a class="headerlink" href="#literal-blocks" title="永久链接至标题">¶</a></h2>
<p>通过使用特殊标记 <code class="docutils literal notranslate"><span class="pre">::</span></code> 结束段落来引入文字代码块(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#literal-blocks">ref</a>)。文字块必须缩进(和所有段落一样，用空行与周围的段分开):</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>This is a normal text paragraph. The next paragraph is a code sample<span class="se">::</span>

<span class="s">   It is not processed in any way, except</span>
<span class="s">   that the indentation is removed.</span>

<span class="s">   It can span multiple lines.</span>

This is a normal text paragraph again.
</pre></div>
</div>
<p>处理 <code class="docutils literal notranslate"><span class="pre">::</span></code> 标记是聪明的:</p>
<ul class="simple">
<li><p>如果它作为自己的段落出现，则该段落完全不在文档中。</p></li>
<li><p>如果前面有空格，则删除标记。</p></li>
<li><p>如果前面是非空格，则标记将替换为单个冒号。</p></li>
</ul>
<p>这样，上面例子的第一段中的第二句将呈现为 “The next paragraph is a code sample:”。</p>
<p>可以使用 <a class="reference internal" href="directives.html#directive-highlight" title="highlight directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">highlight</span></code></a> 指令在文档范围内为这些文字块启用代码突出显示，并在项目范围内使用  <a class="reference internal" href="../configuration.html#confval-highlight_language"><code class="xref std std-confval docutils literal notranslate"><span class="pre">highlight_language</span></code></a> 配置选项。 <a class="reference internal" href="directives.html#directive-code-block" title="code-block directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">code-block</span></code></a> 指令可用于逐块设置突出显示。这些指令将在后面讨论。</p>
</div>
<div class="section" id="doctest-blocks">
<span id="rst-doctest-blocks"></span><h2>Doctest块<a class="headerlink" href="#doctest-blocks" title="永久链接至标题">¶</a></h2>
<p>Doctest块(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#doctest-blocks">ref</a>)是切换并粘贴到文档字符串中的交互式Python会话。它们不需要 <a class="reference internal" href="#rst-literal-blocks"><span class="std std-ref">literal blocks</span></a> 语法。 doctest块必须以空行结束，并且 <em>不</em> 以未使用的提示结束:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; 1 + 1
2
</pre></div>
</div>
</div>
<div class="section" id="tables">
<span id="rst-tables"></span><h2>表<a class="headerlink" href="#tables" title="永久链接至标题">¶</a></h2>
<p>对于 <em>grid tables</em> (<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#grid-tables">ref</a>)，你必须自己”绘制”单元格网格。他们看起来像这样:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>+------------------------+------------+----------+----------+
<span class="o">|</span> Header row, column 1   | Header 2   | Header 3 | Header 4 |
<span class="o">|</span> (header rows optional) |            |          |          |
+========================+============+==========+==========+
<span class="o">|</span> body row 1, column 1   | column 2   | column 3 | column 4 |
+------------------------+------------+----------+----------+
<span class="o">|</span> body row 2             | ...        | ...      |          |
+------------------------+------------+----------+----------+
</pre></div>
</div>
<p><em>简单表</em> (<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#simple-tables">ref</a>)更容易编写，但有限制: 它们必须包含多行，并且第一列单元格不能包含多行。他们看起来像这样:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>=====  =====  =======
A      B      A and B
=====  =====  =======
False  False  False
True   False  False
False  True   False
True   True   True
=====  =====  =======
</pre></div>
</div>
<p>支持另外两种语法: <em>CSV表</em> 和 <em>列表</em> 。他们使用 <em>显式标记块</em> 。有关更多信息，请参阅 <a class="reference internal" href="directives.html#table-directives"><span class="std std-ref">表格</span></a>。</p>
</div>
<div class="section" id="hyperlinks">
<h2>超链接<a class="headerlink" href="#hyperlinks" title="永久链接至标题">¶</a></h2>
<div class="section" id="external-links">
<h3>外部链接<a class="headerlink" href="#external-links" title="永久链接至标题">¶</a></h3>
<p>使用 <code class="docutils literal notranslate"><span class="pre">`链接文本</span> <span class="pre">&lt;https://domain.invalid/&gt;`_</span></code> 进行行内网络链接。如果链接文本应该是Web地址，则根本不需要特殊标记，解析器会在普通文本中查找链接和邮件地址。</p>
<div class="admonition important">
<p class="admonition-title">重要</p>
<p>链接文本与URL的开头 &lt; 之间必须有空格。</p>
</div>
<p>你也可以把链接和目标定义分开(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#hyperlink-targets">ref</a>)，就像这样:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>This is a paragraph that contains <span class="s">`a link`_</span>.

<span class="p">..</span> <span class="nt">_a link:</span> https://domain.invalid/
</pre></div>
</div>
</div>
<div class="section" id="internal-links">
<h3>内部链接<a class="headerlink" href="#internal-links" title="永久链接至标题">¶</a></h3>
<p>内部链接是通过Sphinx提供的特殊reST角色完成的，请参阅特定标记部分 <a class="reference internal" href="roles.html#ref-role"><span class="std std-ref">交叉引用任意位置</span></a> 。</p>
</div>
</div>
<div class="section" id="sections">
<h2>章节标题<a class="headerlink" href="#sections" title="永久链接至标题">¶</a></h2>
<p>通过使用标点符号为节标题(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#sections">ref</a>)加下划线(上划线可选)来创建节标题, 至少与文本一样长:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="gh">=================</span>
<span class="gh">This is a heading</span>
<span class="gh">=================</span>
</pre></div>
</div>
<p>通常，没有为某些字符分配标题级别，因为结构是从标题的连续性确定的。但是，这个约定在 <a class="reference external" href="https://docs.python.org/devguide/documenting.html#style-guide">Python的样式指南中用于记录</a> ，您可以遵循:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">#</span></code> 有上线，用于编</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code> 有上线，用于章</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">=</span></code>, 用于节</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-</span></code>, 用于小节</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^</span></code>, 用于子小节</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;</span></code>, 用于款</p></li>
</ul>
<p>当然，您可以自由使用自己的标记字符(请参阅reST文档)，并使用更深层次的嵌套级别，但请记住，大多数目标格式(HTML，LaTeX)具有有限的支持嵌套深度。</p>
</div>
<div class="section" id="field-lists">
<span id="rst-field-lists"></span><h2>域列表<a class="headerlink" href="#field-lists" title="永久链接至标题">¶</a></h2>
<p>域列表(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#field-lists">ref</a>)是标记为这样的域序列:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="nc">:fieldname:</span> <span class="nf">Field content</span>
</pre></div>
</div>
<p>它们通常用于Python文档中:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>def my_function(my_arg, my_other_arg):
    &quot;&quot;&quot;A function just for me.

    <span class="nc">:param my_arg:</span> <span class="nf">The first of my arguments.</span>
    <span class="nc">:param my_other_arg:</span> <span class="nf">The second of my arguments.</span>

    <span class="nc">:returns:</span> <span class="nf">A message (just for me, of course).</span>
    &quot;&quot;&quot;
</pre></div>
</div>
<p>Sphinx扩展了标准的docutils行为，并拦截了文档开头指定的字段列表。有关更多信息，请参阅 <a class="reference internal" href="field-lists.html"><span class="doc">域清单</span></a>。</p>
</div>
<div class="section" id="roles">
<span id="rst-roles-alt"></span><h2>角色<a class="headerlink" href="#roles" title="永久链接至标题">¶</a></h2>
<p>角色或 “自定义解释文本角色” (<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#roles">ref</a>)是显式标记的行内部分。它表示应以特定方式解释所附文本。 Sphinx使用它来提供标识符的语义标记和交叉引用，如相应章节中所述。一般语法是 <code class="docutils literal notranslate"><span class="pre">:rolename:`content`</span></code> 。</p>
<p>Docutils支持以下角色:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/roles.html#emphasis">emphasis</a> – 相当于 <code class="docutils literal notranslate"><span class="pre">*emphasis*</span></code></p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/roles.html#strong">strong</a> – 相当于 <code class="docutils literal notranslate"><span class="pre">**strong**</span></code></p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/roles.html#literal">literal</a> – 相当于 <code class="docutils literal notranslate"><span class="pre">``literal``</span></code></p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/roles.html#subscript">subscript</a> – 下标文字</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/roles.html#superscript">superscript</a> – 上标文字</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/roles.html#title-reference">title-reference</a> – 用于书籍，期刊和其他材料的标题</p></li>
</ul>
<p>请参阅 <a class="reference internal" href="roles.html"><span class="doc">角色</span></a> ，了解Sphinx添加的角色。</p>
</div>
<div class="section" id="explicit-markup">
<h2>显式标记<a class="headerlink" href="#explicit-markup" title="永久链接至标题">¶</a></h2>
<p>“显式标记”(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#explicit-markup-blocks">ref</a>)在reST中用于大多数需要特殊处理的构造，例如脚注，特别突出显示的段落，注释和泛型指令。</p>
<p>显式标记块以一行开头，以”..”开头，后跟空格，并在相同的缩进级别由下一段终止。 (显式标记和普通段落之间需要有一个空行。这可能听起来有点复杂，但是当你写它时它足够直观。)</p>
</div>
<div class="section" id="directives">
<span id="rst-directives"></span><h2>指令<a class="headerlink" href="#directives" title="永久链接至标题">¶</a></h2>
<p>指令(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#directives">ref</a>)是显式标记的通用块。与角色一起，它是reST的扩展机制之一，并且Sphinx大量使用它。</p>
<p>Docutils支持以下指令:</p>
<ul>
<li><p>忠告: <a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#attention">注意(attention)</a>，<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#caution">警告(caution)</a>，<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#danger">危险(danger)</a>，<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#error">错误(error)</a>，<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#hint">暗示(hint)</a>，<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#important">重要(important)</a>，<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#note">注释(note)</a> ，<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#tip">技巧(tip)</a>，<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#warning">警告(warning)</a> 和泛型 <a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#admonitions">警告(admonitions)</a> 。 (大多数主题仅限于 “note” 和 “warning” 。)</p></li>
<li><p>图片:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#image">image</a> (另见下面的 <a class="reference internal" href="#images">Images</a> )</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#figure">figure</a> (带有标题和可选图例的图像)</p></li>
</ul>
</li>
<li><p>额外的 body 元素:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#table-of-contents">contents</a> (本地，即仅当前文件，目录)</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#container">container</a> (一个带有自定义类的容器，用于在HTML中生成外部 <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> )</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#rubric">rubric</a> (与文档切片无关的标题)</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#topic">topic</a> , <a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#sidebar">sidebar</a> (特别突出的 body 元素)</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#parsed-literal">parsed-literal</a> (支持行内标记的文字块)</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#epigraph">epigraph</a> (带有可选归因线的块引用)</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#highlight">highlight</a> ， <a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#pull-quote">pull-quote</a> (带有自己的class属性的块引号)</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#compound-paragraph">compound</a> (复合段)</p></li>
</ul>
</li>
<li><p>特别表:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#table">table</a> (带标题的表格)</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#csv-table">csv-table</a> (从逗号分隔值生成的表)</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#list-table">list-table</a> (从列表列表生成的表)</p></li>
</ul>
</li>
<li><p>特别指令:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#raw-data-pass-through">raw</a> (包括原始目标格式标记)</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#include">include</a> (包括来自另一个文件的 reStructuredText) - 在Sphinx中，当给定一个绝对包含文件路径时，该指令将其作为相对于源目录的</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#class">class</a> (为下一个元素分配一个class属性) <a class="footnote-reference brackets" href="#id2" id="id1">1</a></p></li>
</ul>
</li>
<li><p>HTML细节:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#meta">meta</a> (生成HTML `` &lt;meta&gt;`` 标签)</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#metadata-document-title">title</a> (覆盖文档标题)</p></li>
</ul>
</li>
<li><p>影响标记:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#default-role">default-role</a> (设置一个新的默认角色)</p></li>
<li><p><a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#role">role</a> (创建一个新角色)</p></li>
</ul>
<p>由于这些只是每个文件，因此最好使用Sphinx的工具来设置 <a class="reference internal" href="../configuration.html#confval-default_role"><code class="xref std std-confval docutils literal notranslate"><span class="pre">default_role</span></code></a>。</p>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p><em>不</em> 要使用指令 <a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#sectnum">sectnum</a> ，<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#header">header</a> 和 <a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#footer">footer</a> 。</p>
</div>
<p>Sphinx添加的指令描述于 <a class="reference internal" href="directives.html"><span class="doc">指令</span></a> 。</p>
<p>基本上，指令由名称，参数，选项和内容组成。 (记住这个术语，它将在下一章描述自定义指令中使用。)看看这个例子，:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">function</span><span class="p">::</span> foo(x)
              foo(y, z)
   <span class="nc">:module:</span> <span class="nf">some.module.name</span>

   Return a line of text input from the user.
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">function</span></code> 是指令名称。这里给出了两个参数，第一行和第二行的其余部分，以及一个选项 <code class="docutils literal notranslate"><span class="pre">module</span></code> (如你所见，选项在紧跟在参数后面的行中给出并由冒号表示) 。选项必须缩进到与指令内容相同的级别。</p>
<p>指令内容在空白行后面，并相对于指令开始缩进。</p>
</div>
<div class="section" id="images">
<h2>图片<a class="headerlink" href="#images" title="永久链接至标题">¶</a></h2>
<p>reST支持一个image指令(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/directives.html#image">ref</a>)，像这样使用:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">image</span><span class="p">::</span> gnu.png
   (options)
</pre></div>
</div>
<p>在Sphinx中使用时，给定的文件名(此处为 <code class="docutils literal notranslate"><span class="pre">gnu.png</span></code> )必须相对于源文件，或者绝对意味着它们相对于顶级源目录。例如，文件 <code class="docutils literal notranslate"><span class="pre">sketch/spam.rst</span></code> 可以将图像 <code class="docutils literal notranslate"><span class="pre">images/spam.png</span></code> 写为 <code class="docutils literal notranslate"><span class="pre">../images/spam.png</span></code> 或 <code class="docutils literal notranslate"><span class="pre">/images/spam.png</span></code> 。</p>
<p>Sphinx会自动将图像文件复制到构建的输出目录的子目录中(例如，用于HTML输出的 <code class="docutils literal notranslate"><span class="pre">_static</span></code> 目录。)</p>
<p>图像大小选项( <code class="docutils literal notranslate"><span class="pre">width</span></code> 和 <code class="docutils literal notranslate"><span class="pre">height</span></code> )的解释如下:如果大小没有单位或单位是像素，则只有支持像素的输出通道才会考虑给定大小。其他单位(如点的 <code class="docutils literal notranslate"><span class="pre">pt</span></code> )将用于HTML和LaTeX输出(后者用 <code class="docutils literal notranslate"><span class="pre">bp</span></code> 替换 <code class="docutils literal notranslate"><span class="pre">pt</span></code> ，因为这是TeX单元，<code class="docutils literal notranslate"><span class="pre">72bp=1in</span></code> )。</p>
<p>Sphinx通过允许扩展名的星号来扩展标准的docutils行为:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">image</span><span class="p">::</span> gnu.*
</pre></div>
</div>
<p>然后，Sphinx搜索与提供的模式匹配的所有图像并确定其类型。然后，每个构建器从这些候选者中选择最佳图像。例如，如果给出了文件名 <code class="docutils literal notranslate"><span class="pre">gnu.*</span></code> 并且源树中存在两个文件 <code class="file docutils literal notranslate"><span class="pre">gnu.pdf</span></code> 和 <code class="file docutils literal notranslate"><span class="pre">gnu.png</span></code> ，则LaTeX构建器将选择前者，而HTML构建器更喜欢后者。支持的图像类型和选择优先级定义在 <a class="reference internal" href="../builders/index.html"><span class="doc">构建器</span></a> 。</p>
<p>请注意，图像文件名不应包含空格。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.4 版更改: </span>添加了对以星号结尾的文件名的支持。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.6 版更改: </span>图像路径现在可以是绝对的。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.5 版更改: </span>latex目标支持像素(默认为 <code class="docutils literal notranslate"><span class="pre">96px=1in</span></code>)。</p>
</div>
</div>
<div class="section" id="footnotes">
<h2>脚注<a class="headerlink" href="#footnotes" title="永久链接至标题">¶</a></h2>
<p>对于脚注(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#footnotes">ref</a>)，使用 <code class="docutils literal notranslate"><span class="pre">[#name]_</span></code> 标记脚注位置，并在 “Footnotes ” 标题后添加脚注主体在文档底部，像这样:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>Lorem ipsum <span class="s">[#f1]_</span> dolor sit amet ... <span class="s">[#f2]_</span>

<span class="p">..</span> <span class="ow">rubric</span><span class="p">::</span> Footnotes

<span class="p">..</span> <span class="nt">[#f1]</span> Text of the first footnote.
<span class="p">..</span> <span class="nt">[#f2]</span> Text of the second footnote.
</pre></div>
</div>
<p>您还可以明确编号脚注(<code class="docutils literal notranslate"><span class="pre">[1]_</span></code>)或使用不带名字的自动编号脚注(<code class="docutils literal notranslate"><span class="pre">[＃]_</span></code>)。</p>
</div>
<div class="section" id="citations">
<h2>引文<a class="headerlink" href="#citations" title="永久链接至标题">¶</a></h2>
<p>支持标准reST引用(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#citations">ref</a>)，其附加功能是 “global” ，即所有引用都可以从所有文件引用。像这样使用它们:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>Lorem ipsum <span class="s">[Ref]_</span> dolor sit amet.

<span class="p">..</span> <span class="nt">[Ref]</span> Book or article reference, URL or whatever.
</pre></div>
</div>
<p>引用用法类似于脚注用法，但标签不是数字或以”＃”开头。</p>
</div>
<div class="section" id="substitutions">
<h2>替换<a class="headerlink" href="#substitutions" title="永久链接至标题">¶</a></h2>
<p>reST支持 “substitutions” (<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#substitution-definitions">ref</a>)，它们是文本中按 <code class="docutils literal notranslate"><span class="pre">|name|</span></code> 引用的文本和/或标记。它们被定义为带有显式标记块的脚注，如下:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">|name|</span> <span class="ow">replace</span><span class="p">::</span> replacement <span class="ge">*text*</span>
</pre></div>
</div>
<p>或这个:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">|caution|</span> <span class="ow">image</span><span class="p">::</span> warning.png
             <span class="nc">:alt:</span> <span class="nf">Warning!</span>
</pre></div>
</div>
<p>有关详细信息，请参阅 <a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#substitution-definitions">reST参考替换</a> 。</p>
<p id="index-0">如果要对所有文档使用一些替换，请将它们放入 <a class="reference internal" href="../configuration.html#confval-rst_prolog"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rst_prolog</span></code></a> 或 <a class="reference internal" href="../configuration.html#confval-rst_epilog"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rst_epilog</span></code></a> 或将它们放入单独的文件中，并将其包含在要使用它们的所有文档中，使用 <code class="xref rst rst-dir docutils literal notranslate"><span class="pre">include</span></code> 指令。 (确保为include文件提供与其他源文件不同的文件扩展名，以避免Sphinx将其作为独立文档发现。)</p>
<p>Sphinx定义了一些默认替换，请参阅 <a class="reference internal" href="roles.html#default-substitutions"><span class="std std-ref">替换</span></a> 。</p>
</div>
<div class="section" id="comments">
<h2>评论<a class="headerlink" href="#comments" title="永久链接至标题">¶</a></h2>
<p>每个显式标记块都不是有效的标记结构(如上面的脚注)，它被视为注释(<a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#comments">ref</a>)。例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="cp">.. This is a comment.</span>
</pre></div>
</div>
<p>您可以在评论开始后缩进文本以形成多行注释:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="cp">..</span>
<span class="cp">   This whole indented block</span>
<span class="cp">   is a comment.</span>

<span class="cp">   Still in the comment.</span>
</pre></div>
</div>
</div>
<div class="section" id="source-encoding">
<h2>源编码<a class="headerlink" href="#source-encoding" title="永久链接至标题">¶</a></h2>
<p>由于在reST中包含特殊字符(例如em破折号或版权符号)的最简单方法是将它们直接写为Unicode字符，因此必须指定编码。 Sphinx默认假设源文件以UTF-8编码;你可以用 <a class="reference internal" href="../configuration.html#confval-source_encoding"><code class="xref std std-confval docutils literal notranslate"><span class="pre">source_encoding</span></code></a> 配置值来改变它。</p>
</div>
<div class="section" id="gotchas">
<h2>陷阱<a class="headerlink" href="#gotchas" title="永久链接至标题">¶</a></h2>
<p>在编写reST文档时，通常会遇到一些问题:</p>
<ul class="simple">
<li><p><strong>行内标记的分离:</strong> 如上所述，行内标记跨度必须通过非单词字符与周围文本分开，您必须使用反斜杠转义空格来绕过它。有关详细信息，请参阅 <a class="reference external" href="https://wdk-docs.github.io/docutils-docs/ref/rst/restructuredtext.html#substitution-definitions">引用</a> 。</p></li>
<li><p><strong>没有嵌套的行内标记:</strong> 像 <code class="docutils literal notranslate"><span class="pre">*see</span> <span class="pre">:func:`foo`*</span></code> 这样的东西是不可能的。</p></li>
</ul>
<p class="rubric">脚注</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>当默认域包含 <code class="xref rst rst-dir docutils literal notranslate"><span class="pre">class</span></code> 指令时，该指令将被遮蔽。因此，Sphinx将其重新输出为 <code class="xref rst rst-dir docutils literal notranslate"><span class="pre">rst-class</span></code> 。</p>
</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="../../http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="roles.html" title="角色"
             >下一页</a> |</li>
        <li class="right" >
          <a href="index.html" title="reStructuredText"
             >上一页</a> |</li>
<li><a href="../../index.html">主页</a>&#160;|</li>
<li><a href="../../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >reStructuredText</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2007-2019, Georg Brandl and the Sphinx team.
      由 <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.0+/e678b9c34 创建。
    </div>
  </body>
</html>