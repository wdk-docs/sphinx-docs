
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <title>指令 &#8212; Sphinx 2.1.0+/54c2e3a 文档</title>
    <link rel="stylesheet" href="../../_static/sphinx13.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx 2.1.0+/54c2e3a 文档 中搜索"
          href="../../_static/opensearch.xml"/>

    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="Field Lists" href="field-lists.html" />
    <link rel="prev" title="角色" href="roles.html" />
<link rel="canonical" href="http://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html" />

<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css' />
 
<style type="text/css">
  table.right {
    float: right;
    margin-left: 20px;
  }

  table.right td {
    border: 1px solid #ccc;
  }

    {
    % if pagename=='index'%
  }

  .related {
    display: none;
  }

    {
    % endif %
  }
</style>
<script type="text/javascript">
  // intelligent scrolling of the sidebar content
  $(window).scroll(function () {
    var sb = $('.sphinxsidebarwrapper');
    var win = $(window);
    var sbh = sb.height();
    var offset = $('.sphinxsidebar').position()['top'];
    var wintop = win.scrollTop();
    var winbot = wintop + win.innerHeight();
    var curtop = sb.position()['top'];
    var curbot = curtop + sbh;
    // does sidebar fit in window?
    if (sbh < win.innerHeight()) {
      // yes: easy case -- always keep at the top
      sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
        $(document).height() - sbh - 200
      ]));
    } else {
      // no: only scroll if top/bottom edge of sidebar is at
      // top/bottom edge of window
      if (curtop > wintop && curbot > winbot) {
        sb.css('top', $u.max([wintop - offset - 10, 0]));
      } else if (curtop < wintop && curbot < winbot) {
        sb.css('top', $u.min([winbot - sbh - offset - 20,
          $(document).height() - sbh - 200
        ]));
      }
    }
  });
</script>

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../../index.html">主页</a></li>
    <li><a href="../installation.html">安装</a></li>
    <li><a href="../../contents.html">文档</a></li>
    <li><a href="../../develop.html">扩展/开发</a></li>
  </ul>
  <div>
    <a href="../../index.html">
      <img src="../../_static/sphinxheader.png" alt="SPHINX" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="field-lists.html" title="Field Lists"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="roles.html" title="角色"
             accesskey="P">上一页</a> |</li>
<li><a href="../../index.html">主页</a>&#160;|</li>
<li><a href="../../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">reStructuredText</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">指令</a><ul>
<li><a class="reference internal" href="#table-of-contents">目录</a><ul>
<li><a class="reference internal" href="#special-names">特别的名字</a></li>
</ul>
</li>
<li><a class="reference internal" href="#paragraph-level-markup">段落级标记</a></li>
<li><a class="reference internal" href="#showing-code-examples">显示代码示例</a></li>
<li><a class="reference internal" href="#glossary">术语</a></li>
<li><a class="reference internal" href="#meta-information-markup">元信息标记</a></li>
<li><a class="reference internal" href="#index-generating-markup">索引生成标记</a></li>
<li><a class="reference internal" href="#including-content-based-on-tags">包括基于标签的内容</a></li>
<li><a class="reference internal" href="#tables">表</a></li>
<li><a class="reference internal" href="#math">数学</a></li>
<li><a class="reference internal" href="#grammar-production-displays">语法制作显示</a></li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="roles.html"
                        title="上一章">角色</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="field-lists.html"
                        title="下一章">Field Lists</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/usage/restructuredtext/directives.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="directives">
<h1>指令<a class="headerlink" href="#directives" title="永久链接至标题">¶</a></h1>
<p><a class="reference internal" href="basics.html#rst-directives"><span class="std std-ref">如前所述</span></a>，指令是显式标记的通用块。虽然Docutils提供了许多指令，但Sphinx提供了更多指令，并使用指令作为主要的扩展机制之一。</p>
<p>请参阅 <a class="reference internal" href="domains.html"><span class="doc">域</span></a> ，了解域添加的角色。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p>有关Docutils提供的指令的概述，请参阅 <a class="reference internal" href="basics.html#rst-directives"><span class="std std-ref">reStructuredText Primer</span></a> 。</p>
</div>
<div class="section" id="table-of-contents">
<span id="toctree-directive"></span><h2>目录<a class="headerlink" href="#table-of-contents" title="永久链接至标题">¶</a></h2>
<p id="index-0">由于reST没有连接多个文档或将文档拆分为多个输出文件的工具，因此Sphinx使用自定义指令来添加文档所包含的单个文件之间的关系，以及目录。 <code class="docutils literal notranslate"><span class="pre">toctree</span></code> 指令是中心元素。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>可以使用 <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#include">include</a> 指令将一个文件简单地”包含”在另一个文件中。</p>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>对于本地目录，请使用标准的reST <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#table-of-contents">contents指令</a> 。</p>
</div>
<dl class="directive">
<dt id="directive-toctree">
<code class="descname">.. toctree::</code><a class="headerlink" href="#directive-toctree" title="永久链接至目标">¶</a></dt>
<dd><p>该指令使用指令体中给出的文档的各个TOC(包括”子TOC树”)在当前位置插入”TOC树”。相对文档名称(不以斜杠开头)与指令所在的文档相关，绝对名称相对于源目录。可以给出数字”maxdepth”选项以指示树的深度;默认情况下，包括所有级别。 <a class="footnote-reference brackets" href="#id6" id="id1">1</a></p>
<p>考虑这个例子(取自Python docs的库引用索引):</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:maxdepth:</span> <span class="nf">2</span>

   intro
   strings
   datatypes
   numeric
   (many more documents listed here)
</pre></div>
</div>
<p>这完成了两件事:</p>
<ul class="simple">
<li><p>插入所有这些文档的目录，最大深度为2，表示一个嵌套标题。这些文件中的 <code class="docutils literal notranslate"><span class="pre">toctree</span></code> 指令也被考虑在内。</p></li>
<li><p>Sphinx知道文档 <code class="docutils literal notranslate"><span class="pre">intro</span></code> ， <code class="docutils literal notranslate"><span class="pre">strings</span></code> 等的相对顺序，并且它知道它们是所显示文档的子项，即库索引。根据这些信息，它会生成”下一章”，”前一章”和”父章”链接。</p></li>
</ul>
<p><strong>项</strong></p>
<p>第一个 <a class="reference internal" href="#directive-toctree" title="toctree directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">toctree</span></code></a> 中的文档标题将自动从引用文档的标题中读取。如果这不是您想要的，您可以使用与reST超链接类似的语法指定显式标题和目标(和Sphinx的 <a class="reference internal" href="roles.html#xref-syntax"><span class="std std-ref">cross-referencing syntax</span></a> )。这看起来像:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>

   intro
   All about strings &lt;strings&gt;
   datatypes
</pre></div>
</div>
<p>上面的第二行将链接到 <code class="docutils literal notranslate"><span class="pre">strings</span></code> 文档，但是将使用标题”All about strings”而不是 <code class="docutils literal notranslate"><span class="pre">strings</span></code> 文档的标题。</p>
<p>您还可以通过提供HTTP URL而不是文档名称来添加外部链接。</p>
<p><strong>章节编号</strong></p>
<p>如果你想在HTML输出中有节号，请给 <strong>toplevel</strong> toctree一个 <code class="docutils literal notranslate"><span class="pre">numbered</span></code> 选项。例如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:numbered:</span>

   foo
   bar
</pre></div>
</div>
<p>编号然后从``foo``的标题开始。子toctrees是自动编号的(不要给那些”编号”标志)。</p>
<p>通过将深度作为”编号”的数字参数，也可以编号到特定深度。</p>
<p><strong>其他选项</strong></p>
<p>你可以使用 <code class="docutils literal notranslate"><span class="pre">caption</span></code> 选项提供一个 toctree 标题，你可以使用 <code class="docutils literal notranslate"><span class="pre">name</span></code> 选项来提供可以通过使用引用的隐式目标名 <a class="reference internal" href="roles.html#role-ref" title="ref role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">ref</span></code></a></p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:caption:</span> <span class="nf">Table of Contents</span>
   <span class="nc">:name:</span> <span class="nf">mastertoc</span>

   foo
</pre></div>
</div>
<p>如果只想显示树中文档的标题，而不是同一级别的其他标题，则可以使用 <code class="docutils literal notranslate"><span class="pre">titlesonly</span></code> 选项:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:titlesonly:</span>

   foo
   bar
</pre></div>
</div>
<p>你可以在toctree指令中使用”globbing “，给出 <code class="docutils literal notranslate"><span class="pre">glob</span></code> 标志选项。然后将所有条目与可用文档列表进行匹配，并按字母顺序将匹配项插入到列表中。例:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:glob:</span>

   intro*
   recipe/*
   *
</pre></div>
</div>
<p>这首先包括所有名称以 <code class="docutils literal notranslate"><span class="pre">intro</span></code> 开头的文件，然后是 <code class="docutils literal notranslate"><span class="pre">recipe</span></code> 文件夹中的所有文件，然后是所有剩余的文件(当然包含该指令的文件除外)。<a class="footnote-reference brackets" href="#id7" id="id2">2</a></p>
<p>特殊条目名称 <code class="docutils literal notranslate"><span class="pre">self</span></code> 代表包含toctree指令的文档。如果要从toctree生成”站点地图”，这非常有用。</p>
<p>您可以使用 <code class="docutils literal notranslate"><span class="pre">reversed</span></code> 标志选项来反转列表中条目的顺序。当使用 <code class="docutils literal notranslate"><span class="pre">glob</span></code> 标志选项来反转文件的顺序时，这非常有用。例:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:glob:</span>
   <span class="nc">:reversed:</span>

   recipe/*
</pre></div>
</div>
<p>你也可以给指令一个”隐藏”选项，比如:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:hidden:</span>

   doc_1
   doc_2
</pre></div>
</div>
<p>这仍将通知Sphinx文档层次结构，但不会在指令的位置插入文档中的链接 - 如果您打算自己，以不同的样式或HTML侧边栏插入这些链接，这是有意义的。</p>
<p>如果您只想拥有一个顶级toctree并隐藏所有其他较低级别的toctree，则可以将”includehidden”选项添加到顶级toctree条目:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:includehidden:</span>

   doc_1
   doc_2
</pre></div>
</div>
<p>然后可以通过”hidden “选项消除所有其他toctree条目。</p>
<p>最后，<a class="reference internal" href="../../glossary.html#term-source-directory"><span class="xref std std-term">source directory</span></a> (或子目录)中的所有文档必须出现在某些 <code class="docutils literal notranslate"><span class="pre">toctree</span></code> 指令中;如果Sphinx找到未包含的文件，它将发出警告，因为这意味着无法通过标准导航访问此文件。</p>
<p>使用 <a class="reference internal" href="../configuration.html#confval-exclude_patterns"><code class="xref std std-confval docutils literal notranslate"><span class="pre">exclude_patterns</span></code></a> 可以完全排除文档或目录。使用 <a class="reference internal" href="field-lists.html#metadata"><span class="std std-ref">the “orphan ” metadata</span></a> 来构建文档，但通知Sphinx它是无法通过toctree访问的。</p>
<p>“master document”(由 <a class="reference internal" href="../configuration.html#confval-master_doc"><code class="xref std std-confval docutils literal notranslate"><span class="pre">master_doc</span></code></a> 选择)是TOC树层次结构的”root “。如果你没有给出 <code class="docutils literal notranslate"><span class="pre">maxdepth</span></code> 选项，它可以用作文档的主页面，也可以用作”完整的目录”。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.3 版更改: </span>添加了”globbing”选项。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.6 版更改: </span>添加了”编号”和”隐藏”选项以及外部链接和对”自我”引用的支持。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.0 版更改: </span>添加了”titlesonly”选项。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.1 版更改: </span>在”编号”中添加了数字参数。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.2 版更改: </span>添加了”includehidden”选项。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.3 版更改: </span>添加了”caption”和”name”选项。</p>
</div>
</dd></dl>

<div class="section" id="special-names">
<h3>特别的名字<a class="headerlink" href="#special-names" title="永久链接至标题">¶</a></h3>
<p>Sphinx保留一些文件名供自己使用;您不应该尝试使用这些名称创建文档 - 这将导致问题。</p>
<p>特殊文档名称(以及为它们生成的页面)是:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">genindex</span></code>, <code class="docutils literal notranslate"><span class="pre">modindex</span></code>, <code class="docutils literal notranslate"><span class="pre">search</span></code></p>
<p>它们分别用于通用索引，Python模块索引和搜索页面。</p>
<p>The general index is populated with entries from modules, all
index-generating <a class="reference internal" href="domains.html#basic-domain-markup"><span class="std std-ref">object descriptions</span></a>, and from
<a class="reference internal" href="#directive-index" title="index directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">index</span></code></a> directives.</p>
<p>The Python module index contains one entry per <a class="reference internal" href="domains.html#directive-py:module" title="py:module directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">py:module</span></code></a>
directive.</p>
<p>The search page contains a form that uses the generated JSON search index and
JavaScript to full-text search the generated documents for search words; it
should work on every major browser that supports modern JavaScript.</p>
</li>
<li><p>every name beginning with <code class="docutils literal notranslate"><span class="pre">_</span></code></p>
<p>Though only few such names are currently used by Sphinx, you should not
create documents or document-containing directories with such names.  (Using
<code class="docutils literal notranslate"><span class="pre">_</span></code> as a prefix for a custom template directory is fine.)</p>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>Be careful with unusual characters in filenames.  Some formats may interpret
these characters in unexpected ways:</p>
<ul class="simple">
<li><p>Do not use the colon <code class="docutils literal notranslate"><span class="pre">:</span></code> for HTML based formats.  Links to other parts
may not work.</p></li>
<li><p>Do not use the plus <code class="docutils literal notranslate"><span class="pre">+</span></code> for the ePub format.  Some resources may not be
found.</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="paragraph-level-markup">
<h2>段落级标记<a class="headerlink" href="#paragraph-level-markup" title="永久链接至标题">¶</a></h2>
<p id="index-1">These directives create short paragraphs and can be used inside information
units as well as normal text.</p>
<dl class="directive">
<dt id="directive-note">
<code class="descname">.. note::</code><code class="descclassname"> </code><a class="headerlink" href="#directive-note" title="永久链接至目标">¶</a></dt>
<dd><p>An especially important bit of information about an API that a user should be
aware of when using whatever bit of API the note pertains to.  The content of
the directive should be written in complete sentences and include all
appropriate punctuation.</p>
<p>Example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">note</span><span class="p">::</span>

   This function is not suitable for sending spam e-mails.
</pre></div>
</div>
</dd></dl>

<dl class="directive">
<dt id="directive-warning">
<code class="descname">.. warning::</code><code class="descclassname"> </code><a class="headerlink" href="#directive-warning" title="永久链接至目标">¶</a></dt>
<dd><p>An important bit of information about an API that a user should be very aware
of when using whatever bit of API the warning pertains to.  The content of
the directive should be written in complete sentences and include all
appropriate punctuation. This differs from <a class="reference internal" href="#directive-note" title="note directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">note</span></code></a> in that it is
recommended over <a class="reference internal" href="#directive-note" title="note directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">note</span></code></a> for information regarding security.</p>
</dd></dl>

<dl class="directive">
<dt id="directive-versionadded">
<code class="descname">.. versionadded::</code><code class="descclassname"> version</code><a class="headerlink" href="#directive-versionadded" title="永久链接至目标">¶</a></dt>
<dd><p>This directive documents the version of the project which added the described
feature to the library or C API. When this applies to an entire module, it
should be placed at the top of the module section before any prose.</p>
<p>The first argument must be given and is the version in question; you can add
a second argument consisting of a <em>brief</em> explanation of the change.</p>
<p>Example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">versionadded</span><span class="p">::</span> 2.5
   The <span class="ge">*spam*</span> parameter.
</pre></div>
</div>
<p>Note that there must be no blank line between the directive head and the
explanation; this is to make these blocks visually continuous in the markup.</p>
</dd></dl>

<dl class="directive">
<dt id="directive-versionchanged">
<code class="descname">.. versionchanged::</code><code class="descclassname"> version</code><a class="headerlink" href="#directive-versionchanged" title="永久链接至目标">¶</a></dt>
<dd><p>Similar to <a class="reference internal" href="#directive-versionadded" title="versionadded directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">versionadded</span></code></a>, but describes when and what changed in
the named feature in some way (new parameters, changed side effects, etc.).</p>
</dd></dl>

<dl class="directive">
<dt id="directive-deprecated">
<code class="descname">.. deprecated::</code><code class="descclassname"> version</code><a class="headerlink" href="#directive-deprecated" title="永久链接至目标">¶</a></dt>
<dd><p>Similar to <a class="reference internal" href="#directive-versionchanged" title="versionchanged directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">versionchanged</span></code></a>, but describes when the feature was
deprecated.  An explanation can also be given, for example to inform the
reader what should be used instead.  Example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">deprecated</span><span class="p">::</span> 3.1
   Use <span class="na">:func:</span><span class="nv">`spam`</span> instead.
</pre></div>
</div>
</dd></dl>

<dl class="directive">
<dt id="directive-seealso">
<code class="descname">.. seealso::</code><a class="headerlink" href="#directive-seealso" title="永久链接至目标">¶</a></dt>
<dd><p>Many sections include a list of references to module documentation or
external documents.  These lists are created using the <a class="reference internal" href="#directive-seealso" title="seealso directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">seealso</span></code></a>
directive.</p>
<p>The <a class="reference internal" href="#directive-seealso" title="seealso directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">seealso</span></code></a> directive is typically placed in a section just before
any subsections.  For the HTML output, it is shown boxed off from the main
flow of the text.</p>
<p>The content of the <a class="reference internal" href="#directive-seealso" title="seealso directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">seealso</span></code></a> directive should be a reST definition
list. Example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">seealso</span><span class="p">::</span>

   Module <span class="na">:py:mod:</span><span class="nv">`zipfile`</span>
      Documentation of the <span class="na">:py:mod:</span><span class="nv">`zipfile`</span> standard module.

   <span class="s">`GNU tar manual, Basic Tar Format </span><span class="si">&lt;http://link&gt;</span><span class="s">`_</span>
      Documentation for tar archive files, including GNU tar extensions.
</pre></div>
</div>
<p>There’s also a “short form” allowed that looks like this:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">seealso</span><span class="p">::</span> modules <span class="na">:py:mod:</span><span class="nv">`zipfile`</span>, <span class="na">:py:mod:</span><span class="nv">`tarfile`</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">0.5 新版功能: </span>The short form.</p>
</div>
</dd></dl>

<dl class="directive">
<dt id="directive-rubric">
<code class="descname">.. rubric::</code><code class="descclassname"> title</code><a class="headerlink" href="#directive-rubric" title="永久链接至目标">¶</a></dt>
<dd><p>This directive creates a paragraph heading that is not used to create a
table of contents node.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>If the <em>title</em> of the rubric is “Footnotes” (or the selected language’s
equivalent), this rubric is ignored by the LaTeX writer, since it is
assumed to only contain footnote definitions and therefore would create an
empty heading.</p>
</div>
</dd></dl>

<dl class="directive">
<dt id="directive-centered">
<code class="descname">.. centered::</code><a class="headerlink" href="#directive-centered" title="永久链接至目标">¶</a></dt>
<dd><p>This directive creates a centered boldfaced line of text.  Use it as
follows:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">centered</span><span class="p">::</span> LICENSE AGREEMENT
</pre></div>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">1.1 版后已移除: </span>This presentation-only directive is a legacy from older versions.  Use a
<code class="xref rst rst-dir docutils literal notranslate"><span class="pre">rst-class</span></code> directive instead and add an appropriate style.</p>
</div>
</dd></dl>

<dl class="directive">
<dt id="directive-hlist">
<code class="descname">.. hlist::</code><a class="headerlink" href="#directive-hlist" title="永久链接至目标">¶</a></dt>
<dd><p>This directive must contain a bullet list.  It will transform it into a more
compact list by either distributing more than one item horizontally, or
reducing spacing between items, depending on the builder.</p>
<p>For builders that support the horizontal distribution, there is a <code class="docutils literal notranslate"><span class="pre">columns</span></code>
option that specifies the number of columns; it defaults to 2.  Example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">hlist</span><span class="p">::</span>
   <span class="nc">:columns:</span> <span class="nf">3</span>

   <span class="m">*</span> A list of
   <span class="m">*</span> short items
   <span class="m">*</span> that should be
   <span class="m">*</span> displayed
   <span class="m">*</span> horizontally
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">0.6 新版功能.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="showing-code-examples">
<span id="code-examples"></span><h2>显示代码示例<a class="headerlink" href="#showing-code-examples" title="永久链接至标题">¶</a></h2>
<p id="index-2">There are multiple ways to show syntax-highlighted literal code blocks in
Sphinx: using <a class="reference internal" href="basics.html#rst-doctest-blocks"><span class="std std-ref">reST doctest blocks</span></a>; using <a class="reference internal" href="basics.html#rst-literal-blocks"><span class="std std-ref">reST
literal blocks</span></a>, optionally in combination with the
<a class="reference internal" href="#directive-highlight" title="highlight directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">highlight</span></code></a> directive; using the <a class="reference internal" href="#directive-code-block" title="code-block directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">code-block</span></code></a> directive; and
using the <a class="reference internal" href="#directive-literalinclude" title="literalinclude directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">literalinclude</span></code></a> directive. Doctest blocks can only be used
to show interactive Python sessions, while the remaining three can be used for
other languages. Of these three, literal blocks are useful when an entire
document, or at least large sections of it, use code blocks with the same
syntax and which should be styled in the same manner. On the other hand, the
<a class="reference internal" href="#directive-code-block" title="code-block directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">code-block</span></code></a> directive makes more sense when you want more fine-tuned
control over the styling of each block or when you have a document containing
code blocks using multiple varied syntaxes. Finally, the
<a class="reference internal" href="#directive-literalinclude" title="literalinclude directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">literalinclude</span></code></a> directive is useful for including entire code files
in your documentation.</p>
<p>In all cases, Syntax highlighting is provided by <a class="reference external" href="http://pygments.org">Pygments</a>. When using literal blocks, this is configured using
any <a class="reference internal" href="#directive-highlight" title="highlight directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">highlight</span></code></a> directives in the source file. When a <code class="docutils literal notranslate"><span class="pre">highlight</span></code>
directive is encountered, it is used until the next <code class="docutils literal notranslate"><span class="pre">highlight</span></code> directive is
encountered. If there is no <code class="docutils literal notranslate"><span class="pre">highlight</span></code> directive in the file, the global
highlighting language is used. This defaults to <code class="docutils literal notranslate"><span class="pre">python</span></code> but can be
configured using the <a class="reference internal" href="../configuration.html#confval-highlight_language"><code class="xref std std-confval docutils literal notranslate"><span class="pre">highlight_language</span></code></a> config value. The following
values are supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">none</span></code> (no highlighting)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">default</span></code> (similar to <code class="docutils literal notranslate"><span class="pre">python3</span></code> but with a fallback to <code class="docutils literal notranslate"><span class="pre">none</span></code> without
warning highlighting fails; the default when <a class="reference internal" href="../configuration.html#confval-highlight_language"><code class="xref std std-confval docutils literal notranslate"><span class="pre">highlight_language</span></code></a>
isn’t set)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">guess</span></code> (let Pygments guess the lexer based on contents, only works with
certain well-recognizable languages)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">python</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rest</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span></code></p></li>
<li><p>… and any other <a class="reference external" href="http://pygments.org/docs/lexers/">lexer alias that Pygments supports</a></p></li>
</ul>
<p>If highlighting with the selected language fails (i.e. Pygments emits an
“Error” token), the block is not highlighted in any way.</p>
<div class="admonition important">
<p class="admonition-title">重要</p>
<p>The list of lexer aliases supported is tied to the Pygment version. If you
want to ensure consistent highlighting, you should fix your version of
Pygments.</p>
</div>
<dl class="directive">
<dt id="directive-highlight">
<code class="descname">.. highlight::</code><code class="descclassname"> language</code><a class="headerlink" href="#directive-highlight" title="永久链接至目标">¶</a></dt>
<dd><p>Example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">highlight</span><span class="p">::</span> c
</pre></div>
</div>
<p>This language is used until the next <code class="docutils literal notranslate"><span class="pre">highlight</span></code> directive is encountered.
As discussed previously, <em>language</em> can be any lexer alias supported by
Pygments.</p>
<p><strong>其他选项</strong></p>
<p>Pygments can generate line numbers for code blocks.  To enable this, use the
<code class="docutils literal notranslate"><span class="pre">linenothreshold</span></code> option.</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">highlight</span><span class="p">::</span> python
   <span class="nc">:linenothreshold:</span> <span class="nf">5</span>
</pre></div>
</div>
<p>This will produce line numbers for all code blocks longer than five lines.</p>
</dd></dl>

<dl class="directive">
<dt id="directive-code-block">
<code class="descname">.. code-block::</code><code class="descclassname"> [language]</code><a class="headerlink" href="#directive-code-block" title="永久链接至目标">¶</a></dt>
<dd><p>Example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> ruby

   Some Ruby code.
</pre></div>
</div>
<p>The directive’s alias name <code class="xref rst rst-dir docutils literal notranslate"><span class="pre">sourcecode</span></code> works as well.  This
directive takes a language name as an argument.  It can be any lexer alias
supported by Pygments.  If it is not given, the setting of
<a class="reference internal" href="#directive-highlight" title="highlight directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">highlight</span></code></a> directive will be used.  If not set,
<a class="reference internal" href="../configuration.html#confval-highlight_language"><code class="xref std std-confval docutils literal notranslate"><span class="pre">highlight_language</span></code></a> will be used.</p>
<p><strong>其他选项</strong></p>
<p>Pygments can generate line numbers for code blocks. To enable this for, use
the <code class="docutils literal notranslate"><span class="pre">linenos</span></code> flag option.</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> ruby
   <span class="nc">:linenos:</span>

   Some more Ruby code.
</pre></div>
</div>
<p>The first line number can be selected with the <code class="docutils literal notranslate"><span class="pre">lineno-start</span></code> option.  If
present, <code class="docutils literal notranslate"><span class="pre">linenos</span></code> flag is automatically activated:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> ruby
   <span class="nc">:lineno-start:</span> <span class="nf">10</span>

   Some more Ruby code, with line numbering starting at 10.
</pre></div>
</div>
<p>Additionally, an <code class="docutils literal notranslate"><span class="pre">emphasize-lines</span></code> option can be given to have Pygments
emphasize particular lines:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> python
   <span class="nc">:emphasize-lines:</span> <span class="nf">3,5</span>

   def some_function():
       interesting = False
       print &#39;This line is highlighted.&#39;
       print &#39;This one is not...&#39;
       print &#39;...but this one is.&#39;
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">caption</span></code> option can be given to show that name before the code block.
A <code class="docutils literal notranslate"><span class="pre">name</span></code> option can be provided implicit target name that can be
referenced by using <a class="reference internal" href="roles.html#role-ref" title="ref role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">ref</span></code></a>.  For example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> python
   <span class="nc">:caption:</span> <span class="nf">this.py</span>
   <span class="nc">:name:</span> <span class="nf">this-py</span>

   print &#39;Explicit is better than implicit.&#39;
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">dedent</span></code> option can be given to strip indentation characters from the
code block. For example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> ruby
   <span class="nc">:dedent:</span> <span class="nf">4</span>

       some ruby code
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.1 版更改: </span>The <code class="docutils literal notranslate"><span class="pre">emphasize-lines</span></code> option has been added.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.3 版更改: </span>The <code class="docutils literal notranslate"><span class="pre">lineno-start</span></code>, <code class="docutils literal notranslate"><span class="pre">caption</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">dedent</span></code> options have
been added.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.6.6 版更改: </span>LaTeX supports the <code class="docutils literal notranslate"><span class="pre">emphasize-lines</span></code> option.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 2.0 版更改: </span>The <code class="docutils literal notranslate"><span class="pre">language</span></code> argument becomes optional.</p>
</div>
</dd></dl>

<dl class="directive">
<dt id="directive-literalinclude">
<code class="descname">.. literalinclude::</code><code class="descclassname"> filename</code><a class="headerlink" href="#directive-literalinclude" title="永久链接至目标">¶</a></dt>
<dd><p>Longer displays of verbatim text may be included by storing the example text
in an external file containing only plain text.  The file may be included
using the <code class="docutils literal notranslate"><span class="pre">literalinclude</span></code> directive. <a class="footnote-reference brackets" href="#id8" id="id4">3</a> For example, to include the
Python source file <code class="file docutils literal notranslate"><span class="pre">example.py</span></code>, use:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">literalinclude</span><span class="p">::</span> example.py
</pre></div>
</div>
<p>The file name is usually relative to the current file’s path.  However, if
it is absolute (starting with <code class="docutils literal notranslate"><span class="pre">/</span></code>), it is relative to the top source
directory.</p>
<p><strong>其他选项</strong></p>
<p>Like <a class="reference internal" href="#directive-code-block" title="code-block directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">code-block</span></code></a>, the directive supports the <code class="docutils literal notranslate"><span class="pre">linenos</span></code> flag
option to switch on line numbers, the <code class="docutils literal notranslate"><span class="pre">lineno-start</span></code> option to select the
first line number, the <code class="docutils literal notranslate"><span class="pre">emphasize-lines</span></code> option to emphasize particular
lines, the <code class="docutils literal notranslate"><span class="pre">name</span></code> option to provide an implicit target name, the
<code class="docutils literal notranslate"><span class="pre">dedent</span></code> option to strip indentation characters for the code block, and a
<code class="docutils literal notranslate"><span class="pre">language</span></code> option to select a language different from the current file’s
standard language. In addition, it supports the <code class="docutils literal notranslate"><span class="pre">caption</span></code> option; however,
this can be provided with no argument to use the filename as the caption.
Example with options:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">literalinclude</span><span class="p">::</span> example.rb
   <span class="nc">:language:</span> <span class="nf">ruby</span>
   <span class="nc">:emphasize-lines:</span> <span class="nf">12,15-18</span>
   <span class="nc">:linenos:</span>
</pre></div>
</div>
<p>Tabs in the input are expanded if you give a <code class="docutils literal notranslate"><span class="pre">tab-width</span></code> option with the
desired tab width.</p>
<p>Include files are assumed to be encoded in the <a class="reference internal" href="../configuration.html#confval-source_encoding"><code class="xref std std-confval docutils literal notranslate"><span class="pre">source_encoding</span></code></a>.
If the file has a different encoding, you can specify it with the
<code class="docutils literal notranslate"><span class="pre">encoding</span></code> option:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">literalinclude</span><span class="p">::</span> example.py
   <span class="nc">:encoding:</span> <span class="nf">latin-1</span>
</pre></div>
</div>
<p>The directive also supports including only parts of the file.  If it is a
Python module, you can select a class, function or method to include using
the <code class="docutils literal notranslate"><span class="pre">pyobject</span></code> option:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">literalinclude</span><span class="p">::</span> example.py
   <span class="nc">:pyobject:</span> <span class="nf">Timer.start</span>
</pre></div>
</div>
<p>This would only include the code lines belonging to the <code class="docutils literal notranslate"><span class="pre">start()</span></code> method
in the <code class="docutils literal notranslate"><span class="pre">Timer</span></code> class within the file.</p>
<p>Alternately, you can specify exactly which lines to include by giving a
<code class="docutils literal notranslate"><span class="pre">lines</span></code> option:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">literalinclude</span><span class="p">::</span> example.py
   <span class="nc">:lines:</span> <span class="nf">1,3,5-10,20-</span>
</pre></div>
</div>
<p>This includes the lines 1, 3, 5 to 10 and lines 20 to the last line.</p>
<p>Another way to control which part of the file is included is to use the
<code class="docutils literal notranslate"><span class="pre">start-after</span></code> and <code class="docutils literal notranslate"><span class="pre">end-before</span></code> options (or only one of them).  If
<code class="docutils literal notranslate"><span class="pre">start-after</span></code> is given as a string option, only lines that follow the
first line containing that string are included.  If <code class="docutils literal notranslate"><span class="pre">end-before</span></code> is given
as a string option, only lines that precede the first lines containing that
string are included. The <code class="docutils literal notranslate"><span class="pre">start-at</span></code> and <code class="docutils literal notranslate"><span class="pre">end-at</span></code> options behave in a
similar way, but the lines containing the matched string are included.</p>
<p>With lines selected using <code class="docutils literal notranslate"><span class="pre">start-after</span></code> it is still possible to use
<code class="docutils literal notranslate"><span class="pre">lines</span></code>, the first allowed line having by convention the line number
<code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>When lines have been selected in any of the ways described above, the line
numbers in <code class="docutils literal notranslate"><span class="pre">emphasize-lines</span></code> refer to those selected lines, counted
consecutively starting at <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>When specifying particular parts of a file to display, it can be useful to
display the original line numbers. This can be done using the
<code class="docutils literal notranslate"><span class="pre">lineno-match</span></code> option, which is however allowed only when the selection
consists of contiguous lines.</p>
<p>You can prepend and/or append a line to the included code, using the
<code class="docutils literal notranslate"><span class="pre">prepend</span></code> and <code class="docutils literal notranslate"><span class="pre">append</span></code> option, respectively.  This is useful e.g. for
highlighting PHP code that doesn’t include the <code class="docutils literal notranslate"><span class="pre">&lt;?php</span></code>/<code class="docutils literal notranslate"><span class="pre">?&gt;</span></code> markers.</p>
<p>If you want to show the diff of the code, you can specify the old file by
giving a <code class="docutils literal notranslate"><span class="pre">diff</span></code> option:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">literalinclude</span><span class="p">::</span> example.py
   <span class="nc">:diff:</span> <span class="nf">example.py.orig</span>
</pre></div>
</div>
<p>This shows the diff between <code class="docutils literal notranslate"><span class="pre">example.py</span></code> and <code class="docutils literal notranslate"><span class="pre">example.py.orig</span></code> with
unified diff format.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.4.3 版更改: </span>Added the <code class="docutils literal notranslate"><span class="pre">encoding</span></code> option.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.6 版更改: </span>Added the <code class="docutils literal notranslate"><span class="pre">pyobject</span></code>, <code class="docutils literal notranslate"><span class="pre">lines</span></code>, <code class="docutils literal notranslate"><span class="pre">start-after</span></code> and <code class="docutils literal notranslate"><span class="pre">end-before</span></code>
options, as well as support for absolute filenames.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.0 版更改: </span>Added the <code class="docutils literal notranslate"><span class="pre">prepend</span></code>, <code class="docutils literal notranslate"><span class="pre">append</span></code>, and <code class="docutils literal notranslate"><span class="pre">tab-width</span></code> options.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.3 版更改: </span>Added the <code class="docutils literal notranslate"><span class="pre">diff</span></code>, <code class="docutils literal notranslate"><span class="pre">lineno-match</span></code>, <code class="docutils literal notranslate"><span class="pre">caption</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code>, and
<code class="docutils literal notranslate"><span class="pre">dedent</span></code> options.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.5 版更改: </span>Added the <code class="docutils literal notranslate"><span class="pre">start-at</span></code>, and <code class="docutils literal notranslate"><span class="pre">end-at</span></code> options.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.6 版更改: </span>With both <code class="docutils literal notranslate"><span class="pre">start-after</span></code> and <code class="docutils literal notranslate"><span class="pre">lines</span></code> in use, the first line as per
<code class="docutils literal notranslate"><span class="pre">start-after</span></code> is considered to be with line number <code class="docutils literal notranslate"><span class="pre">1</span></code> for <code class="docutils literal notranslate"><span class="pre">lines</span></code>.</p>
</div>
</dd></dl>

</div>
<div class="section" id="glossary">
<span id="glossary-directive"></span><h2>术语<a class="headerlink" href="#glossary" title="永久链接至标题">¶</a></h2>
<dl class="directive">
<dt id="directive-glossary">
<code class="descname">.. glossary::</code><code class="descclassname"> </code><a class="headerlink" href="#directive-glossary" title="永久链接至目标">¶</a></dt>
<dd><p>This directive must contain a reST definition-list-like markup with terms and
definitions.  The definitions will then be referenceable with the
<a class="reference internal" href="roles.html#role-term" title="term role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">term</span></code></a> role.  Example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">glossary</span><span class="p">::</span>

   environment
      A structure where information about all documents under the root is
      saved, and used for cross-referencing.  The environment is pickled
      after the parsing stage, so that successive runs only need to read
      and parse new and changed documents.

   source directory
      The directory which, including its subdirectories, contains all
      source files for one Sphinx project.
</pre></div>
</div>
<p>In contrast to regular definition lists, <em>multiple</em> terms per entry are
allowed, and inline markup is allowed in terms.  You can link to all of the
terms.  For example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">glossary</span><span class="p">::</span>

   term 1
   term 2
      Definition of both terms.
</pre></div>
</div>
<p>(When the glossary is sorted, the first term determines the sort order.)</p>
<p>If you want to specify “grouping key” for general index entries, you can put a “key”
as “term : key”. For example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">glossary</span><span class="p">::</span>

   term 1 : A
   term 2 : B
      Definition of both terms.
</pre></div>
</div>
<p>Note that “key” is used for grouping key as is.
The “key” isn’t normalized; key “A” and “a” become different groups.
The whole characters in “key” is used instead of a first character; it is used for
“Combining Character Sequence” and “Surrogate Pairs” grouping key.</p>
<p>In i18n situation, you can specify “localized term : key” even if original text only
have “term” part. In this case, translated “localized term” will be categorized in
“key” group.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.6 新版功能: </span>You can now give the glossary directive a <code class="docutils literal notranslate"><span class="pre">:sorted:</span></code> flag that will
automatically sort the entries alphabetically.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.1 版更改: </span>Now supports multiple terms and inline markup in terms.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.4 版更改: </span>Index key for glossary term should be considered <em>experimental</em>.</p>
</div>
</dd></dl>

</div>
<div class="section" id="meta-information-markup">
<h2>元信息标记<a class="headerlink" href="#meta-information-markup" title="永久链接至标题">¶</a></h2>
<dl class="directive">
<dt id="directive-sectionauthor">
<code class="descname">.. sectionauthor::</code><code class="descclassname"> name &lt;email&gt;</code><a class="headerlink" href="#directive-sectionauthor" title="永久链接至目标">¶</a></dt>
<dd><p>Identifies the author of the current section.  The argument should include
the author’s name such that it can be used for presentation and email
address.  The domain name portion of the address should be lower case.
Example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">sectionauthor</span><span class="p">::</span> Guido van Rossum &lt;guido@python.org&gt;
</pre></div>
</div>
<p>By default, this markup isn’t reflected in the output in any way (it helps
keep track of contributions), but you can set the configuration value
<a class="reference internal" href="../configuration.html#confval-show_authors"><code class="xref std std-confval docutils literal notranslate"><span class="pre">show_authors</span></code></a> to <code class="docutils literal notranslate"><span class="pre">True</span></code> to make them produce a paragraph in the
output.</p>
</dd></dl>

<dl class="directive">
<dt id="directive-codeauthor">
<code class="descname">.. codeauthor::</code><code class="descclassname"> name &lt;email&gt;</code><a class="headerlink" href="#directive-codeauthor" title="永久链接至目标">¶</a></dt>
<dd><p>The <a class="reference internal" href="#directive-codeauthor" title="codeauthor directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">codeauthor</span></code></a> directive, which can appear multiple times, names
the authors of the described code, just like <a class="reference internal" href="#directive-sectionauthor" title="sectionauthor directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">sectionauthor</span></code></a> names
the author(s) of a piece of documentation.  It too only produces output if
the <a class="reference internal" href="../configuration.html#confval-show_authors"><code class="xref std std-confval docutils literal notranslate"><span class="pre">show_authors</span></code></a> configuration value is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="index-generating-markup">
<h2>索引生成标记<a class="headerlink" href="#index-generating-markup" title="永久链接至标题">¶</a></h2>
<p>Sphinx automatically creates index entries from all object descriptions (like
functions, classes or attributes) like discussed in
<a class="reference internal" href="domains.html"><span class="doc">域</span></a>.</p>
<p>However, there is also explicit markup available, to make the index more
comprehensive and enable index entries in documents where information is not
mainly contained in information units, such as the language reference.</p>
<dl class="directive">
<dt id="directive-index">
<code class="descname">.. index::</code><code class="descclassname"> &lt;entries&gt;</code><a class="headerlink" href="#directive-index" title="永久链接至目标">¶</a></dt>
<dd><p>This directive contains one or more index entries.  Each entry consists of a
type and a value, separated by a colon.</p>
<p>For example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">index</span><span class="p">::</span>
   single: execution; context
   module: __main__
   module: sys
   triple: module; search; path

<span class="gh">The execution context</span>
<span class="gh">---------------------</span>

<span class="cp">...</span>
</pre></div>
</div>
<p>This directive contains five entries, which will be converted to entries in
the generated index which link to the exact location of the index statement
(or, in case of offline media, the corresponding page number).</p>
<p>Since index directives generate cross-reference targets at their location in
the source, it makes sense to put them <em>before</em> the thing they refer to –
e.g. a heading, as in the example above.</p>
<p>The possible entry types are:</p>
<dl class="simple">
<dt>single</dt><dd><p>Creates a single index entry.  Can be made a subentry by separating the
subentry text with a semicolon (this notation is also used below to
describe what entries are created).</p>
</dd>
<dt>pair</dt><dd><p><code class="docutils literal notranslate"><span class="pre">pair:</span> <span class="pre">loop;</span> <span class="pre">statement</span></code> is a shortcut that creates two index entries,
namely <code class="docutils literal notranslate"><span class="pre">loop;</span> <span class="pre">statement</span></code> and <code class="docutils literal notranslate"><span class="pre">statement;</span> <span class="pre">loop</span></code>.</p>
</dd>
<dt>triple</dt><dd><p>Likewise, <code class="docutils literal notranslate"><span class="pre">triple:</span> <span class="pre">module;</span> <span class="pre">search;</span> <span class="pre">path</span></code> is a shortcut that creates
three index entries, which are <code class="docutils literal notranslate"><span class="pre">module;</span> <span class="pre">search</span> <span class="pre">path</span></code>, <code class="docutils literal notranslate"><span class="pre">search;</span> <span class="pre">path,</span>
<span class="pre">module</span></code> and <code class="docutils literal notranslate"><span class="pre">path;</span> <span class="pre">module</span> <span class="pre">search</span></code>.</p>
</dd>
<dt>see</dt><dd><p><code class="docutils literal notranslate"><span class="pre">see:</span> <span class="pre">entry;</span> <span class="pre">other</span></code> creates an index entry that refers from <code class="docutils literal notranslate"><span class="pre">entry</span></code> to
<code class="docutils literal notranslate"><span class="pre">other</span></code>.</p>
</dd>
<dt>seealso</dt><dd><p>Like <code class="docutils literal notranslate"><span class="pre">see</span></code>, but inserts “see also” instead of “see”.</p>
</dd>
<dt>module, keyword, operator, object, exception, statement, builtin</dt><dd><p>These all create two index entries.  For example, <code class="docutils literal notranslate"><span class="pre">module:</span> <span class="pre">hashlib</span></code>
creates the entries <code class="docutils literal notranslate"><span class="pre">module;</span> <span class="pre">hashlib</span></code> and <code class="docutils literal notranslate"><span class="pre">hashlib;</span> <span class="pre">module</span></code>.  (These
are Python-specific and therefore deprecated.)</p>
</dd>
</dl>
<p>You can mark up “main” index entries by prefixing them with an exclamation
mark.  The references to “main” entries are emphasized in the generated
index.  For example, if two pages contain</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">index</span><span class="p">::</span> Python
</pre></div>
</div>
<p>and one page contains</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">index</span><span class="p">::</span> ! Python
</pre></div>
</div>
<p>then the backlink to the latter page is emphasized among the three backlinks.</p>
<p>For index directives containing only “single” entries, there is a shorthand
notation:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">index</span><span class="p">::</span> BNF, grammar, syntax, notation
</pre></div>
</div>
<p>This creates four index entries.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.1 版更改: </span>Added <code class="docutils literal notranslate"><span class="pre">see</span></code> and <code class="docutils literal notranslate"><span class="pre">seealso</span></code> types, as well as marking main entries.</p>
</div>
</dd></dl>

<dl class="role">
<dt id="role-index">
<code class="descname">:index:</code><a class="headerlink" href="#role-index" title="永久链接至目标">¶</a></dt>
<dd><p>While the <a class="reference internal" href="#directive-index" title="index directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">index</span></code></a> directive is a block-level markup and links to the
beginning of the next paragraph, there is also a corresponding role that sets
the link target directly where it is used.</p>
<p>The content of the role can be a simple phrase, which is then kept in the
text and used as an index entry.  It can also be a combination of text and
index entry, styled like with explicit targets of cross-references.  In that
case, the “target” part can be a full entry as described for the directive
above.  For example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>This is a normal reST <span class="na">:index:</span><span class="nv">`paragraph`</span> that contains several
<span class="nc">:index:`index entries &lt;pair:</span> <span class="nf">index; entry&gt;`.</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">1.1 新版功能.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="including-content-based-on-tags">
<span id="tags"></span><h2>包括基于标签的内容<a class="headerlink" href="#including-content-based-on-tags" title="永久链接至标题">¶</a></h2>
<dl class="directive">
<dt id="directive-only">
<code class="descname">.. only::</code><code class="descclassname"> &lt;expression&gt;</code><a class="headerlink" href="#directive-only" title="永久链接至目标">¶</a></dt>
<dd><p>Include the content of the directive only if the <em>expression</em> is true.  The
expression should consist of tags, like this:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">only</span><span class="p">::</span> html and draft
</pre></div>
</div>
<p>Undefined tags are false, defined tags (via the <code class="docutils literal notranslate"><span class="pre">-t</span></code> command-line option or
within <code class="file docutils literal notranslate"><span class="pre">conf.py</span></code>, see <a class="reference internal" href="../configuration.html#conf-tags"><span class="std std-ref">here</span></a>) are true.  Boolean
expressions, also using parentheses (like <code class="docutils literal notranslate"><span class="pre">html</span> <span class="pre">and</span> <span class="pre">(latex</span> <span class="pre">or</span> <span class="pre">draft)</span></code>) are
supported.</p>
<p>The <em>format</em> and the <em>name</em> of the current builder (<code class="docutils literal notranslate"><span class="pre">html</span></code>, <code class="docutils literal notranslate"><span class="pre">latex</span></code> or
<code class="docutils literal notranslate"><span class="pre">text</span></code>) are always set as a tag <a class="footnote-reference brackets" href="#id9" id="id5">4</a>.  To make the distinction between
format and name explicit, they are also added with the prefix <code class="docutils literal notranslate"><span class="pre">format_</span></code> and
<code class="docutils literal notranslate"><span class="pre">builder_</span></code>, e.g. the epub builder defines the tags  <code class="docutils literal notranslate"><span class="pre">html</span></code>, <code class="docutils literal notranslate"><span class="pre">epub</span></code>,
<code class="docutils literal notranslate"><span class="pre">format_html</span></code> and <code class="docutils literal notranslate"><span class="pre">builder_epub</span></code>.</p>
<p>These standard tags are set <em>after</em> the configuration file is read, so they
are not available there.</p>
<p>All tags must follow the standard Python identifier syntax as set out in
the <a class="reference external" href="https://docs.python.org/3/reference/lexical_analysis.html#identifiers">Identifiers and keywords</a>
documentation.  That is, a tag expression may only consist of tags that
conform to the syntax of Python variables.  In ASCII, this consists of the
uppercase and lowercase letters <code class="docutils literal notranslate"><span class="pre">A</span></code> through <code class="docutils literal notranslate"><span class="pre">Z</span></code>, the underscore <code class="docutils literal notranslate"><span class="pre">_</span></code>
and, except for the first character, the digits <code class="docutils literal notranslate"><span class="pre">0</span></code> through <code class="docutils literal notranslate"><span class="pre">9</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.6 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.2 版更改: </span>Added the name of the builder and the prefixes.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>This directive is designed to control only content of document.  It could
not control sections, labels and so on.</p>
</div>
</dd></dl>

</div>
<div class="section" id="tables">
<span id="table-directives"></span><h2>表<a class="headerlink" href="#tables" title="永久链接至标题">¶</a></h2>
<p>Use <a class="reference internal" href="basics.html#rst-tables"><span class="std std-ref">reStructuredText tables</span></a>, i.e. either</p>
<ul class="simple">
<li><p>grid table syntax (<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#grid-tables">ref</a>),</p></li>
<li><p>simple table syntax (<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#simple-tables">ref</a>),</p></li>
<li><p><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#csv-table">csv-table</a> syntax,</p></li>
<li><p>or <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#list-table">list-table</a> syntax.</p></li>
</ul>
<p>The <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#table">table</a> directive serves as optional wrapper of the <em>grid</em> and
<em>simple</em> syntaxes.</p>
<p>They work fine in HTML output, however there are some gotchas when using tables
in LaTeX: the column width is hard to determine correctly automatically.  For
this reason, the following directive exists:</p>
<dl class="directive">
<dt id="directive-tabularcolumns">
<code class="descname">.. tabularcolumns::</code><code class="descclassname"> column spec</code><a class="headerlink" href="#directive-tabularcolumns" title="永久链接至目标">¶</a></dt>
<dd><p>This directive gives a “column spec” for the next table occurring in the
source file.  The spec is the second argument to the LaTeX <code class="docutils literal notranslate"><span class="pre">tabulary</span></code>
package’s environment (which Sphinx uses to translate tables).  It can have
values like</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>|l|l|l|
</pre></div>
</div>
<p>which means three left-adjusted, nonbreaking columns.  For columns with
longer text that should automatically be broken, use either the standard
<code class="docutils literal notranslate"><span class="pre">p{width}</span></code> construct, or tabulary’s automatic specifiers:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">L</span></code></p></td>
<td><p>flush left column with automatic width</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">R</span></code></p></td>
<td><p>flush right column with automatic width</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">C</span></code></p></td>
<td><p>centered column with automatic width</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">J</span></code></p></td>
<td><p>justified column with automatic width</p></td>
</tr>
</tbody>
</table>
<p>The automatic widths of the <code class="docutils literal notranslate"><span class="pre">LRCJ</span></code> columns are attributed by <code class="docutils literal notranslate"><span class="pre">tabulary</span></code>
in proportion to the observed shares in a first pass where the table cells
are rendered at their natural “horizontal” widths.</p>
<p>By default, Sphinx uses a table layout with <code class="docutils literal notranslate"><span class="pre">J</span></code> for every column.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.3 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.6 版更改: </span>Merged cells may now contain multiple paragraphs and are much better
handled, thanks to custom Sphinx LaTeX macros. This novel situation
motivated the switch to <code class="docutils literal notranslate"><span class="pre">J</span></code> specifier and not <code class="docutils literal notranslate"><span class="pre">L</span></code> by default.</p>
</div>
<div class="admonition hint">
<p class="admonition-title">提示</p>
<p>Sphinx actually uses <code class="docutils literal notranslate"><span class="pre">T</span></code> specifier having done <code class="docutils literal notranslate"><span class="pre">\newcolumntype{T}{J}</span></code>.
To revert to previous default, insert <code class="docutils literal notranslate"><span class="pre">\newcolumntype{T}{L}</span></code> in the
LaTeX preamble (see <a class="reference internal" href="../configuration.html#confval-latex_elements"><code class="xref std std-confval docutils literal notranslate"><span class="pre">latex_elements</span></code></a>).</p>
<p>A frequent issue with tabulary is that columns with little contents are
“squeezed”. The minimal column width is a tabulary parameter called
<code class="docutils literal notranslate"><span class="pre">\tymin</span></code>. You may set it globally in the LaTeX preamble via
<code class="docutils literal notranslate"><span class="pre">\setlength{\tymin}{40pt}</span></code> for example.</p>
<p>Else, use the <a class="reference internal" href="#directive-tabularcolumns" title="tabularcolumns directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">tabularcolumns</span></code></a> directive with an explicit
<code class="docutils literal notranslate"><span class="pre">p{40pt}</span></code> (for example) for that column. You may use also <code class="docutils literal notranslate"><span class="pre">l</span></code>
specifier but this makes the task of setting column widths more difficult
if some merged cell intersects that column.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>Tables with more than 30 rows are rendered using <code class="docutils literal notranslate"><span class="pre">longtable</span></code>, not
<code class="docutils literal notranslate"><span class="pre">tabulary</span></code>, in order to allow pagebreaks. The <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">R</span></code>, … specifiers
do not work for these tables.</p>
<p>Tables that contain list-like elements such as object descriptions,
blockquotes or any kind of lists cannot be set out of the box with
<code class="docutils literal notranslate"><span class="pre">tabulary</span></code>. They are therefore set with the standard LaTeX <code class="docutils literal notranslate"><span class="pre">tabular</span></code> (or
<code class="docutils literal notranslate"><span class="pre">longtable</span></code>) environment if you don’t give a <code class="docutils literal notranslate"><span class="pre">tabularcolumns</span></code> directive.
If you do, the table will be set with <code class="docutils literal notranslate"><span class="pre">tabulary</span></code> but you must use the
<code class="docutils literal notranslate"><span class="pre">p{width}</span></code> construct (or Sphinx’s <code class="docutils literal notranslate"><span class="pre">\X</span></code> and <code class="docutils literal notranslate"><span class="pre">\Y</span></code> specifiers described
below) for the columns containing these elements.</p>
<p>Literal blocks do not work with <code class="docutils literal notranslate"><span class="pre">tabulary</span></code> at all, so tables containing
a literal block are always set with <code class="docutils literal notranslate"><span class="pre">tabular</span></code>. The verbatim environment
used for literal blocks only works in <code class="docutils literal notranslate"><span class="pre">p{width}</span></code> (and <code class="docutils literal notranslate"><span class="pre">\X</span></code> or <code class="docutils literal notranslate"><span class="pre">\Y</span></code>)
columns, hence Sphinx generates such column specs for tables containing
literal blocks.</p>
</div>
<p>Since Sphinx 1.5, the <code class="docutils literal notranslate"><span class="pre">\X{a}{b}</span></code> specifier is used (there <em>is</em> a backslash
in the specifier letter). It is like <code class="docutils literal notranslate"><span class="pre">p{width}</span></code> with the width set to a
fraction <code class="docutils literal notranslate"><span class="pre">a/b</span></code> of the current line width. You can use it in the
<a class="reference internal" href="#directive-tabularcolumns" title="tabularcolumns directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">tabularcolumns</span></code></a> (it is not a problem if some LaTeX macro is also
called <code class="docutils literal notranslate"><span class="pre">\X</span></code>.)</p>
<p>It is <em>not</em> needed for <code class="docutils literal notranslate"><span class="pre">b</span></code> to be the total number of columns, nor for the
sum of the fractions of the <code class="docutils literal notranslate"><span class="pre">\X</span></code> specifiers to add  up to one. For example
<code class="docutils literal notranslate"><span class="pre">|\X{2}{5}|\X{1}{5}|\X{1}{5}|</span></code> is legitimate and the table will occupy
80% of the line width, the first of its three columns having the same width
as the sum  of the next two.</p>
<p>This is used by the <code class="docutils literal notranslate"><span class="pre">:widths:</span></code> option of the <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#table">table</a> directive.</p>
<p>Since Sphinx 1.6, there is also the <code class="docutils literal notranslate"><span class="pre">\Y{f}</span></code> specifier which admits a
decimal argument, such has <code class="docutils literal notranslate"><span class="pre">\Y{0.15}</span></code>: this would have the same effect as
<code class="docutils literal notranslate"><span class="pre">\X{3}{20}</span></code>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.6 版更改: </span>Merged cells from complex grid tables (either multi-row, multi-column, or
both) now allow blockquotes, lists, literal blocks, … as do regular cells.</p>
<p>Sphinx’s merged cells interact well with <code class="docutils literal notranslate"><span class="pre">p{width}</span></code>, <code class="docutils literal notranslate"><span class="pre">\X{a}{b}</span></code>, <code class="docutils literal notranslate"><span class="pre">Y{f}</span></code>
and tabulary’s columns.</p>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p><a class="reference internal" href="#directive-tabularcolumns" title="tabularcolumns directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">tabularcolumns</span></code></a> conflicts with <code class="docutils literal notranslate"><span class="pre">:widths:</span></code> option of table
directives.  If both are specified, <code class="docutils literal notranslate"><span class="pre">:widths:</span></code> option will be ignored.</p>
</div>
</dd></dl>

</div>
<div class="section" id="math">
<h2>数学<a class="headerlink" href="#math" title="永久链接至标题">¶</a></h2>
<p>The input language for mathematics is LaTeX markup.  This is the de-facto
standard for plain-text math notation and has the added advantage that no
further translation is necessary when building LaTeX output.</p>
<p>Keep in mind that when you put math markup in <strong>Python docstrings</strong> read by
<a class="reference internal" href="../extensions/autodoc.html#module-sphinx.ext.autodoc" title="sphinx.ext.autodoc: Include documentation from docstrings."><code class="xref py py-mod docutils literal notranslate"><span class="pre">autodoc</span></code></a>, you either have to double all backslashes,
or use Python raw strings (<code class="docutils literal notranslate"><span class="pre">r&quot;raw&quot;</span></code>).</p>
<dl class="directive">
<dt id="directive-math">
<code class="descname">.. math::</code><a class="headerlink" href="#directive-math" title="永久链接至目标">¶</a></dt>
<dd><p>Directive for displayed math (math that takes the whole line for itself).</p>
<p>The directive supports multiple equations, which should be separated by a
blank line:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">math</span><span class="p">::</span>

   (a + b)^2 = a^2 + 2ab + b^2

   (a - b)^2 = a^2 - 2ab + b^2
</pre></div>
</div>
<p>In addition, each single equation is set within a <code class="docutils literal notranslate"><span class="pre">split</span></code> environment,
which means that you can have multiple aligned lines in an equation,
aligned at <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> and separated by <code class="docutils literal notranslate"><span class="pre">\\</span></code>:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">math</span><span class="p">::</span>

   (a + b)^2  &amp;=  (a + b)(a + b) \\
              &amp;=  a^2 + 2ab + b^2
</pre></div>
</div>
<p>For more details, look into the documentation of the <a class="reference external" href="https://www.ams.org/publications/authors/tex/amslatex">AmSMath LaTeX
package</a>.</p>
<p>When the math is only one line of text, it can also be given as a directive
argument:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">math</span><span class="p">::</span> (a + b)^2 = a^2 + 2ab + b^2
</pre></div>
</div>
<p>Normally, equations are not numbered.  If you want your equation to get a
number, use the <code class="docutils literal notranslate"><span class="pre">label</span></code> option.  When given, it selects an internal label
for the equation, by which it can be cross-referenced, and causes an equation
number to be issued.  See <a class="reference internal" href="roles.html#role-eq" title="eq role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">eq</span></code></a> for an example.  The numbering
style depends on the output format.</p>
<p>There is also an option <code class="docutils literal notranslate"><span class="pre">nowrap</span></code> that prevents any wrapping of the given
math in a math environment.  When you give this option, you must make sure
yourself that the math is properly set up.  For example:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">math</span><span class="p">::</span>
   <span class="nc">:nowrap:</span>

   \begin{eqnarray}
      y    &amp; = &amp; ax^2 + bx + c \\
      f(x) &amp; = &amp; x^2 + 2xy + y^2
   \end{eqnarray}
</pre></div>
</div>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">参见</p>
<dl class="simple">
<dt><a class="reference internal" href="../extensions/math.html#math-support"><span class="std std-ref">Math support for HTML outputs in Sphinx</span></a></dt><dd><p>Rendering options for math with HTML builders.</p>
</dd>
<dt><a class="reference internal" href="../configuration.html#confval-latex_engine"><code class="xref std std-confval docutils literal notranslate"><span class="pre">latex_engine</span></code></a></dt><dd><p>Explains how to configure LaTeX builder to support Unicode literals in
math mark-up.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="grammar-production-displays">
<h2>语法制作显示<a class="headerlink" href="#grammar-production-displays" title="永久链接至标题">¶</a></h2>
<p>Special markup is available for displaying the productions of a formal grammar.
The markup is simple and does not attempt to model all aspects of BNF (or any
derived forms), but provides enough to allow context-free grammars to be
displayed in a way that causes uses of a symbol to be rendered as hyperlinks to
the definition of the symbol.  There is this directive:</p>
<dl class="directive">
<dt id="directive-productionlist">
<code class="descname">.. productionlist::</code><code class="descclassname"> [name]</code><a class="headerlink" href="#directive-productionlist" title="永久链接至目标">¶</a></dt>
<dd><p>This directive is used to enclose a group of productions.  Each production
is given on a single line and consists of a name, separated by a colon from
the following definition.  If the definition spans multiple lines, each
continuation line must begin with a colon placed at the same column as in
the first line.</p>
<p>The argument to <a class="reference internal" href="#directive-productionlist" title="productionlist directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">productionlist</span></code></a> serves to distinguish different
sets of production lists that belong to different grammars.</p>
<p>Blank lines are not allowed within <code class="docutils literal notranslate"><span class="pre">productionlist</span></code> directive arguments.</p>
<p>The definition can contain token names which are marked as interpreted text
(e.g. <code class="docutils literal notranslate"><span class="pre">sum</span> <span class="pre">::=</span> <span class="pre">`integer`</span> <span class="pre">&quot;+&quot;</span> <span class="pre">`integer`</span></code>) – this generates
cross-references to the productions of these tokens.  Outside of the
production list, you can reference to token productions using
<a class="reference internal" href="roles.html#role-token" title="token role"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">token</span></code></a>.</p>
<p>Note that no further reST parsing is done in the production, so that you
don’t have to escape <code class="docutils literal notranslate"><span class="pre">*</span></code> or <code class="docutils literal notranslate"><span class="pre">|</span></code> characters.</p>
</dd></dl>

<p>The following is an example taken from the Python Reference Manual:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">productionlist</span><span class="p">::</span>
   try_stmt: try1_stmt | try2_stmt
   try1_stmt: &quot;try&quot; &quot;:&quot; <span class="nv">`suite`</span>
            : (&quot;except&quot; [<span class="nv">`expression`</span> [&quot;,&quot; <span class="nv">`target`</span>]] &quot;:&quot; <span class="nv">`suite`</span>)+
            : [&quot;else&quot; &quot;:&quot; <span class="nv">`suite`</span>]
            : [&quot;finally&quot; &quot;:&quot; <span class="nv">`suite`</span>]
   try2_stmt: &quot;try&quot; &quot;:&quot; <span class="nv">`suite`</span>
            : &quot;finally&quot; &quot;:&quot; <span class="nv">`suite`</span>
</pre></div>
</div>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>The LaTeX writer only refers the <code class="docutils literal notranslate"><span class="pre">maxdepth</span></code> option of first toctree
directive in the document.</p>
</dd>
<dt class="label" id="id7"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>A note on available globbing syntax: you can use the standard shell
constructs <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">?</span></code>, <code class="docutils literal notranslate"><span class="pre">[...]</span></code> and <code class="docutils literal notranslate"><span class="pre">[!...]</span></code> with the feature that
these all don’t match slashes.  A double star <code class="docutils literal notranslate"><span class="pre">**</span></code> can be used to
match any sequence of characters <em>including</em> slashes.</p>
</dd>
<dt class="label" id="id8"><span class="brackets"><a class="fn-backref" href="#id4">3</a></span></dt>
<dd><p>There is a standard <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">include</span></code> directive, but it raises errors if the
file is not found.  This one only emits a warning.</p>
</dd>
<dt class="label" id="id9"><span class="brackets"><a class="fn-backref" href="#id5">4</a></span></dt>
<dd><p>For most builders name and format are the same. At the moment only
builders derived from the html builder distinguish between the builder
format and the builder name.</p>
<p>Note that the current builder tag is not available in <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>, it is
only available after the builder is initialized.</p>
</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="field-lists.html" title="Field Lists"
             >下一页</a> |</li>
        <li class="right" >
          <a href="roles.html" title="角色"
             >上一页</a> |</li>
<li><a href="../../index.html">主页</a>&#160;|</li>
<li><a href="../../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >reStructuredText</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2007-2019, Georg Brandl and the Sphinx team.
      由 <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.0+/54c2e3a 创建。
    </div>
  </body>
</html>