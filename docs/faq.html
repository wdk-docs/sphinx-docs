
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <title>Sphinx 常问问题 &#8212; Sphinx 2.1.0+/a5409da 文档</title>
    <link rel="stylesheet" href="_static/sphinx13.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx 2.1.0+/a5409da 文档 中搜索"
          href="_static/opensearch.xml"/>

    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="词汇表" href="glossary.html" />
    <link rel="prev" title="开发 “recipe” 扩展" href="development/tutorials/recipe.html" />
<link rel="canonical" href="http://www.sphinx-doc.org/en/master/faq.html" />

<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css' />
 
<style type="text/css">
  table.right {
    float: right;
    margin-left: 20px;
  }

  table.right td {
    border: 1px solid #ccc;
  }

    {
    % if pagename=='index'%
  }

  .related {
    display: none;
  }

    {
    % endif %
  }
</style>
<script type="text/javascript">
  // intelligent scrolling of the sidebar content
  $(window).scroll(function () {
    var sb = $('.sphinxsidebarwrapper');
    var win = $(window);
    var sbh = sb.height();
    var offset = $('.sphinxsidebar').position()['top'];
    var wintop = win.scrollTop();
    var winbot = wintop + win.innerHeight();
    var curtop = sb.position()['top'];
    var curbot = curtop + sbh;
    // does sidebar fit in window?
    if (sbh < win.innerHeight()) {
      // yes: easy case -- always keep at the top
      sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
        $(document).height() - sbh - 200
      ]));
    } else {
      // no: only scroll if top/bottom edge of sidebar is at
      // top/bottom edge of window
      if (curtop > wintop && curbot > winbot) {
        sb.css('top', $u.max([wintop - offset - 10, 0]));
      } else if (curtop < wintop && curbot < winbot) {
        sb.css('top', $u.min([winbot - sbh - offset - 20,
          $(document).height() - sbh - 200
        ]));
      }
    }
  });
</script>

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="index.html">主页</a></li>
    <li><a href="usage/installation.html">安装</a></li>
    <li><a href="contents.html">文档</a></li>
    <li><a href="develop.html">扩展/开发</a></li>
  </ul>
  <div>
    <a href="index.html">
      <img src="_static/sphinxheader.png" alt="SPHINX" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="glossary.html" title="词汇表"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="development/tutorials/recipe.html" title="开发 “recipe” 扩展"
             accesskey="P">上一页</a> |</li>
<li><a href="index.html">主页</a>&#160;|</li>
<li><a href="contents.html">文档</a> &#187;</li>
 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="contents.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">Sphinx 常问问题</a><ul>
<li><a class="reference internal" href="#how-do-i">我如何能…</a></li>
<li><a class="reference internal" href="#using-sphinx-with">使用Sphinx…</a></li>
<li><a class="reference internal" href="#epub-info">Epub 信息</a></li>
<li><a class="reference internal" href="#texinfo-info">Texinfo 信息</a><ul>
<li><a class="reference internal" href="#displaying-links">显示链接</a></li>
<li><a class="reference internal" href="#notes">注释</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="development/tutorials/recipe.html"
                        title="上一章">开发 “recipe” 扩展</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="glossary.html"
                        title="下一章">词汇表</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/faq.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sphinx-faq">
<span id="faq"></span><h1>Sphinx 常问问题<a class="headerlink" href="#sphinx-faq" title="永久链接至标题">¶</a></h1>
<p>这是关于Sphinx的常见问题列表。随意提出新的条目！</p>
<div class="section" id="how-do-i">
<h2>我如何能…<a class="headerlink" href="#how-do-i" title="永久链接至标题">¶</a></h2>
<dl class="simple">
<dt>… 创建没有LaTeX的PDF文件？</dt><dd><p><a class="reference external" href="https://github.com/brechtm/rinohtype">rinohtype</a> provides PDF构建器，可用作LaTeX构建器的替代品。</p>
</dd>
<dt>… 获得部分号码？</dt><dd><p>They are automatic in LaTeX output; for HTML, give a <code class="docutils literal notranslate"><span class="pre">:numbered:</span></code> option to
the <a class="reference internal" href="usage/restructuredtext/directives.html#directive-toctree" title="toctree directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">toctree</span></code></a> directive where you want to start numbering.</p>
</dd>
<dt>… 自定义构建的HTML文件的外观？</dt><dd><p>使用主题，请参阅 <a class="reference internal" href="usage/theming.html"><span class="doc">HTML</span></a>.</p>
</dd>
<dt>… 添加全球替换或包括？</dt><dd><p>Add them in the <a class="reference internal" href="usage/configuration.html#confval-rst_prolog"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rst_prolog</span></code></a> or <a class="reference internal" href="usage/configuration.html#confval-rst_epilog"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rst_epilog</span></code></a> config value.</p>
</dd>
<dt>… 在侧边栏中显示整个TOC树？</dt><dd><p>Use the <a class="reference internal" href="templating.html#toctree" title="toctree"><code class="xref py py-data docutils literal notranslate"><span class="pre">toctree</span></code></a> callable in a custom layout template, probably in the
<code class="docutils literal notranslate"><span class="pre">sidebartoc</span></code> block.</p>
</dd>
<dt>… 写我自己的扩展？</dt><dd><p>See the <a class="reference internal" href="development/tutorials/index.html"><span class="doc">扩展教程</span></a>.</p>
</dd>
<dt>… 使用MoinMoin标记从我现有的文档转换？</dt><dd><p>The easiest way is to convert to xhtml, then convert <a class="reference external" href="http://docutils.sourceforge.net/sandbox/xhtml2rest/xhtml2rest.py">xhtml to reST</a>.
You’ll still need to mark up classes and such, but the headings and code
examples come through cleanly.</p>
</dd>
<dt>… 从Sphinx文档创建HTML幻灯片？</dt><dd><p>See the “Hieroglyph” package at <a class="reference external" href="https://github.com/nyergler/hieroglyph">https://github.com/nyergler/hieroglyph</a>.</p>
</dd>
</dl>
<p>For many more extensions and other contributed stuff, see the <a class="reference external" href="https://bitbucket.org/birkenfeld/sphinx-contrib/">sphinx-contrib</a>
repository.</p>
</div>
<div class="section" id="using-sphinx-with">
<span id="usingwith"></span><h2>使用Sphinx…<a class="headerlink" href="#using-sphinx-with" title="永久链接至标题">¶</a></h2>
<dl>
<dt>Read the Docs</dt><dd><p><a class="reference external" href="https://readthedocs.org">https://readthedocs.org</a> is a documentation hosting service based around
Sphinx. They will host sphinx documentation, along with supporting a number
of other features including version support, PDF generation, and more. The
<a class="reference external" href="https://read-the-docs.readthedocs.io/en/latest/getting_started.html">Getting Started</a>
guide is a good place to start.</p>
</dd>
<dt>Epydoc</dt><dd><p>There’s a third-party extension providing an <a class="reference external" href="https://git.savannah.gnu.org/cgit/kenozooid.git/tree/doc/extapi.py">api role</a> which refers to
Epydoc’s API docs for a given identifier.</p>
</dd>
<dt>Doxygen</dt><dd><p>Michael Jones is developing a reST/Sphinx bridge to doxygen called <a class="reference external" href="https://github.com/michaeljones/breathe/tree/master">breathe</a>.</p>
</dd>
<dt>SCons</dt><dd><p>Glenn Hutchings has written a SCons build script to build Sphinx
documentation; it is hosted here: <a class="reference external" href="https://bitbucket.org/zondo/sphinx-scons">https://bitbucket.org/zondo/sphinx-scons</a></p>
</dd>
<dt>PyPI</dt><dd><p>Jannis Leidel wrote a <a class="reference external" href="https://pypi.org/project/Sphinx-PyPI-upload/">setuptools command</a> that automatically
uploads Sphinx documentation to the PyPI package documentation area at
<a class="reference external" href="https://pythonhosted.org/">https://pythonhosted.org/</a>.</p>
</dd>
<dt>GitHub Pages</dt><dd><p>Directories starting with underscores are ignored by default which breaks
static files in Sphinx.  GitHub’s preprocessor can be <a class="reference external" href="https://github.com/blog/572-bypassing-jekyll-on-github-pages">disabled</a> to support
Sphinx HTML output properly.</p>
</dd>
<dt>MediaWiki</dt><dd><p>See <a class="reference external" href="https://bitbucket.org/kevindunn/sphinx-wiki/wiki/Home">https://bitbucket.org/kevindunn/sphinx-wiki/wiki/Home</a>, a project by Kevin Dunn.</p>
</dd>
<dt>Google Analytics</dt><dd><p>You can use a custom <code class="docutils literal notranslate"><span class="pre">layout.html</span></code> template, like this:</p>
<div class="highlight-html+jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;!layout.html&quot;</span> <span class="cp">%}</span>

<span class="cp">{%</span>- <span class="k">block</span> <span class="nv">extrahead</span> <span class="cp">%}</span>
<span class="cp">{{</span> <span class="nb">super</span><span class="o">()</span> <span class="cp">}}</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>
  <span class="kd">var</span> <span class="nx">_gaq</span> <span class="o">=</span> <span class="nx">_gaq</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nx">_gaq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;_setAccount&#39;</span><span class="p">,</span> <span class="s1">&#39;XXX account number XXX&#39;</span><span class="p">]);</span>
  <span class="nx">_gaq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;_trackPageview&#39;</span><span class="p">]);</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">footer</span> <span class="cp">%}</span>
<span class="cp">{{</span> <span class="nb">super</span><span class="o">()</span> <span class="cp">}}</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;footer&quot;</span><span class="p">&gt;</span>This page uses <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://analytics.google.com/&quot;</span><span class="p">&gt;</span>
Google Analytics<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>
  <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">ga</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
    <span class="nx">ga</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;https:&#39;</span> <span class="o">==</span> <span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span> <span class="o">?</span>
              <span class="s1">&#39;https://ssl&#39;</span> <span class="o">:</span> <span class="s1">&#39;http://www&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.google-analytics.com/ga.js&#39;</span><span class="p">;</span>
    <span class="nx">ga</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;async&#39;</span><span class="p">,</span> <span class="s1">&#39;true&#39;</span><span class="p">);</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">ga</span><span class="p">);</span>
  <span class="p">})();</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</dd>
<dt>Google Search</dt><dd><p>To replace Sphinx’s built-in search function with Google Search, proceed as
follows:</p>
<ol class="arabic">
<li><p>Go to <a class="reference external" href="https://cse.google.com/cse/all">https://cse.google.com/cse/all</a> to create the Google Search code
snippet.</p></li>
<li><p>Copy the code snippet and paste it into <code class="docutils literal notranslate"><span class="pre">_templates/searchbox.html</span></code> in
your Sphinx project:</p>
<div class="highlight-html+jinja notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="kp">_</span><span class="o">(</span><span class="s1">&#39;Quick search&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
      <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
         <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="s1">&#39;......&#39;</span><span class="p">;</span>
         <span class="kd">var</span> <span class="nx">gcse</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
         <span class="nx">gcse</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">&#39;text/javascript&#39;</span><span class="p">;</span>
         <span class="nx">gcse</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
         <span class="nx">gcse</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">&#39;https://cse.google.com/cse.js?cx=&#39;</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">;</span>
         <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
         <span class="nx">s</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">gcse</span><span class="p">,</span> <span class="nx">s</span><span class="p">);</span>
      <span class="p">})();</span>
   <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">gcse:search</span><span class="p">&gt;&lt;/</span><span class="nt">gcse:search</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">searchbox.html</span></code> to the <a class="reference internal" href="usage/configuration.html#confval-html_sidebars"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_sidebars</span></code></a> configuration value.</p></li>
</ol>
</dd>
</dl>
</div>
<div class="section" id="epub-info">
<span id="epub-faq"></span><h2>Epub 信息<a class="headerlink" href="#epub-info" title="永久链接至标题">¶</a></h2>
<p>以下列表提供了有关创建epub文件的一些提示:</p>
<ul>
<li><p>将文本拆分为多个文件。单个HTML文件越长，电子书阅读器渲染它们的时间就越长。在极端情况下，渲染可能需要一分钟。</p></li>
<li><p>尽量减少标记。这也支付渲染时间。</p></li>
<li><p>For some readers you can use embedded or external fonts using the CSS
<code class="docutils literal notranslate"><span class="pre">&#64;font-face</span></code> directive.  This is <em>extremely</em> useful for code listings which
are often cut at the right margin.  The default Courier font (or variant) is
quite wide and you can only display up to 60 characters on a line.  If you
replace it with a narrower font, you can get more characters on a line.  You
may even use <a class="reference external" href="https://fontforge.github.io/">FontForge</a> and create
narrow variants of some free font.  In my case I get up to 70 characters on a
line.</p>
<p>您可能需要进行一些实验，直到获得合理的结果。</p>
</li>
<li><p>Test the created epubs. You can use several alternatives.  The ones I am aware
of are <a class="reference external" href="https://github.com/IDPF/epubcheck">Epubcheck</a>, <a class="reference external" href="https://calibre-ebook.com/">Calibre</a>, <a class="reference external" href="https://fbreader.org/">FBreader</a> (although it does not render the CSS),
and <a class="reference external" href="https://www.oreilly.com/bookworm/index.html">Bookworm</a>.  For Bookworm, you can download the source from
<a class="reference external" href="https://code.google.com/archive/p/threepress">https://code.google.com/archive/p/threepress</a> and run your own local server.</p></li>
<li><p>Large floating divs are not displayed properly.
If they cover more than one page, the div is only shown on the first page.
In that case you can copy the <code class="file docutils literal notranslate"><span class="pre">epub.css</span></code> from the
<code class="docutils literal notranslate"><span class="pre">sphinx/themes/epub/static/</span></code> directory to your local <code class="docutils literal notranslate"><span class="pre">_static/</span></code>
directory and remove the float settings.</p></li>
<li><p>Files that are inserted outside of the <code class="docutils literal notranslate"><span class="pre">toctree</span></code> directive must be manually
included. This sometimes applies to appendixes, e.g. the glossary or
the indices.  You can add them with the <a class="reference internal" href="usage/configuration.html#confval-epub_post_files"><code class="xref std std-confval docutils literal notranslate"><span class="pre">epub_post_files</span></code></a> option.</p></li>
<li><p>The handling of the epub cover page differs from the reStructuredText
procedure which automatically resolves image paths and puts the images
into the <code class="docutils literal notranslate"><span class="pre">_images</span></code> directory.  For the epub cover page put the image in the
<a class="reference internal" href="usage/configuration.html#confval-html_static_path"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_static_path</span></code></a> directory and reference it with its full path in
the <a class="reference internal" href="usage/configuration.html#confval-epub_cover"><code class="xref std std-confval docutils literal notranslate"><span class="pre">epub_cover</span></code></a> config option.</p></li>
<li><p><a class="reference external" href="https://www.amazon.com/gp/feature.html?docId=1000765211">kindlegen</a> command can convert from epub3 resulting file to <code class="docutils literal notranslate"><span class="pre">.mobi</span></code> file
for Kindle. You can get <code class="docutils literal notranslate"><span class="pre">yourdoc.mobi</span></code> under <code class="docutils literal notranslate"><span class="pre">_build/epub</span></code> after the
following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ make epub
$ kindlegen _build/epub/yourdoc.epub
</pre></div>
</div>
<p>The kindlegen command doesn’t accept documents that have section
titles surrounding <code class="docutils literal notranslate"><span class="pre">toctree</span></code> directive:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="gh">Section Title</span>
<span class="gh">=============</span>

<span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>

   subdocument

<span class="gh">Section After Toc Tree</span>
<span class="gh">======================</span>
</pre></div>
</div>
<p>kindlegen assumes all documents order in line, but the resulting document
has complicated order for kindlegen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>``parent.xhtml`` -&gt; ``child.xhtml`` -&gt; ``parent.xhtml``
</pre></div>
</div>
<p>If you get the following error, fix your document structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span><span class="p">(</span><span class="n">prcgen</span><span class="p">):</span><span class="n">E24011</span><span class="p">:</span> <span class="n">TOC</span> <span class="n">section</span> <span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">included</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">parent</span> <span class="n">chapter</span><span class="p">:(</span><span class="n">title</span><span class="p">)</span>
<span class="n">Error</span><span class="p">(</span><span class="n">prcgen</span><span class="p">):</span><span class="n">E24001</span><span class="p">:</span> <span class="n">The</span> <span class="n">table</span> <span class="n">of</span> <span class="n">content</span> <span class="n">could</span> <span class="ow">not</span> <span class="n">be</span> <span class="n">built</span><span class="o">.</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="texinfo-info">
<span id="texinfo-faq"></span><h2>Texinfo 信息<a class="headerlink" href="#texinfo-info" title="永久链接至标题">¶</a></h2>
<p>有两个用于读取Info文件的主程序，<code class="docutils literal notranslate"><span class="pre">info</span></code> 和GNU Emacs。  <code class="docutils literal notranslate"><span class="pre">info</span></code> 程序具有较少的功能，但在大多数Unix环境中都可用，并且可以从终端快速访问。  Emacs提供更好的字体和颜色显示，并支持广泛的自定义（当然）。</p>
<div class="section" id="displaying-links">
<span id="texinfo-links"></span><h3>显示链接<a class="headerlink" href="#displaying-links" title="永久链接至标题">¶</a></h3>
<p>One noticeable problem you may encounter with the generated Info files is how
references are displayed.  If you read the source of an Info file, a reference
to this section would look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">note</span> <span class="n">Displaying</span> <span class="n">Links</span><span class="p">:</span> <span class="n">target</span><span class="o">-</span><span class="nb">id</span>
</pre></div>
</div>
<p>In the stand-alone reader, <code class="docutils literal notranslate"><span class="pre">info</span></code>, references are displayed just as they
appear in the source.  Emacs, on the other-hand, will by default replace
<code class="docutils literal notranslate"><span class="pre">*note:</span></code> with <code class="docutils literal notranslate"><span class="pre">see</span></code> and hide the <code class="docutils literal notranslate"><span class="pre">target-id</span></code>.  For example:</p>
<blockquote>
<div><p><a class="reference internal" href="#texinfo-links"><span class="std std-ref">显示链接</span></a></p>
</div></blockquote>
<p>The exact behavior of how Emacs displays references is dependent on the variable
<code class="docutils literal notranslate"><span class="pre">Info-hide-note-references</span></code>.  If set to the value of <code class="docutils literal notranslate"><span class="pre">hide</span></code>, Emacs will hide
both the <code class="docutils literal notranslate"><span class="pre">*note:</span></code> part and the <code class="docutils literal notranslate"><span class="pre">target-id</span></code>.  This is generally the best way
to view Sphinx-based documents since they often make frequent use of links and
do not take this limitation into account.  However, changing this variable
affects how all Info documents are displayed and most do take this behavior
into account.</p>
<p>If you want Emacs to display Info files produced by Sphinx using the value
<code class="docutils literal notranslate"><span class="pre">hide</span></code> for <code class="docutils literal notranslate"><span class="pre">Info-hide-note-references</span></code> and the default value for all other
Info files, try adding the following Emacs Lisp code to your start-up file,
<code class="docutils literal notranslate"><span class="pre">~/.emacs.d/init.el</span></code>.</p>
<div class="highlight-elisp notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="nb">defadvice</span> <span class="nv">info-insert-file-contents</span> <span class="p">(</span><span class="nv">after</span>
                                      <span class="nv">sphinx-info-insert-file-contents</span>
                                      <span class="nv">activate</span><span class="p">)</span>
  <span class="s">&quot;Hack to make </span><span class="ss">`Info-hide-note-references&#39;</span><span class="s"> buffer-local and</span>
<span class="s">automatically set to </span><span class="ss">`hide&#39;</span><span class="s"> iff it can be determined that this file</span>
<span class="s">was created from a Texinfo file generated by Docutils or Sphinx.&quot;</span>
  <span class="p">(</span><span class="nf">set</span> <span class="p">(</span><span class="nf">make-local-variable</span> <span class="ss">&#39;Info-hide-note-references</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">default-value</span> <span class="ss">&#39;Info-hide-note-references</span><span class="p">))</span>
  <span class="p">(</span><span class="k">save-excursion</span>
    <span class="p">(</span><span class="k">save-restriction</span>
      <span class="p">(</span><span class="nf">widen</span><span class="p">)</span> <span class="p">(</span><span class="nf">goto-char</span> <span class="p">(</span><span class="nf">point-min</span><span class="p">))</span>
      <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nf">re-search-forward</span>
             <span class="s">&quot;^Generated by \\(Sphinx\\|Docutils\\)&quot;</span>
             <span class="p">(</span><span class="k">save-excursion</span> <span class="p">(</span><span class="nf">search-forward</span> <span class="s">&quot;\x1f&quot;</span> <span class="no">nil</span> <span class="no">t</span><span class="p">))</span> <span class="no">t</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">set</span> <span class="p">(</span><span class="nf">make-local-variable</span> <span class="ss">&#39;Info-hide-note-references</span><span class="p">)</span>
             <span class="ss">&#39;hide</span><span class="p">)))))</span>
</pre></div>
</div>
</div>
<div class="section" id="notes">
<h3>注释<a class="headerlink" href="#notes" title="永久链接至标题">¶</a></h3>
<p>The following notes may be helpful if you want to create Texinfo files:</p>
<ul>
<li><p>Each section corresponds to a different <code class="docutils literal notranslate"><span class="pre">node</span></code> in the Info file.</p></li>
<li><p>Colons (<code class="docutils literal notranslate"><span class="pre">:</span></code>) cannot be properly escaped in menu entries and xrefs.
They will be replaced with semicolons (<code class="docutils literal notranslate"><span class="pre">;</span></code>).</p></li>
<li><p>Links to external Info files can be created using the somewhat official URI
scheme <code class="docutils literal notranslate"><span class="pre">info</span></code>.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">info</span><span class="p">:</span><span class="n">Texinfo</span><span class="c1">#makeinfo_options</span>
</pre></div>
</div>
</li>
<li><p>Inline markup</p>
<p>The standard formatting for <code class="docutils literal notranslate"><span class="pre">*strong*</span></code> and <code class="docutils literal notranslate"><span class="pre">_emphasis_</span></code> can
result in ambiguous output when used to markup parameter names and
other values.  Since this is a fairly common practice, the default
formatting has been changed so that <code class="docutils literal notranslate"><span class="pre">emphasis</span></code> and <code class="docutils literal notranslate"><span class="pre">strong</span></code> are
now displayed like <code class="docutils literal notranslate"><span class="pre">`literal'</span></code>s.</p>
<p>The standard formatting can be re-enabled by adding the following to
your <code class="file docutils literal notranslate"><span class="pre">conf.py</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">texinfo_elements</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;preamble&#39;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">@definfoenclose strong,*,*</span>
<span class="s2">@definfoenclose emph,_,_</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="glossary.html" title="词汇表"
             >下一页</a> |</li>
        <li class="right" >
          <a href="development/tutorials/recipe.html" title="开发 “recipe” 扩展"
             >上一页</a> |</li>
<li><a href="index.html">主页</a>&#160;|</li>
<li><a href="contents.html">文档</a> &#187;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2007-2019, Georg Brandl and the Sphinx team.
      由 <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.0+/a5409da 创建。
    </div>
  </body>
</html>