

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HTML主题支持 &mdash; Sphinx 2.1.0+/77d104c 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx 2.1.0+/77d104c 文档 中搜索"
          href="_static/opensearch.xml"/>

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="模板" href="templating.html" />
    <link rel="prev" title="sphinx-autogen" href="man/sphinx-autogen.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="contents.html" class="icon icon-home"> Sphinx
          

          
          </a>

          
            
            
              <div class="version">
                2.1.0+/77d104c
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/installation.html">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/quickstart.html">入门</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/restructuredtext/index.html">reStructuredText</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/markdown.html">Markdown</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/configuration.html">配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/builders/index.html">构建器</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/extensions/index.html">扩展</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/theming.html">HTML</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/advanced/intl.html">国际化</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/advanced/setuptools.html">Setuptools集成</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage/advanced/websupport/index.html">Sphinx Web支持</a></li>
<li class="toctree-l1"><a class="reference internal" href="man/index.html">手册页</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">HTML主题支持</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-themes">创建主题</a></li>
<li class="toctree-l2"><a class="reference internal" href="#distribute-your-theme-as-a-python-package">将您的主题分发为Python包</a></li>
<li class="toctree-l2"><a class="reference internal" href="#templating">模板</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#static-templates">静态模板</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="templating.html">模板</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex.html">LaTeX 定制</a></li>
<li class="toctree-l1"><a class="reference internal" href="extdev/index.html">为Sphinx开发扩展</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/tutorials/index.html">扩展教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Sphinx 常问问题</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">词汇表</a></li>
<li class="toctree-l1"><a class="reference internal" href="devguide.html">Sphinx开发人员指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Sphinx更新</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">使用Sphinx的项目</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Sphinx作者</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="contents.html">Sphinx</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="contents.html">Docs</a> &raquo;</li>
        
      <li>HTML主题支持</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/theming.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="html-theming-support">
<h1>HTML主题支持<a class="headerlink" href="#html-theming-support" title="永久链接至标题">¶</a></h1>
<div class="versionadded">
<p><span class="versionmodified added">0.6 新版功能.</span></p>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>This document provides information about creating your own theme. If you
simply wish to use a pre-existing HTML themes, refer to
<a class="reference internal" href="usage/theming.html"><span class="doc">HTML</span></a>.</p>
</div>
<p>Sphinx supports changing the appearance of its HTML output via <em>themes</em>.  A
theme is a collection of HTML templates, stylesheet(s) and other static files.
Additionally, it has a configuration file which specifies from which theme to
inherit, which highlighting style to use, and what options exist for customizing
the theme’s look and feel.</p>
<p>Themes are meant to be project-unaware, so they can be used for different
projects without change.</p>
<div class="section" id="creating-themes">
<h2>创建主题<a class="headerlink" href="#creating-themes" title="永久链接至标题">¶</a></h2>
<p>Themes take the form of either a directory or a zipfile (whose name is the
theme name), containing the following:</p>
<ul class="simple">
<li><p><code class="file docutils literal notranslate"><span class="pre">theme.conf</span></code> 文件。</p></li>
<li><p>HTML模板，如果需要的话。</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">static/</span></code> directory containing any static files that will be copied to the
output static directory on build.  These can be images, styles, script files.</p></li>
</ul>
<p>The <code class="file docutils literal notranslate"><span class="pre">theme.conf</span></code> file is in INI format <a class="footnote-reference brackets" href="#id2" id="id1">1</a> (readable by the standard
Python <code class="xref py py-mod docutils literal notranslate"><span class="pre">ConfigParser</span></code> module) and has the following structure:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[theme]</span>
<span class="na">inherit</span> <span class="o">=</span> <span class="s">base theme</span>
<span class="na">stylesheet</span> <span class="o">=</span> <span class="s">main CSS name</span>
<span class="na">pygments_style</span> <span class="o">=</span> <span class="s">stylename</span>
<span class="na">sidebars</span> <span class="o">=</span> <span class="s">localtoc.html, relations.html, sourcelink.html, searchbox.html</span>

<span class="k">[options]</span>
<span class="na">variable</span> <span class="o">=</span> <span class="s">default value</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The <strong>inherit</strong> setting gives the name of a “base theme”, or <code class="docutils literal notranslate"><span class="pre">none</span></code>.  The
base theme will be used to locate missing templates (most themes will not have
to supply most templates if they use <code class="docutils literal notranslate"><span class="pre">basic</span></code> as the base theme), its options
will be inherited, and all of its static files will be used as well. If you want
to also inherit the stylesheet, include it via CSS’ <code class="docutils literal notranslate"><span class="pre">&#64;import</span></code> in your own.</p></li>
<li><p>The <strong>stylesheet</strong> setting gives the name of a CSS file which will be
referenced in the HTML header.  If you need more than one CSS file, either
include one from the other via CSS’ <code class="docutils literal notranslate"><span class="pre">&#64;import</span></code>, or use a custom HTML template
that adds <code class="docutils literal notranslate"><span class="pre">&lt;link</span> <span class="pre">rel=&quot;stylesheet&quot;&gt;</span></code> tags as necessary.  Setting the
<a class="reference internal" href="usage/configuration.html#confval-html_style"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_style</span></code></a> config value will override this setting.</p></li>
<li><p>The <strong>pygments_style</strong> setting gives the name of a Pygments style to use for
highlighting.  This can be overridden by the user in the
<a class="reference internal" href="usage/configuration.html#confval-pygments_style"><code class="xref std std-confval docutils literal notranslate"><span class="pre">pygments_style</span></code></a> config value.</p></li>
<li><p>The <strong>sidebars</strong> setting gives the comma separated list of sidebar templates
for constructing sidebars.  This can be overridden by the user in the
<a class="reference internal" href="usage/configuration.html#confval-html_sidebars"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_sidebars</span></code></a> config value.</p></li>
<li><p>The <strong>options</strong> section contains pairs of variable names and default values.
These options can be overridden by the user in <a class="reference internal" href="usage/configuration.html#confval-html_theme_options"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_theme_options</span></code></a>
and are accessible from all templates as <code class="docutils literal notranslate"><span class="pre">theme_&lt;name&gt;</span></code>.</p></li>
</ul>
<div class="versionadded">
<p><span class="versionmodified added">1.7 新版功能: </span>sidebar settings</p>
</div>
</div>
<div class="section" id="distribute-your-theme-as-a-python-package">
<span id="distribute-your-theme"></span><h2>将您的主题分发为Python包<a class="headerlink" href="#distribute-your-theme-as-a-python-package" title="永久链接至标题">¶</a></h2>
<p>As a way to distribute your theme, you can use Python package.  Python package
brings to users easy setting up ways.</p>
<p>To distribute your theme as a Python package, please define an entry point
called <code class="docutils literal notranslate"><span class="pre">sphinx.html_themes</span></code> in your <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file, and write a <code class="docutils literal notranslate"><span class="pre">setup()</span></code>
function to register your themes using <code class="docutils literal notranslate"><span class="pre">add_html_theme()</span></code> API in it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># &#39;setup.py&#39;</span>
<span class="n">setup</span><span class="p">(</span>
    <span class="o">...</span>
    <span class="n">entry_points</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;sphinx.html_themes&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s1">&#39;name_of_theme = your_package&#39;</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="o">...</span>
<span class="p">)</span>

<span class="c1"># &#39;your_package.py&#39;</span>
<span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">path</span>

<span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_html_theme</span><span class="p">(</span><span class="s1">&#39;name_of_theme&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)))</span>
</pre></div>
</div>
<p>If your theme package contains two or more themes, please call
<code class="docutils literal notranslate"><span class="pre">add_html_theme()</span></code> twice or more.</p>
<div class="versionadded">
<p><span class="versionmodified added">1.2 新版功能: </span>‘sphinx_themes’entry_points功能。</p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">1.6 版后已移除: </span><code class="docutils literal notranslate"><span class="pre">sphinx_themes</span></code> entry_points has been deprecated.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">1.6 新版功能: </span><code class="docutils literal notranslate"><span class="pre">sphinx.html_themes</span></code> entry_points feature.</p>
</div>
</div>
<div class="section" id="templating">
<h2>模板<a class="headerlink" href="#templating" title="永久链接至标题">¶</a></h2>
<p>The <a class="reference internal" href="templating.html"><span class="doc">guide to templating</span></a> is helpful if you want to write your
own templates.  What is important to keep in mind is the order in which Sphinx
searches for templates:</p>
<ul class="simple">
<li><p>First, in the user’s <code class="docutils literal notranslate"><span class="pre">templates_path</span></code> directories.</p></li>
<li><p>然后，在选定的主题中。</p></li>
<li><p>然后，在它的基础主题，它的基地的基础主题等。</p></li>
</ul>
<p>When extending a template in the base theme with the same name, use the theme
name as an explicit directory: <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">&quot;basic/layout.html&quot;</span> <span class="pre">%}</span></code>.  From a
user <code class="docutils literal notranslate"><span class="pre">templates_path</span></code> template, you can still use the “exclamation mark”
syntax as described in the templating document.</p>
<div class="section" id="static-templates">
<h3>静态模板<a class="headerlink" href="#static-templates" title="永久链接至标题">¶</a></h3>
<p>Since theme options are meant for the user to configure a theme more easily,
without having to write a custom stylesheet, it is necessary to be able to
template static files as well as HTML files.  Therefore, Sphinx supports
so-called “static templates”, like this:</p>
<p>If the name of a file in the <code class="docutils literal notranslate"><span class="pre">static/</span></code> directory of a theme (or in the user’s
static path, for that matter) ends with <code class="docutils literal notranslate"><span class="pre">_t</span></code>, it will be processed by the
template engine.  The <code class="docutils literal notranslate"><span class="pre">_t</span></code> will be left from the final file name.  For
example, the <em>classic</em> theme has a file <code class="docutils literal notranslate"><span class="pre">static/classic.css_t</span></code> which uses
templating to put the color options into the stylesheet.  When a documentation
is built with the classic theme, the output directory will contain a
<code class="docutils literal notranslate"><span class="pre">_static/classic.css</span></code> file where all template tags have been processed.</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>It is not an executable Python file, as opposed to <code class="file docutils literal notranslate"><span class="pre">conf.py</span></code>,
because that would pose an unnecessary security risk if themes are
shared.</p>
</dd>
</dl>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="templating.html" class="btn btn-neutral float-right" title="模板" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="man/sphinx-autogen.html" class="btn btn-neutral float-left" title="sphinx-autogen" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2007-2019, Georg Brandl and the Sphinx team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>